/*! For license information please see main.da1fc977.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=h(n,y);try{c(t,y,g)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===b||e.$$typeof===k||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case I:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case j:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Y(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ie(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Te(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ne(e,t){return e(t)}function Ce(){}var je=!1;function Ae(e,t,n){if(je)return e(t,n);je=!0;try{return Ne(e,t,n)}finally{je=!1,(null!==_e||null!==Se)&&(Ce(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){Pe=!1}function De(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Me=null,Fe=!1,Ue=null,Ve={onError:function(e){Le=!0,Me=e}};function Be(e,t,n,r,i,a,o,s,u){Le=!1,Me=null,De.apply(Ve,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(qe(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ye=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,St,It,Et=!1,Tt=[],Nt=null,Ct=null,jt=null,At=new Map,Rt=new Map,Pt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=gi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void It(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Et=!1,null!==Nt&&Ft(Nt)&&(Nt=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==jt&&Ft(jt)&&(jt=null),At.forEach(Ut),Rt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function qt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&Bt(Nt,e),null!==Ct&&Bt(Ct,e),null!==jt&&Bt(jt,e),At.forEach(t),Rt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var zt=k.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=bt,a=zt.transition;zt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,zt.transition=a}}function Kt(e,t,n,r){var i=bt,a=zt.transition;zt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,zt.transition=a}}function Gt(e,t,n,r){if(Wt){var i=$t(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=Lt(Nt,e,t,n,r,i),!0;case"dragenter":return Ct=Lt(Ct,e,t,n,r,i),!0;case"mouseover":return jt=Lt(jt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Lt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Lt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=M({},cn,{view:0,detail:0}),hn=an(fn),dn=M({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(M({},dn,{dataTransfer:0})),mn=an(M({},fn,{relatedTarget:0})),yn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),kn=an(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function In(){return Sn}var En=M({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Nn=an(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(M({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),jn=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(An),Pn=[9,13,27,32],On=l&&"CompositionEvent"in window,Dn=null;l&&"documentMode"in document&&(Dn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Dn,Mn=l&&(!On||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ee(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Fr(e,0)}function $n(e){if(G(ki(e)))return e}function Xn(e,t){if("change"===e)return t}var Yn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Hn(t,Gn,e,we(e)),Ae(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Sr={};function Ir(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Ir("animationend"),Tr=Ir("animationiteration"),Nr=Ir("animationstart"),Cr=Ir("transitionend"),jr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){jr.set(e,t),u(t,[e])}for(var Pr=0;Pr<Ar.length;Pr++){var Or=Ar[Pr];Rr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Rr(Er,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(Nr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Me;Le=!1,Me=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,c),a=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Xt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=a,i=we(n),o=[];e:{var s=jr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Cn;break;case Er:case Tr:case Nr:u=yn;break;case Cr:u=jn;break;case"scroll":u=hn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Nn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&l.push(Hr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Nn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ki(u),d=null==c?s:ki(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Xn;else if(Wn(s))if(Yn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?ki(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(g=en()):(Jt="value"in(Yt=i)?Yt.value:Yt.textContent,qn=!0)),0<(y=Kr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=Bn(n))&&(b.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Zt=Jt=Yt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Re(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Re(n,a))&&o.unshift(Hr(n,u,s)):i||null!=(u=Re(n,a))&&o.push(Hr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Si(e){return{current:e}}function Ii(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ei(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ni=Si(Ti),Ci=Si(!1),ji=Ti;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ii(Ci),Ii(Ni)}function Oi(e,t,n){if(Ni.current!==Ti)throw Error(a(168));Ei(Ni,t),Ei(Ci,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,ji=Ni.current,Ei(Ni,e),Ei(Ci,Ci.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Di(e,t,ji),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ci),Ii(Ni),Ei(Ni,e)):Ii(Ci),Ei(Ci,n)}var Fi=null,Ui=!1,Vi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function qi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,qi),i}finally{bt=t,Vi=!1}}return null}var zi=[],Wi=0,Hi=null,Ki=0,Gi=[],Qi=0,$i=null,Xi=1,Yi="";function Ji(e,t){zi[Wi++]=Ki,zi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Xi,Gi[Qi++]=Yi,Gi[Qi++]=$i,$i=e;var r=Xi;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else Xi=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Hi;)Hi=zi[--Wi],zi[Wi]=null,Ki=zi[--Wi],zi[Wi]=null;for(;e===$i;)$i=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Xi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,ba=null,ka=null;function wa(){ka=ba=ga=null}function xa(e){var t=ya.current;Ii(ya),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function Na(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ca(e,r)}function Ca(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var ja=!1;function Aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ca(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ca(e,n)}function Da(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,r){var i=e.updateQueue;ja=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=M({},f,h);break e;case 2:ja=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Lu|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nc(t,e,i,r),Da(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nc(t,e,i,r),Da(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(nc(t,e,r,n),Da(t,e,r))}};function qa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function za(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Ri(t)?ji:Ni.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Ri(t)?ji:Ni.current,i.context=Ai(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Dc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,s,u,c){var l=D(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Dc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Oc(o.type,o.key,o.props,null,r.mode,u)).ref=Ka(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,u)).return=r,r=a}return s(r);case R:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(D(o))return m(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Mc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Xa=$a(!0),Ya=$a(!1),Ja={},Za=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Za),Ei(Za,t)}function io(){Ii(Za),Ii(eo),Ii(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ei(eo,e),Ei(Za,n))}function oo(e){eo.current===e&&(Ii(Za),Ii(eo))}var so=Si(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,bo=!1,ko=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(bo)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Io(){var e=0!==ko;return ko=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function No(e,t){return"function"===typeof t?t(e):t}function Co(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Lu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Lu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jo(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ks=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ao(){}function Ro(e,t){var n=vo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ks=!0),r=r.queue,Wo(Do.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Cu)throw Error(a(349));0!==(30&po)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Mo(e)}function Do(e,t,n){return n((function(){Lo(t)&&Mo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Mo(e){var t=Ca(e,1);null!==t&&nc(t,e,1,-1)}function Fo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function Bo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function qo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function zo(e,t){return Bo(8390656,8,e,t)}function Wo(e,t){return qo(2048,8,e,t)}function Ho(e,t){return qo(4,2,e,t)}function Ko(e,t){return qo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4,4,Go.bind(null,t,e),n)}function $o(){}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Lu|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Na(e,t,n,r))){nc(n,e,r,ec()),as(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ta(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Na(e,t,i,r))&&(nc(n,e,r,i=ec()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Ia,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:Ia,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Fo,useDebugValue:$o,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Cu)throw Error(a(349));0!==(30&po)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,zo(Do.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Cu.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ia,useCallback:Xo,useContext:Ia,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Yo,useReducer:Co,useRef:Vo,useState:function(){return Co(No)},useDebugValue:$o,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[Co(No)[0],To().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ia,useCallback:Xo,useContext:Ia,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Yo,useReducer:jo,useRef:Vo,useState:function(){return jo(No)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[jo(No)[0],To().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wu||(Wu=!0,Hu=r),hs(0,t)},n}function vs(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=k.ReactCurrentOwner,ks=!1;function ws(e,t,n,r){t.child=null===e?Ya(t,null,n,r):Xa(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Io(),null===e||ks?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function _s(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Ts(e,t,n,r,i)}function Is(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Pu,Ru),Ru|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Pu,Ru),Ru|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Pu,Ru),Ru|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Pu,Ru),Ru|=r;return ws(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Ri(n)?ji:Ni.current;return a=Ai(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Io(),null===e||ks?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Ns(e,t,n,r,i){if(Ri(n)){var a=!0;Li(t)}else a=!1;if(Sa(t,i),null===t.stateNode)zs(e,t),za(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Ai(t,c=Ri(n)?ji:Ni.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Wa(t,o,r,c),ja=!1;var h=t.memoizedState;o.state=h,Ma(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ci.current||ja?("function"===typeof l&&(Va(t,n,l,r),u=t.memoizedState),(s=ja||qa(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ia(u):u=Ai(t,u=Ri(n)?ji:Ni.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Wa(t,o,r,u),ja=!1,h=t.memoizedState,o.state=h,Ma(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ci.current||ja?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=ja||qa(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,a,i)}function Cs(e,t,n,r,i,a){Es(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Ws(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function js(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function As(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Rs,Ps,Os,Ds={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ms(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Lc(u,i,0,null),e=Dc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Ds,e):Fs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(o=Dc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Ds,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ks||u){if(null!==(r=Cu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ca(e,i),nc(r,e,i,-1))}return vc(),Us(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Xi,Gi[Qi++]=Yi,Gi[Qi++]=$i,Xi=e.id,Yi=e.overflow,$i=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Pc(r,s):(s=Dc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ls(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ds,i}return e=(s=e.child).sibling,i=Pc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Ri(t.type)&&Pi(),Ks(t),null;case 3:return r=t.stateNode,io(),Ii(Ci),Ii(Ni),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Ks(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ps(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ks(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Ur(Dr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Rs(e,t),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Ur(Dr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&b(e,o,l,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Os(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ii(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Ou&&(Ou=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return io(),null===e&&qr(t.stateNode.containerInfo),Ks(t),null;case 10:return xa(t.type._context),Ks(t),null;case 19:if(Ii(so),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Hs(o,!1);else{if(0!==Ou||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Hs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>qu&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ks(t),null}else 2*Ye()-o.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=so.current,Ei(so,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ru)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qs(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(Ci),Ii(Ni),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(so),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Xs=!1,Ys="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,fu=!1;function hu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||Zs(n,t);case 6:var r=lu,i=fu;lu=null,hu(e,t,n),fu=i,null!==(lu=r)&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),qt(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=fu,lu=n.stateNode.containerInfo,fu=!0,hu(e,t,n),lu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!Xs&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sc(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,hu(e,t,n),Xs=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,fu=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===lu)throw Error(a(160));du(o,s,i),lu=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),yu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(m){Sc(e,e.return,m)}try{nu(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:vu(t,e),yu(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(vu(t,e),yu(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&Y(i,o),be(u,s);var l=be(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(vu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(vu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:vu(t,e),yu(e);break;case 13:vu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=Ye())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(l=Xs)||f,vu(t,e),Xs=l):vu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Js=e,f=e.child;null!==f;){for(h=Js=f;null!==Js;){switch(p=(d=Js).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:Zs(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:Zs(d,d.return);break;case 22:if(null!==d.memoizedState){wu(h);continue}}null!==p?(p.return=d,Js=p):wu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Sc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vu(t,e),yu(e),4&r&&pu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){Sc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gu(e,t,n){Js=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$s;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=$s;var c=Xs;if($s=o,(Xs=u)&&!c)for(Js=i;null!==Js;)u=(o=Js).child,22===o.tag&&null!==o.memoizedState?xu(i):null!==u?(u.return=o,Js=u):xu(i);for(;null!==a;)Js=a,bu(a,t,n),a=a.sibling;Js=i,$s=s,Xs=c}ku(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Js=a):ku(e)}}function ku(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&iu(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function wu(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function xu(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Sc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Sc(t,i,u)}}var a=t.return;try{iu(t)}catch(u){Sc(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){Sc(t,o,u)}}}catch(u){Sc(t,t.return,u)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var _u,Su=Math.ceil,Iu=k.ReactCurrentDispatcher,Eu=k.ReactCurrentOwner,Tu=k.ReactCurrentBatchConfig,Nu=0,Cu=null,ju=null,Au=0,Ru=0,Pu=Si(0),Ou=0,Du=null,Lu=0,Mu=0,Fu=0,Uu=null,Vu=null,Bu=0,qu=1/0,zu=null,Wu=!1,Hu=null,Ku=null,Gu=!1,Qu=null,$u=0,Xu=0,Yu=null,Ju=-1,Zu=0;function ec(){return 0!==(6&Nu)?Ye():-1!==Ju?Ju:Ju=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Nu)&&0!==Au?Au&-Au:null!==va.transition?(0===Zu&&(Zu=vt()),Zu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xu)throw Xu=0,Yu=null,Error(a(185));yt(e,n,r),0!==(2&Nu)&&e===Cu||(e===Cu&&(0===(2&Nu)&&(Mu|=n),4===Ou&&sc(e,Au)),rc(e,r),1===n&&0===Nu&&0===(1&t.mode)&&(qu=Ye()+500,Ui&&qi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Cu?Au:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(uc.bind(null,e)):Bi(uc.bind(null,e)),oi((function(){0===(6&Nu)&&qi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Ju=-1,Zu=0,0!==(6&Nu))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Cu?Au:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Nu;Nu|=2;var o=pc();for(Cu===e&&Au===t||(zu=null,qu=Ye()+500,hc(e,t));;)try{gc();break}catch(u){dc(e,u)}wa(),Iu.current=o,Nu=i,null!==ju?t=0:(Cu=null,Au=0,t=Ou)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Du,hc(e,0),sc(e,r),rc(e,Ye()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Du,hc(e,0),sc(e,r),rc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Vu,zu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bu+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vu,zu),t);break}wc(e,Vu,zu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Su(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vu,zu),r);break}wc(e,Vu,zu);break;default:throw Error(a(329))}}}return rc(e,Ye()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Vu,Vu=n,null!==t&&oc(t)),e}function oc(e){null===Vu?Vu=e:Vu.push.apply(Vu,e)}function sc(e,t){for(t&=~Fu,t&=~Mu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Nu))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Du,hc(e,0),sc(e,t),rc(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vu,zu),rc(e,Ye()),null}function cc(e,t){var n=Nu;Nu|=1;try{return e(t)}finally{0===(Nu=n)&&(qu=Ye()+500,Ui&&qi())}}function lc(e){null!==Qu&&0===Qu.tag&&0===(6&Nu)&&xc();var t=Nu;Nu|=1;var n=Tu.transition,r=bt;try{if(Tu.transition=null,bt=1,e)return e()}finally{bt=r,Tu.transition=n,0===(6&(Nu=t))&&qi()}}function fc(){Ru=Pu.current,Ii(Pu)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==ju)for(n=ju.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),Ii(Ci),Ii(Ni),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(so);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Cu=e,ju=e=Pc(e.current,null),Au=Ru=t,Ou=0,Du=null,Fu=Mu=Lu=0,Vu=Uu=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function dc(e,t){for(;;){var n=ju;try{if(wa(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,bo=!1,ko=0,Eu.current=null,null===n||null===n.return){Ou=1,Du=t,ju=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Au,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Ou&&(Ou=2),null===Uu?Uu=[o]:Uu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,ps(0,c,t));break e;case 1:u=c;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ku||!Ku.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}kc(n)}catch(k){t=k,ju===n&&null!==n&&(ju=n=n.return);continue}break}}function pc(){var e=Iu.current;return Iu.current=os,null===e?os:e}function vc(){0!==Ou&&3!==Ou&&2!==Ou||(Ou=4),null===Cu||0===(268435455&Lu)&&0===(268435455&Mu)||sc(Cu,Au)}function mc(e,t){var n=Nu;Nu|=2;var r=pc();for(Cu===e&&Au===t||(zu=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Nu=n,Iu.current=r,null!==ju)throw Error(a(261));return Cu=null,Au=0,Ou}function yc(){for(;null!==ju;)bc(ju)}function gc(){for(;null!==ju&&!$e();)bc(ju)}function bc(e){var t=_u(e.alternate,e,Ru);e.memoizedProps=e.pendingProps,null===t?kc(e):ju=t,Eu.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Ru)))return void(ju=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(ju=n);if(null===e)return Ou=6,void(ju=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(ju=t);ju=t=e}while(null!==t);0===Ou&&(Ou=5)}function wc(e,t,n){var r=bt,i=Tu.transition;try{Tu.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==Qu);if(0!==(6&Nu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Cu&&(ju=Cu=null,Au=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,Cc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tu.transition,Tu.transition=null;var s=bt;bt=1;var u=Nu;Nu|=4,Eu.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}v=tu,tu=!1}(e,n),mu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,gu(n,e,i),Xe(),Nu=u,bt=s,Tu.transition=o}else e.current=n;if(Gu&&(Gu=!1,Qu=e,$u=i),o=e.pendingLanes,0===o&&(Ku=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,e=Hu,Hu=null,e;0!==(1&$u)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Yu?Xu++:(Xu=0,Yu=e):Xu=0,qi()}(e,t,n,r)}finally{Tu.transition=i,bt=r}return null}function xc(){if(null!==Qu){var e=kt($u),t=Tu.transition,n=bt;try{if(Tu.transition=null,bt=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,$u=0,0!==(6&Nu))throw Error(a(331));var i=Nu;for(Nu|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Js=l;null!==Js;){var f=Js;switch(f.tag){case 0:case 11:case 15:nu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Js=h;else for(;null!==Js;){var d=(f=Js).sibling,p=f.return;if(au(f),f===l){Js=null;break}if(null!==d){d.return=p,Js=d;break}Js=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Js=g;break e}Js=o.return}}var b=e.current;for(Js=b;null!==Js;){var k=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Js=k;else e:for(s=b;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(x){Sc(u,u.return,x)}if(u===s){Js=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Js=w;break e}Js=u.return}}if(Nu=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Tu.transition=t}}return!1}function _c(e,t,n){e=Oa(e,t=ps(0,t=ls(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=Oa(t,e=vs(t,e=ls(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Cu===e&&(Au&n)===n&&(4===Ou||3===Ou&&(130023424&Au)===Au&&500>Ye()-Bu?hc(e,0):Fu|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Ca(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ec(e,n)}function Cc(e,t){return Ge(e,t)}function jc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new jc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Rc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Dc(n.children,i,o,t);case S:s=8,i|=8;break;case I:return(e=Ac(12,n,t,2|i)).elementType=I,e.lanes=o,e;case C:return(e=Ac(13,n,t,i)).elementType=C,e.lanes=o,e;case j:return(e=Ac(19,n,t,i)).elementType=j,e.lanes=o,e;case P:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case T:s=9;break e;case N:s=11;break e;case A:s=14;break e;case R:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ac(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Dc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,s,u){return e=new Uc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ac(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Aa(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function qc(e){if(!e)return Ti;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Di(e,n,t)}return t}function zc(e,t,n,r,i,a,o,s,u){return(e=Vc(n,r,!0,e,0,a,0,s,u)).context=qc(null),n=e.current,(a=Pa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Wc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(nc(e,i,o,a),Da(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}_u=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:js(t),da();break;case 5:ao(t);break;case 1:Ri(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ms(e,t,n):(Ei(so,1&so.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ei(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Is(e,t,n)}return Ws(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zs(e,t),e=t.pendingProps;var i=Ai(t,Ni.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Aa(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Cs(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===A)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Ns(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=_s(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ns(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(js(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),Ma(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=As(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=As(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ws(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Es(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Ms(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ei(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ci.current){t=Ws(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Pa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),_a(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ia(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_s(e,t,r,i=ma(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),zs(e,t),t.tag=1,Ri(r)?(e=!0,Li(t)):e=!1,Sa(t,n),za(t,r,i),Ha(t,r,i,n),Cs(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Is(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hc(o);s.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hc(u);s.call(e)}}var u=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,qr(8===e.nodeType?e.parentNode:e),lc((function(){Wc(t,u,n,r)})),u}(n,t,e,i,r);return Hc(o)}Xc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Xc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Wc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Ye()),0===(6&Nu)&&(qu=Ye()+500,qi()))}break;case 13:lc((function(){var t=Ca(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Ca(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Ca(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},St=function(){return bt},It=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=cc,Ce=lc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,Ee,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},900:function(e,t,n){"use strict";n(459)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,v(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+N(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),C(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+N(s=e[c],c);u+=C(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=C(s=s.value,t,i,l=a+N(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function j(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:_};t.Children={map:j,forEach:function(e,t,n){j(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return j(e,(function(){t++})),t},toArray:function(e){return j(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,P(x);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,I=null,E=-1,T=5,N=-1;function C(){return!(t.unstable_now()-N<T)}function j(){if(null!==I){var e=t.unstable_now();N=e;var n=!0;try{n=I(!0,e)}finally{n?_():(S=!1,I=null)}}else S=!1}if("function"===typeof b)_=function(){b(j)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,R=A.port2;A.port1.onmessage=j,_=function(){R.postMessage(null)}}else _=function(){y(j,0)};function P(e){I=e,S||(S=!0,_())}function O(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,O(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,P(x))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},561:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){"use strict";var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=s(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!u){if(u=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return u((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},248:function(e,t,n){"use strict";e.exports=n(561)},327:function(e,t,n){"use strict";e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/vernaloqui/Farmershub.git/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return lt},SDK_VERSION:function(){return _n},_DEFAULT_ENTRY_NAME:function(){return ln},_addComponent:function(){return pn},_addOrOverwriteComponent:function(){return vn},_apps:function(){return hn},_clearComponents:function(){return bn},_components:function(){return dn},_getProvider:function(){return yn},_registerComponent:function(){return mn},_removeServiceInstance:function(){return gn},deleteApp:function(){return Tn},getApp:function(){return In},getApps:function(){return En},initializeApp:function(){return Sn},onLog:function(){return jn},registerVersion:function(){return Cn},setLogLevel:function(){return An}});var t,r=n(791),i=n.t(r,2),a=n(250);function o(e){if(Array.isArray(e))return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||u(e,t)||c()}function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){return function(e){if(Array.isArray(e))return s(e)}(e)||f(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function v(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function y(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){if(t&&("object"===p(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function S(e){var t=w();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _(this,n)}}function I(e,t,n){return I=w()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&g(i,n.prototype),i},I.apply(null,arguments)}function E(e){var t="function"===typeof Map?new Map:void 0;return E=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return I(e,arguments,k(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),g(n,e)},E(e)}function T(e){return o(e)||f(e)||u(e)||c()}function N(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var j,A="popstate";function R(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function P(e){return{usr:e.state,key:e.key}}function O(e,t,n,r){return void 0===n&&(n=null),C({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?L(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function D(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function L(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function M(e){var t="undefined"!==typeof window&&"undefined"!==typeof window.location&&"null"!==window.location.origin?window.location.origin:window.location.href,n="string"===typeof e?e:D(e);return R(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}function F(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,u=a.v5Compat,c=void 0!==u&&u,l=s.history,f=t.Pop,h=null;function d(){f=t.Pop,h&&h({action:f,location:p.location})}var p={get action(){return f},get location(){return e(s,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(A,d),h=e,function(){s.removeEventListener(A,d),h=null}},createHref:function(e){return n(s,e)},encodeLocation:function(e){var t=M("string"===typeof e?e:D(e));return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=O(p.location,e,n);r&&r(i,e);var a=P(i),o=p.createHref(i);try{l.pushState(a,"",o)}catch(u){s.location.assign(o)}c&&h&&h({action:f,location:p.location})},replace:function(e,n){f=t.Replace;var i=O(p.location,e,n);r&&r(i,e);var a=P(i),o=p.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:p.location})},go:function(e){return l.go(e)}};return p}function U(e,t,n){void 0===n&&(n="/");var r=Q(("string"===typeof t?L(t):t).pathname||"/",n);if(null==r)return null;var i=V(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=H(i[o],G(r));return a}function V(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(R(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=Z([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(R(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),V(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:W(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=N(B(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function B(e){var t=e.split("/");if(0===t.length)return[];var n=T(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=B(i.join("/")),u=[];return u.push.apply(u,h(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&u.push.apply(u,h(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(j||(j={}));var q=/^:\w+$/,z=function(e){return"*"===e};function W(e,t){var n=e.split("/"),r=n.length;return n.some(z)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!z(e)})).reduce((function(e,t){return e+(q.test(t)?3:""===t?1:10)}),r)}function H(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=K({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:Z([i,l.pathname]),pathnameBase:ee(Z([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=Z([i,l.pathnameBase]))}return a}function K(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);$("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return $(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function G(e){try{return decodeURI(e)}catch(t){return $(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Q(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function $(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function X(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Y(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function J(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=L(e):(R(!(i=C({},e)).pathname||!i.pathname.includes("?"),X("?","pathname","search",i)),R(!i.pathname||!i.pathname.includes("#"),X("#","pathname","hash",i)),R(!i.search||!i.search.includes("#"),X("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?L(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:te(a),hash:ne(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var Z=function(e){return e.join("/").replace(/\/\/+/g,"/")},ee=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},te=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ne=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},re=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n)}(E(Error));var ie=y((function e(t,n,r,i){d(this,e),void 0===i&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}));function ae(e){return e instanceof ie}var oe=["post","put","patch","delete"],se=(new Set(oe),["get"].concat(oe));new Set(se),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ue.apply(this,arguments)}var ce="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},le=r.useState,fe=r.useEffect,he=r.useLayoutEffect,de=r.useDebugValue;function pe(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!ce(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,i.useSyncExternalStore;var ve=r.createContext(null);var me=r.createContext(null);var ye=r.createContext(null);var ge=r.createContext(null);var be=r.createContext(null);var ke=r.createContext({outlet:null,matches:[]});var we=r.createContext(null);function xe(){return null!=r.useContext(be)}function _e(){return xe()||R(!1),r.useContext(be).location}function Se(){xe()||R(!1);var e=r.useContext(ge),t=e.basename,n=e.navigator,i=r.useContext(ke).matches,a=_e().pathname,o=JSON.stringify(Y(i).map((function(e){return e.pathnameBase}))),s=r.useRef(!1);r.useEffect((function(){s.current=!0}));var u=r.useCallback((function(e,r){if(void 0===r&&(r={}),s.current)if("number"!==typeof e){var i=J(e,JSON.parse(o),a,"path"===r.relative);"/"!==t&&(i.pathname="/"===i.pathname?t:Z([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state,r)}else n.go(e)}),[t,n,o,a]);return u}function Ie(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(ke).matches,a=_e().pathname,o=JSON.stringify(Y(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return J(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function Ee(){var e=function(){var e,t=r.useContext(we),n=Re(Ne.UseRouteError),i=Pe(Ne.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=ae(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unhandled Thrown Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",r.createElement("code",{style:o},"errorElement")," props on\xa0",r.createElement("code",{style:o},"<Route>")))}var Te,Ne,Ce=function(e){b(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).state={location:e.location,error:e.error},r}return y(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(ke.Provider,{value:this.props.routeContext},r.createElement(we.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(r.Component);function je(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(ve);return a&&a.static&&a.staticContext&&n.route.errorElement&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(ke.Provider,{value:t},i)}function Ae(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var i=e,a=null==n?void 0:n.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||R(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,s){var u=o.route.id?null==a?void 0:a[o.route.id]:null,c=n?o.route.errorElement||r.createElement(Ee,null):null,l=t.concat(i.slice(0,s+1)),f=function(){return r.createElement(je,{match:o,routeContext:{outlet:e,matches:l}},u?c:void 0!==o.route.element?o.route.element:e)};return n&&(o.route.errorElement||0===s)?r.createElement(Ce,{location:n.location,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function Re(e){var t=r.useContext(me);return t||R(!1),t}function Pe(e){var t=function(e){var t=r.useContext(ke);return t||R(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||R(!1),n.route.id}!function(e){e.UseRevalidator="useRevalidator"}(Te||(Te={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Ne||(Ne={}));var Oe;function De(e){R(!1)}function Le(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,s=e.location,u=e.navigationType,c=void 0===u?t.Pop:u,l=e.navigator,f=e.static,h=void 0!==f&&f;xe()&&R(!1);var d=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof s&&(s=L(s));var v=s,m=v.pathname,y=void 0===m?"/":m,g=v.search,b=void 0===g?"":g,k=v.hash,w=void 0===k?"":k,x=v.state,_=void 0===x?null:x,S=v.key,I=void 0===S?"default":S,E=r.useMemo((function(){var e=Q(y,d);return null==e?null:{pathname:e,search:b,hash:w,state:_,key:I}}),[d,y,b,w,_,I]);return null==E?null:r.createElement(ge.Provider,{value:p},r.createElement(be.Provider,{children:o,value:{location:E,navigationType:c}}))}function Me(e){var n=e.children,i=e.location,a=r.useContext(ve);return function(e,n){xe()||R(!1);var i,a=r.useContext(ge).navigator,o=r.useContext(me),s=r.useContext(ke).matches,u=s[s.length-1],c=u?u.params:{},l=(u&&u.pathname,u?u.pathnameBase:"/"),f=(u&&u.route,_e());if(n){var h,d="string"===typeof n?L(n):n;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||R(!1),i=d}else i=f;var p=i.pathname||"/",v=U(e,{pathname:"/"===l?p:p.slice(l.length)||"/"}),m=Ae(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:Z([l,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:Z([l,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,o||void 0);return n&&m?r.createElement(be.Provider,{value:{location:ue({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:t.Pop}},m):m}(a&&!n?a.router.routes:Ue(n),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Oe||(Oe={}));var Fe=new Promise((function(){}));r.Component;function Ue(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e))if(e.type!==r.Fragment){e.type!==De&&R(!1),e.props.index&&e.props.children&&R(!1);var a=[].concat(h(t),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=Ue(e.props.children,a)),n.push(o)}else n.push.apply(n,Ue(e.props.children,t))})),n}function Ve(){return Ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve.apply(this,arguments)}function Be(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var qe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function ze(e){var t,n=e.basename,i=e.children,a=e.window,o=r.useRef();null==o.current&&(o.current=(void 0===(t={window:a,v5Compat:!0})&&(t={}),F((function(e,t){var n=e.location;return O("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:D(t)}),null,t)));var s=o.current,u=l(r.useState({action:s.action,location:s.location}),2),c=u[0],f=u[1];return r.useLayoutEffect((function(){return s.listen(f)}),[s]),r.createElement(Le,{basename:n,children:i,location:c.location,navigationType:c.action,navigator:s})}var We=r.forwardRef((function(e,t){var n=e.onClick,i=e.relative,a=e.reloadDocument,o=e.replace,s=e.state,u=e.target,c=e.to,l=e.preventScrollReset,f=Be(e,qe),h=function(e,t){var n=(void 0===t?{}:t).relative;xe()||R(!1);var i=r.useContext(ge),a=i.basename,o=i.navigator,s=Ie(e,{relative:n}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==a&&(f="/"===c?a:Z([a,c])),o.createHref({pathname:f,search:l,hash:u})}(c,{relative:i}),d=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,s=n.preventScrollReset,u=n.relative,c=Se(),l=_e(),f=Ie(e,{relative:u});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:D(l)===D(f);c(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,f,a,o,i,e,s,u])}(c,{replace:o,state:s,target:u,preventScrollReset:l,relative:i});return r.createElement("a",Ve({},f,{href:h,onClick:a?n:function(e){n&&n(e),e.defaultPrevented||d(e)},ref:t,target:u}))}));var He,Ke;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(He||(He={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ke||(Ke={}));function Ge(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qe=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},$e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Qe(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Xe=function(e){return function(e){var t=Qe(e);return $e.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ye=function(e){try{return $e.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Je(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Je(e[n],t[n]));return e}function Ze(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function et(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function tt(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function nt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function rt(){var e=Ze();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function it(){try{return"object"===typeof indexedDB}catch(e){return!1}}var at=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},ot=function(){try{return at()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/vernaloqui/Farmershub.git",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Ye(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},st=function(){var e;return null===(e=ot())||void 0===e?void 0:e.config},ut=function(){function e(){var t=this;d(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return y(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function ct(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Xe(JSON.stringify({alg:"none",type:"JWT"})),Xe(JSON.stringify(a)),""].join(".")}var lt=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(x(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(x(a),ft.prototype.create),a}return y(n)}(E(Error)),ft=function(){function e(t,n,r){d(this,e),this.service=t,this.serviceName=n,this.errors=r}return y(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?ht(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new lt(n,a,t);return o}}]),e}();function ht(e,t){return e.replace(dt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var dt=/\{\$([^}]+)}/g;function pt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function vt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(mt(s)&&mt(u)){if(!vt(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function mt(e){return null!==e&&"object"===typeof e}function yt(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function gt(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function bt(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function kt(e,t){var n=new wt(e,t);return n.subscribe.bind(n)}var wt=function(){function e(t,n){var r=this;d(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return y(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=N(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=xt),void 0===r.error&&(r.error=xt),void 0===r.complete&&(r.complete=xt);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function xt(){}function _t(e){return e&&e._delegate?e._delegate:e}function St(){St=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(C){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),s=new E(i||[]);return r(o,"_invoke",{value:x(e,n,s)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var f={};function h(){}function d(){}function v(){}var m={};u(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==t&&n.call(g,a)&&(m=g);var b=v.prototype=h.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,s){var u=l(e[r],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==p(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return d.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:d,configurable:!0}),d.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},k(w.prototype),u(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function It(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Et(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){It(a,r,i,o,s,"next",e)}function s(e){It(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Tt=function(){function e(t,n,r){d(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return y(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Nt="[DEFAULT]",Ct=function(){function e(t,n){d(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return y(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ut;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Nt})}catch(u){}var t,n=N(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Et(St().mark((function e(){var t;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(h(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),h(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=N(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=l(i.value,2),u=s[0],c=s[1],f=this.normalizeInstanceIdentifier(u);r===f&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(OS){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Nt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(OS){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt;return this.component?this.component.multipleInstances?e:Nt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var jt,At,Rt=function(){function e(t){d(this,e),this.name=t,this.providers=new Map}return y(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ct(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Pt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(At||(At={}));var Ot={debug:At.DEBUG,verbose:At.VERBOSE,info:At.INFO,warn:At.WARN,error:At.ERROR,silent:At.SILENT},Dt=At.INFO,Lt=(Ge(jt={},At.DEBUG,"log"),Ge(jt,At.VERBOSE,"log"),Ge(jt,At.INFO,"info"),Ge(jt,At.WARN,"warn"),Ge(jt,At.ERROR,"error"),jt),Mt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Lt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Ft=function(){function e(t){d(this,e),this.name=t,this._logLevel=Dt,this._logHandler=Mt,this._userLogHandler=null,Pt.push(this)}return y(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in At))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ot[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,At.DEBUG].concat(t)),this._logHandler.apply(this,[this,At.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,At.VERBOSE].concat(t)),this._logHandler.apply(this,[this,At.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,At.INFO].concat(t)),this._logHandler.apply(this,[this,At.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,At.WARN].concat(t)),this._logHandler.apply(this,[this,At.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,At.ERROR].concat(t)),this._logHandler.apply(this,[this,At.ERROR].concat(t))}}]),e}();function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach((function(t){Ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bt,qt;var zt=new WeakMap,Wt=new WeakMap,Ht=new WeakMap,Kt=new WeakMap,Gt=new WeakMap;var Qt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Wt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ht.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yt(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function $t(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(qt||(qt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Jt(this),n),Yt(zt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Yt(e.apply(Jt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Jt(this),t].concat(r));return Ht.set(a,t.sort?t.sort():[t]),Yt(a)}}function Xt(e){return"function"===typeof e?$t(e):(e instanceof IDBTransaction&&function(e){if(!Wt.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Wt.set(e,t)}}(e),t=e,(Bt||(Bt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Qt):e);var t}function Yt(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Yt(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&zt.set(t,e)})).catch((function(){})),Gt.set(t,e),t}(e);if(Kt.has(e))return Kt.get(e);var t=Xt(e);return t!==e&&(Kt.set(e,t),Gt.set(t,e)),t}var Jt=function(e){return Gt.get(e)};var Zt,en,tn=["get","getKey","getAll","getAllKeys","count"],nn=["put","add","delete","clear"],rn=new Map;function an(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(rn.get(t))return rn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=nn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||tn.includes(n))){var a=function(){var e=Et(St().mark((function e(t){var a,o,s,u,c,l,f=arguments;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return rn.set(t,a),a}}}Qt=function(e){return Vt(Vt({},e),{},{get:function(t,n,r){return an(t,n)||e.get(t,n,r)},has:function(t,n){return!!an(t,n)||e.has(t,n)}})}(Qt);var on=function(){function e(t){d(this,e),this.container=t}return y(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var sn="@firebase/app",un="0.9.0",cn=new Ft("@firebase/app"),ln="[DEFAULT]",fn=(Ge(Zt={},sn,"fire-core"),Ge(Zt,"@firebase/app-compat","fire-core-compat"),Ge(Zt,"@firebase/analytics","fire-analytics"),Ge(Zt,"@firebase/analytics-compat","fire-analytics-compat"),Ge(Zt,"@firebase/app-check","fire-app-check"),Ge(Zt,"@firebase/app-check-compat","fire-app-check-compat"),Ge(Zt,"@firebase/auth","fire-auth"),Ge(Zt,"@firebase/auth-compat","fire-auth-compat"),Ge(Zt,"@firebase/database","fire-rtdb"),Ge(Zt,"@firebase/database-compat","fire-rtdb-compat"),Ge(Zt,"@firebase/functions","fire-fn"),Ge(Zt,"@firebase/functions-compat","fire-fn-compat"),Ge(Zt,"@firebase/installations","fire-iid"),Ge(Zt,"@firebase/installations-compat","fire-iid-compat"),Ge(Zt,"@firebase/messaging","fire-fcm"),Ge(Zt,"@firebase/messaging-compat","fire-fcm-compat"),Ge(Zt,"@firebase/performance","fire-perf"),Ge(Zt,"@firebase/performance-compat","fire-perf-compat"),Ge(Zt,"@firebase/remote-config","fire-rc"),Ge(Zt,"@firebase/remote-config-compat","fire-rc-compat"),Ge(Zt,"@firebase/storage","fire-gcs"),Ge(Zt,"@firebase/storage-compat","fire-gcs-compat"),Ge(Zt,"@firebase/firestore","fire-fst"),Ge(Zt,"@firebase/firestore-compat","fire-fst-compat"),Ge(Zt,"fire-js","fire-js"),Ge(Zt,"firebase","fire-js-all"),Zt),hn=new Map,dn=new Map;function pn(e,t){try{e.container.addComponent(t)}catch(n){cn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function vn(e,t){e.container.addOrOverwriteComponent(t)}function mn(e){var t=e.name;if(dn.has(t))return cn.debug("There were multiple attempts to register component ".concat(t,".")),!1;dn.set(t,e);var n,r=N(hn.values());try{for(r.s();!(n=r.n()).done;){pn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function yn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function gn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ln;yn(e,t).clearInstance(n)}function bn(){dn.clear()}var kn=(Ge(en={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ge(en,"bad-app-name","Illegal App name: '{$appName}"),Ge(en,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Ge(en,"app-deleted","Firebase App named '{$appName}' already deleted"),Ge(en,"no-options","Need to provide options, when not being deployed to hosting via source."),Ge(en,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ge(en,"invalid-log-argument","First argument to `onLog` must be null or a function."),Ge(en,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Ge(en,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Ge(en,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Ge(en,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),en),wn=new ft("app","Firebase",kn),xn=function(){function e(t,n,r){var i=this;d(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tt("app",(function(){return i}),"PUBLIC"))}return y(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw wn.create("app-deleted",{appName:this._name})}}]),e}(),_n="9.15.0";function Sn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:ln,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw wn.create("bad-app-name",{appName:String(a)});if(n||(n=st()),!n)throw wn.create("no-options");var o=hn.get(a);if(o){if(vt(n,o.options)&&vt(i,o.config))return o;throw wn.create("duplicate-app",{appName:a})}var s,u=new Rt(a),c=N(dn.values());try{for(c.s();!(s=c.n()).done;){var l=s.value;u.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new xn(n,i,u);return hn.set(a,f),f}function In(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln,t=hn.get(e);if(!t&&e===ln)return Sn();if(!t)throw wn.create("no-app",{appName:e});return t}function En(){return Array.from(hn.values())}function Tn(e){return Nn.apply(this,arguments)}function Nn(){return(Nn=Et(St().mark((function e(t){var n;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!hn.has(n)){e.next=6;break}return hn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cn(e,t,n){var r,i=null!==(r=fn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void cn.warn(s.join(" "))}mn(new Tt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function jn(e,t){if(null!==e&&"function"!==typeof e)throw wn.create("invalid-log-argument");!function(e,t){var n,r=N(Pt);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ot[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:At[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function An(e){var t;t=e,Pt.forEach((function(e){e.setLogLevel(t)}))}var Rn="firebase-heartbeat-store",Pn=null;function On(){return Pn||(Pn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Yt(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Yt(s.result),e.oldVersion,e.newVersion,Yt(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Rn)}}).catch((function(e){throw wn.create("idb-open",{originalErrorMessage:e.message})}))),Pn}function Dn(e){return Ln.apply(this,arguments)}function Ln(){return Ln=Et(St().mark((function e(t){var n,r;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,On();case 3:return n=e.sent,e.abrupt("return",n.transaction(Rn).objectStore(Rn).get(Un(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof lt?cn.warn(e.t0.message):(r=wn.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),cn.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ln.apply(this,arguments)}function Mn(e,t){return Fn.apply(this,arguments)}function Fn(){return Fn=Et(St().mark((function e(t,n){var r,i,a,o;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,On();case 3:return r=e.sent,i=r.transaction(Rn,"readwrite"),a=i.objectStore(Rn),e.next=8,a.put(n,Un(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof lt?cn.warn(e.t0.message):(o=wn.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),cn.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Fn.apply(this,arguments)}function Un(e){return"".concat(e.name,"!").concat(e.options.appId)}var Vn=function(){function e(t){var n=this;d(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Hn(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return y(e,[{key:"triggerHeartbeat",value:function(){var e=Et(St().mark((function e(){var t,n,r;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Bn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Et(St().mark((function e(){var t,n,r,i,a;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Bn(),n=qn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Xe(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Bn(){return(new Date).toISOString().substring(0,10)}function qn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=N(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Kn(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Kn(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var zn,Wn,Hn=function(){function e(t){d(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return y(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Et(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(it()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Et(St().mark((function e(){var t;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Dn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Et(St().mark((function e(t){var n,r;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Mn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Et(St().mark((function e(t){var n,r;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Mn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(h(r.heartbeats),h(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Kn(e){return Xe(JSON.stringify({version:2,heartbeats:e})).length}zn="",mn(new Tt("platform-logger",(function(e){return new on(e)}),"PRIVATE")),mn(new Tt("heartbeat",(function(e){return new Vn(e)}),"PRIVATE")),Cn(sn,un,zn),Cn(sn,un,"esm2017"),Cn("fire-js","");var Gn=function(){function e(t,n){var r=this;d(this,e),this._delegate=t,this.firebase=n,pn(t,new Tt("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return y(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Tn(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ln;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ln;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){pn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){vn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Qn=(Ge(Wn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ge(Wn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Wn),$n=new ft("app-compat","Firebase",Qn);var Xn=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Sn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(pt(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Cn,setLogLevel:An,onLog:jn,apps:null,SDK_VERSION:_n,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(mn(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw $n.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Je(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!pt(n,e=e||ln))throw $n.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Gn);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Je(n,e)},createSubscribe:kt,ErrorFactory:ft,deepExtend:Je}),n}(),Yn=new Ft("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Yn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Jn=self.firebase.SDK_VERSION;Jn&&Jn.indexOf("LITE")>=0&&Yn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Zn=Xn;!function(e){Cn("@firebase/app-compat","0.2.0",e)}();function er(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}function tr(){return tr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=er(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},tr.apply(this,arguments)}Zn.registerVersion("firebase","9.15.0","app-compat");function nr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var rr;Object.create;var ir="facebook.com",ar="github.com",or="google.com",sr="password",ur="twitter.com",cr="EMAIL_SIGNIN",lr="PASSWORD_RESET",fr="RECOVER_EMAIL",hr="REVERT_SECOND_FACTOR_ADDITION",dr="VERIFY_AND_CHANGE_EMAIL",pr="VERIFY_EMAIL";function vr(){return Ge({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var mr=function(){var e;return Ge(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Ge(e,"argument-error",""),Ge(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Ge(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Ge(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Ge(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Ge(e,"cordova-not-ready","Cordova framework is not ready."),Ge(e,"cors-unsupported","This browser is not supported."),Ge(e,"credential-already-in-use","This credential is already associated with a different user account."),Ge(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Ge(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Ge(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Ge(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Ge(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Ge(e,"email-already-in-use","The email address is already in use by another account."),Ge(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Ge(e,"expired-action-code","The action code has expired."),Ge(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Ge(e,"internal-error","An internal AuthError has occurred."),Ge(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Ge(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Ge(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Ge(e,"invalid-auth-event","An internal AuthError has occurred."),Ge(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Ge(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Ge(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Ge(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Ge(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Ge(e,"invalid-email","The email address is badly formatted."),Ge(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Ge(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Ge(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Ge(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Ge(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Ge(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Ge(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Ge(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Ge(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Ge(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Ge(e,"wrong-password","The password is invalid or the user does not have a password."),Ge(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Ge(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Ge(e,"invalid-provider-id","The specified provider ID is invalid."),Ge(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Ge(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Ge(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Ge(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Ge(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Ge(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Ge(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Ge(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Ge(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Ge(e,"missing-continue-uri","A continue URL must be provided in the request."),Ge(e,"missing-iframe-start","An internal AuthError has occurred."),Ge(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Ge(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Ge(e,"missing-multi-factor-info","No second factor identifier is provided."),Ge(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Ge(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Ge(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Ge(e,"app-deleted","This instance of FirebaseApp has been deleted."),Ge(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Ge(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Ge(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Ge(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Ge(e,"no-auth-event","An internal AuthError has occurred."),Ge(e,"no-such-provider","User was not linked to an account with the given provider."),Ge(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Ge(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Ge(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Ge(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Ge(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Ge(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Ge(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Ge(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Ge(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Ge(e,"rejected-credential","The request contains malformed or mismatching credentials."),Ge(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Ge(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Ge(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Ge(e,"timeout","The operation has timed out."),Ge(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Ge(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Ge(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Ge(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Ge(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Ge(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Ge(e,"unverified-email","The operation requires a verified email."),Ge(e,"user-cancelled","The user did not grant your application the permissions it requested."),Ge(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Ge(e,"user-disabled","The user account has been disabled by an administrator."),Ge(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Ge(e,"user-signed-out",""),Ge(e,"weak-password","The password must be 6 characters long or more."),Ge(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Ge(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},yr=vr,gr=new ft("auth","Firebase",vr()),br=new Ft("@firebase/auth");function kr(e){if(br.logLevel<=At.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];br.error.apply(br,["Auth (".concat(_n,"): ").concat(e)].concat(n))}}function wr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ir.apply(void 0,[e].concat(n))}function xr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ir.apply(void 0,[e].concat(n))}function _r(e,t,n){var r=Object.assign(Object.assign({},yr()),Ge({},t,n));return new ft("auth","Firebase",r).create(t,{appName:e.name})}function Sr(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&wr(e,"argument-error"),_r(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ir(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=h(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(h(o)))}return gr.create.apply(gr,[e].concat(n))}function Er(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ir.apply(void 0,[t].concat(r))}}function Tr(e){var t="INTERNAL ASSERTION FAILED: "+e;throw kr(t),new Error(t)}function Nr(e,t){e||Tr(t)}var Cr=new Map;function jr(e){Nr(e instanceof Function,"Expected a class definition");var t=Cr.get(e);return t?(Nr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Cr.set(e,t),t)}function Ar(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Rr(){return"http:"===Pr()||"https:"===Pr()}function Pr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Or=function(){function e(t,n){d(this,e),this.shortDelay=t,this.longDelay=n,Nr(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())||nt()}return y(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Rr()||tt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Dr(e,t){Nr(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Lr=function(){function e(){d(this,e)}return y(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Mr=(Ge(rr={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Ge(rr,"MISSING_CUSTOM_TOKEN","internal-error"),Ge(rr,"INVALID_IDENTIFIER","invalid-email"),Ge(rr,"MISSING_CONTINUE_URI","internal-error"),Ge(rr,"INVALID_PASSWORD","wrong-password"),Ge(rr,"MISSING_PASSWORD","internal-error"),Ge(rr,"EMAIL_EXISTS","email-already-in-use"),Ge(rr,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Ge(rr,"INVALID_IDP_RESPONSE","invalid-credential"),Ge(rr,"INVALID_PENDING_TOKEN","invalid-credential"),Ge(rr,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Ge(rr,"MISSING_REQ_TYPE","internal-error"),Ge(rr,"EMAIL_NOT_FOUND","user-not-found"),Ge(rr,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Ge(rr,"EXPIRED_OOB_CODE","expired-action-code"),Ge(rr,"INVALID_OOB_CODE","invalid-action-code"),Ge(rr,"MISSING_OOB_CODE","internal-error"),Ge(rr,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Ge(rr,"INVALID_ID_TOKEN","invalid-user-token"),Ge(rr,"TOKEN_EXPIRED","user-token-expired"),Ge(rr,"USER_NOT_FOUND","user-token-expired"),Ge(rr,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Ge(rr,"INVALID_CODE","invalid-verification-code"),Ge(rr,"INVALID_SESSION_INFO","invalid-verification-id"),Ge(rr,"INVALID_TEMPORARY_PROOF","invalid-credential"),Ge(rr,"MISSING_SESSION_INFO","missing-verification-id"),Ge(rr,"SESSION_EXPIRED","code-expired"),Ge(rr,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Ge(rr,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Ge(rr,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Ge(rr,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Ge(rr,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Ge(rr,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Ge(rr,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Ge(rr,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Ge(rr,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Ge(rr,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Ge(rr,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),rr),Fr=new Or(3e4,6e4);function Ur(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Vr(e,t,n,r){return Br.apply(this,arguments)}function Br(){return Br=Et(St().mark((function e(t,n,r,i){var a,o=arguments;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",qr(t,a,Et(St().mark((function e(){var a,o,s,u;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=yt(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Lr.fetch()(Kr(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Br.apply(this,arguments)}function qr(e,t,n){return zr.apply(this,arguments)}function zr(){return zr=Et(St().mark((function e(t,n,r){var i,a,o,s,u,c,f,h,d,p;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Mr),n),e.prev=2,a=new Gr(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Qr(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),f=l(c,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Qr(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Qr(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Qr(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw _r(t,p,d);case 34:wr(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof lt)){e.next=41;break}throw e.t0;case 41:wr(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),zr.apply(this,arguments)}function Wr(e,t,n,r){return Hr.apply(this,arguments)}function Hr(){return Hr=Et(St().mark((function e(t,n,r,i){var a,o,s=arguments;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Vr(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&wr(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Hr.apply(this,arguments)}function Kr(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Dr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Gr=function(){function e(t){var n=this;d(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(xr(n.auth,"network-request-failed"))}),Fr.get())}))}return y(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Qr(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=xr(e,t,r);return i.customData._tokenResponse=n,i}function $r(e,t){return Xr.apply(this,arguments)}function Xr(){return Xr=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vr(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Xr.apply(this,arguments)}function Yr(e,t){return Jr.apply(this,arguments)}function Jr(){return Jr=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Jr.apply(this,arguments)}function Zr(e,t){return ei.apply(this,arguments)}function ei(){return ei=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vr(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),ei.apply(this,arguments)}function ti(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function ni(){return ni=Et(St().mark((function e(t){var n,r,i,a,o,s,u=arguments;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=_t(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Er((a=ii(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ti(ri(a.auth_time)),issuedAtTime:ti(ri(a.iat)),expirationTime:ti(ri(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),ni.apply(this,arguments)}function ri(e){return 1e3*Number(e)}function ii(e){var t=l(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return kr("JWT malformed, contained fewer than 3 sections"),null;try{var a=Ye(r);return a?JSON.parse(a):(kr("Failed to decode base64 JWT payload"),null)}catch(o){return kr("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function ai(e,t){return oi.apply(this,arguments)}function oi(){return oi=Et(St().mark((function e(t,n){var r=arguments;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof lt&&si(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),oi.apply(this,arguments)}function si(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var ui=function(){function e(t){d(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return y(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Et(St().mark((function t(){return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Et(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ci=function(){function e(t,n){d(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return y(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ti(this.lastLoginAt),this.creationTime=ti(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function li(e){return fi.apply(this,arguments)}function fi(){return fi=Et(St().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,ai(t,Zr(r,{idToken:i}));case 6:Er(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?pi(o.providerUserInfo):[],u=di(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ci(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),fi.apply(this,arguments)}function hi(){return(hi=Et(St().mark((function e(t){var n;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_t(t),e.next=3,li(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function di(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(h(n),h(t))}function pi(e){return e.map((function(e){var t=e.providerId,n=nr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function vi(e,t){return mi.apply(this,arguments)}function mi(){return mi=Et(St().mark((function e(t,n){var r;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qr(t,{},Et(St().mark((function e(){var r,i,a,o,s,u;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yt({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Kr(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Lr.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),mi.apply(this,arguments)}var yi=function(){function e(){d(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return y(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Er(e.idToken,"internal-error"),Er("undefined"!==typeof e.idToken,"internal-error"),Er("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ii(e);return Er(t,"internal-error"),Er("undefined"!==typeof t.exp,"internal-error"),Er("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Et(St().mark((function e(t){var n,r=arguments;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Er(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Et(St().mark((function e(t,n){var r,i,a,o;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vi(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Tr("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Er("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Er("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Er("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function gi(e,t){Er("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var bi=function(){function e(t){d(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=nr(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ui(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?h(a.providerData):[],this.metadata=new ci(a.createdAt||void 0,a.lastLoginAt||void 0)}return y(e,[{key:"getIdToken",value:function(){var e=Et(St().mark((function e(t){var n;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ai(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Er(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return ni.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return hi.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Er(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Er(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Et(St().mark((function e(t){var n,r,i=arguments;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,li(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Et(St().mark((function e(){var t;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,ai(this,$r(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Er(b&&_,t,"internal-error");var S=yi.fromJSON(this.name,_);Er("string"===typeof b,t,"internal-error"),gi(f,t.name),gi(h,t.name),Er("boolean"===typeof k,t,"internal-error"),Er("boolean"===typeof w,t,"internal-error"),gi(d,t.name),gi(p,t.name),gi(v,t.name),gi(m,t.name),gi(y,t.name),gi(g,t.name);var I=new e({uid:b,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=Et(St().mark((function t(n,r){var i,a,o,s=arguments;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new yi).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,li(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),ki=function(){function e(){d(this,e),this.type="NONE",this.storage={}}return y(e,[{key:"_isAvailable",value:function(){var e=Et(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Et(St().mark((function e(t){var n;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Et(St().mark((function e(t){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();ki.type="NONE";var wi=ki;function xi(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var _i=function(){function e(t,n,r){d(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=xi(this.userKey,a.apiKey,o),this.fullPersistenceKey=xi("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return y(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Et(St().mark((function e(){var t;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?bi._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Et(St().mark((function e(t){var n;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Et(St().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(jr(wi),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Et(St().mark((function e(t){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||jr(wi),s=xi(i,n.config.apiKey,n.name),u=null,c=N(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=bi._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Et(St().mark((function e(t){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Si(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ni(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ii(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ji(t))return"Blackberry";if(Ai(t))return"Webos";if(Ei(t))return"Safari";if((t.includes("chrome/")||Ti(t))&&!t.includes("edge/"))return"Chrome";if(Ci(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Ii(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/firefox\//i.test(e)}function Ei(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ti(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/crios\//i.test(e)}function Ni(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/iemobile/i.test(e)}function Ci(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/android/i.test(e)}function ji(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/blackberry/i.test(e)}function Ai(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/webos/i.test(e)}function Ri(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Pi(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return Ri(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Oi(){return rt()&&10===document.documentMode}function Di(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return Ri(e)||Ci(e)||Ai(e)||ji(e)||/windows phone/i.test(e)||Ni(e)}function Li(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Si(Ze());break;case"Worker":t="".concat(Si(Ze()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(_n,"/").concat(r)}var Mi=function(){function e(t){d(this,e),this.auth=t,this.queue=[]}return y(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Et(St().mark((function e(t){var n,r,i,a,o,s,u;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=N(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=N(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Fi=function(){function e(t,n,r){d(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vi(this),this.idTokenSubscription=new Vi(this),this.beforeStateQueue=new Mi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gr,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return y(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=jr(t)),this._initializationPromise=this.queue(Et(St().mark((function r(){var i,a;return St().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,_i.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Et(St().mark((function e(){var t;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Et(St().mark((function e(t){var n,r,i,a,o,s,u;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Er(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Et(St().mark((function e(t){var n;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Et(St().mark((function e(t){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,li(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Et(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Et(St().mark((function e(t){var n;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?_t(t):null)&&Er(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Et(St().mark((function e(t){var n,r=this,i=arguments;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Er(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Et(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Et(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Et(St().mark((function n(){return St().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(jr(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new ft("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Et(St().mark((function e(t,n){var r;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Et(St().mark((function e(t){var n;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Er(n=t&&jr(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,_i.create(this,[jr(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Et(St().mark((function e(t){var n,r;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Et(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Et(St().mark((function e(t){var n=this;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Et(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Er(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Et(St().mark((function e(t){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Er(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Li(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Et(St().mark((function e(){var t,n,r;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ge({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ui(e){return _t(e)}var Vi=function(){function e(t){var n=this;d(this,e),this.auth=t,this.observer=null,this.addObserver=kt((function(e){return n.observer=e}))}return y(e,[{key:"next",get:function(){return Er(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Bi(e,t,n){var r=Ui(e);Er(r._canInitEmulator,r,"emulator-config-failed"),Er(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=qi(t),o=function(e){var t=qi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:zi(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:zi(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function qi(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function zi(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Wi=function(){function e(t,n){d(this,e),this.providerId=t,this.signInMethod=n}return y(e,[{key:"toJSON",value:function(){return Tr("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Tr("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Tr("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Tr("not implemented")}}]),e}();function Hi(e,t){return Ki.apply(this,arguments)}function Ki(){return Ki=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vr(t,"POST","/v1/accounts:resetPassword",Ur(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ki.apply(this,arguments)}function Gi(e,t){return Qi.apply(this,arguments)}function Qi(){return Qi=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Qi.apply(this,arguments)}function $i(e,t){return Xi.apply(this,arguments)}function Xi(){return Xi=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vr(t,"POST","/v1/accounts:update",Ur(t,n)));case 1:case"end":return e.stop()}}),e)}))),Xi.apply(this,arguments)}function Yi(e,t){return Ji.apply(this,arguments)}function Ji(){return Ji=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:signInWithPassword",Ur(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ji.apply(this,arguments)}function Zi(e,t){return ea.apply(this,arguments)}function ea(){return ea=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vr(t,"POST","/v1/accounts:sendOobCode",Ur(t,n)));case 1:case"end":return e.stop()}}),e)}))),ea.apply(this,arguments)}function ta(e,t){return na.apply(this,arguments)}function na(){return na=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zi(t,n));case 1:case"end":return e.stop()}}),e)}))),na.apply(this,arguments)}function ra(e,t){return ia.apply(this,arguments)}function ia(){return ia=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zi(t,n));case 1:case"end":return e.stop()}}),e)}))),ia.apply(this,arguments)}function aa(e,t){return oa.apply(this,arguments)}function oa(){return oa=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zi(t,n));case 1:case"end":return e.stop()}}),e)}))),oa.apply(this,arguments)}function sa(e,t){return ua.apply(this,arguments)}function ua(){return ua=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zi(t,n));case 1:case"end":return e.stop()}}),e)}))),ua.apply(this,arguments)}function ca(e,t){return la.apply(this,arguments)}function la(){return la=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:signInWithEmailLink",Ur(t,n)));case 1:case"end":return e.stop()}}),e)}))),la.apply(this,arguments)}function fa(e,t){return ha.apply(this,arguments)}function ha(){return ha=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:signInWithEmailLink",Ur(t,n)));case 1:case"end":return e.stop()}}),e)}))),ha.apply(this,arguments)}var da=function(e){b(n,e);var t=S(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return d(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return y(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Et(St().mark((function e(t){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Yi(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ca(t,{email:this._email,oobCode:this._password}));case 5:wr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Gi(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",fa(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:wr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Wi);function pa(e,t){return va.apply(this,arguments)}function va(){return va=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:signInWithIdp",Ur(t,n)));case 1:case"end":return e.stop()}}),e)}))),va.apply(this,arguments)}var ma=function(e){b(n,e);var t=S(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return y(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return pa(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,pa(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,pa(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=yt(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wr("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=nr(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Wi);function ya(e,t){return ga.apply(this,arguments)}function ga(){return ga=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vr(t,"POST","/v1/accounts:sendVerificationCode",Ur(t,n)));case 1:case"end":return e.stop()}}),e)}))),ga.apply(this,arguments)}function ba(){return ba=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:signInWithPhoneNumber",Ur(t,n)));case 1:case"end":return e.stop()}}),e)}))),ba.apply(this,arguments)}function ka(){return ka=Et(St().mark((function e(t,n){var r;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wr(t,"POST","/v1/accounts:signInWithPhoneNumber",Ur(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Qr(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),ka.apply(this,arguments)}var wa=Ge({},"USER_NOT_FOUND","user-not-found");function xa(){return xa=Et(St().mark((function e(t,n){var r;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Wr(t,"POST","/v1/accounts:signInWithPhoneNumber",Ur(t,r),wa));case 2:case"end":return e.stop()}}),e)}))),xa.apply(this,arguments)}var _a=function(e){b(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone","phone")).params=e,r}return y(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return ba.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ka.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return xa.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Wi);var Sa=function(){function e(t){var n,r,i,a,o,s;d(this,e);var u=gt(bt(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Er(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return y(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=gt(bt(e)).link,n=t?gt(bt(t)).deep_link_id:null,r=gt(bt(e)).deep_link_id;return(r?gt(bt(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(OS){return null}}}]),e}();var Ia=function(){function e(){d(this,e),this.providerId=e.PROVIDER_ID}return y(e,null,[{key:"credential",value:function(e,t){return da._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Sa.parseLink(t);return Er(n,"argument-error"),da._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Ia.PROVIDER_ID="password",Ia.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ia.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ea=function(){function e(t){d(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return y(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ta=function(e){b(n,e);var t=S(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).scopes=[],e}return y(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return h(this.scopes)}}]),n}(Ea),Na=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Er(e.idToken||e.accessToken,"argument-error"),ma._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Er("providerId"in t&&"signInMethod"in t,"argument-error"),ma._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(Ta),Ca=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.call(this,"facebook.com")}return y(n,null,[{key:"credential",value:function(e){return ma._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(OS){return null}}}]),n}(Ta);Ca.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ca.PROVIDER_ID="facebook.com";var ja=function(e){b(n,e);var t=S(n);function n(){var e;return d(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return y(n,null,[{key:"credential",value:function(e,t){return ma._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(OS){return null}}}]),n}(Ta);ja.GOOGLE_SIGN_IN_METHOD="google.com",ja.PROVIDER_ID="google.com";var Aa=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.call(this,"github.com")}return y(n,null,[{key:"credential",value:function(e){return ma._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(OS){return null}}}]),n}(Ta);Aa.GITHUB_SIGN_IN_METHOD="github.com",Aa.PROVIDER_ID="github.com";var Ra=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return y(n,[{key:"_getIdTokenResponse",value:function(e){return pa(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,pa(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,pa(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Wi),Pa=function(e){b(n,e);var t=S(n);function n(e){return d(this,n),Er(e.startsWith("saml."),"argument-error"),t.call(this,e)}return y(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Ra.fromJSON(e);return Er(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Ra._create(r,n)}catch(i){return null}}}]),n}(Ea),Oa=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.call(this,"twitter.com")}return y(n,null,[{key:"credential",value:function(e,t){return ma._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(OS){return null}}}]),n}(Ta);function Da(e,t){return La.apply(this,arguments)}function La(){return La=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:signUp",Ur(t,n)));case 1:case"end":return e.stop()}}),e)}))),La.apply(this,arguments)}Oa.TWITTER_SIGN_IN_METHOD="twitter.com",Oa.PROVIDER_ID="twitter.com";var Ma=function(){function e(t){d(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return y(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Et(St().mark((function t(n,r,i){var a,o,s,u,c=arguments;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,bi._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Fa(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Et(St().mark((function t(n,r,i){var a;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Fa(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Fa(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Ua(){return Ua=Et(St().mark((function e(t){var n,r,i,a;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ui(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Ma({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Da(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Ma._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Ua.apply(this,arguments)}var Va=function(e){b(n,e);var t=S(n);function n(e,r,i,a){var o,s;return d(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(x(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return y(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(lt);function Ba(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Va._fromErrorAndOperation(e,n,t,r);throw n}))}function qa(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function za(e,t){return Wa.apply(this,arguments)}function Wa(){return Wa=Et(St().mark((function e(t,n){var r,i,a,o;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_t(t),e.next=3,Ga(!0,r,n);case 3:return e.t0=Yr,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=qa(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Wa.apply(this,arguments)}function Ha(e,t){return Ka.apply(this,arguments)}function Ka(){return Ka=Et(St().mark((function e(t,n){var r,i,a=arguments;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=ai,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Ma._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Ka.apply(this,arguments)}function Ga(e,t,n){return Qa.apply(this,arguments)}function Qa(){return(Qa=Et(St().mark((function e(t,n,r){var i,a;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,li(n);case 2:i=qa(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Er(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $a(e,t){return Xa.apply(this,arguments)}function Xa(){return Xa=Et(St().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,ai(t,Ba(i,a,n,t),r);case 6:return Er((o=e.sent).idToken,i,"internal-error"),Er(s=ii(o.idToken),i,"internal-error"),u=s.sub,Er(t.uid===u,i,"user-mismatch"),e.abrupt("return",Ma._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&wr(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Xa.apply(this,arguments)}function Ya(e,t){return Ja.apply(this,arguments)}function Ja(){return Ja=Et(St().mark((function e(t,n){var r,i,a,o,s=arguments;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Ba(t,i,n);case 4:return a=e.sent,e.next=7,Ma._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Ja.apply(this,arguments)}function Za(e,t){return eo.apply(this,arguments)}function eo(){return eo=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ya(Ui(t),n));case 1:case"end":return e.stop()}}),e)}))),eo.apply(this,arguments)}function to(e,t){return no.apply(this,arguments)}function no(){return(no=Et(St().mark((function e(t,n){var r;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_t(t),e.next=3,Ga(!1,r,n.providerId);case 3:return e.abrupt("return",Ha(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ro(e,t){return io.apply(this,arguments)}function io(){return(io=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$a(_t(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ao(e,t){return oo.apply(this,arguments)}function oo(){return oo=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:signInWithCustomToken",Ur(t,n)));case 1:case"end":return e.stop()}}),e)}))),oo.apply(this,arguments)}function so(){return so=Et(St().mark((function e(t,n){var r,i,a;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ui(t),e.next=3,ao(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Ma._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),so.apply(this,arguments)}var uo=function(){function e(t,n){d(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return y(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?co._fromServerResponse(e,t):wr(e,"internal-error")}}]),e}(),co=function(e){b(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return y(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(uo);function lo(e,t,n){var r;Er((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Er("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Er(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Er(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function fo(){return fo=Et(St().mark((function e(t,n,r){var i,a;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_t(t),a={requestType:"PASSWORD_RESET",email:n},r&&lo(i,a,r),e.next=5,ra(i,a);case 5:case"end":return e.stop()}}),e)}))),fo.apply(this,arguments)}function ho(){return ho=Et(St().mark((function e(t,n,r){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hi(_t(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),ho.apply(this,arguments)}function po(){return po=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$i(_t(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),po.apply(this,arguments)}function vo(e,t){return mo.apply(this,arguments)}function mo(){return mo=Et(St().mark((function e(t,n){var r,i,a,o;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_t(t),e.next=3,Hi(r,{oobCode:n});case 3:i=e.sent,Er(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Er(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Er(i.mfaInfo,r,"internal-error");case 13:Er(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=uo._fromServerResponse(Ui(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),mo.apply(this,arguments)}function yo(){return yo=Et(St().mark((function e(t,n){var r,i;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vo(_t(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),yo.apply(this,arguments)}function go(e,t,n){return bo.apply(this,arguments)}function bo(){return bo=Et(St().mark((function e(t,n,r){var i,a,o;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ui(t),e.next=3,Da(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Ma._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),bo.apply(this,arguments)}function ko(){return ko=Et(St().mark((function e(t,n,r){var i,a;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_t(t),a={requestType:"EMAIL_SIGNIN",email:n},Er(r.handleCodeInApp,i,"argument-error"),r&&lo(i,a,r),e.next=6,aa(i,a);case 6:case"end":return e.stop()}}),e)}))),ko.apply(this,arguments)}function wo(){return wo=Et(St().mark((function e(t,n,r){var i,a;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_t(t),Er((a=Ia.credentialWithLink(n,r||Ar()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Za(i,a));case 4:case"end":return e.stop()}}),e)}))),wo.apply(this,arguments)}function xo(e,t){return _o.apply(this,arguments)}function _o(){return _o=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vr(t,"POST","/v1/accounts:createAuthUri",Ur(t,n)));case 1:case"end":return e.stop()}}),e)}))),_o.apply(this,arguments)}function So(){return So=Et(St().mark((function e(t,n){var r,i,a,o;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rr()?Ar():"http://localhost",i={identifier:n,continueUri:r},e.next=4,xo(_t(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),So.apply(this,arguments)}function Io(){return(Io=Et(St().mark((function e(t,n){var r,i,a,o;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_t(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&lo(r.auth,a,n),e.next=8,ta(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eo(){return(Eo=Et(St().mark((function e(t,n,r){var i,a,o,s;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_t(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&lo(i.auth,o,r),e.next=8,sa(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function To(e,t){return No.apply(this,arguments)}function No(){return No=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),No.apply(this,arguments)}function Co(){return(Co=Et(St().mark((function e(t,n){var r,i,a,o,s,u,c;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=_t(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,ai(a,To(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jo(e,t,n){return Ao.apply(this,arguments)}function Ao(){return Ao=Et(St().mark((function e(t,n,r){var i,a,o,s;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,ai(t,Gi(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),Ao.apply(this,arguments)}var Ro=y((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Po=function(e){b(n,e);var t=S(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i)).username=a,o}return y(n)}(Ro),Oo=function(e){b(n,e);var t=S(n);function n(e,r){return d(this,n),t.call(this,e,"facebook.com",r)}return y(n)}(Ro),Do=function(e){b(n,e);var t=S(n);function n(e,r){return d(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return y(n)}(Po),Lo=function(e){b(n,e);var t=S(n);function n(e,r){return d(this,n),t.call(this,e,"google.com",r)}return y(n)}(Ro),Mo=function(e){b(n,e);var t=S(n);function n(e,r,i){return d(this,n),t.call(this,e,"twitter.com",r,i)}return y(n)}(Po);function Fo(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=ii(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Ro(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Oo(a,i);case"github.com":return new Do(a,i);case"google.com":return new Lo(a,i);case"twitter.com":return new Mo(a,i,e.screenName||null);case"custom":case"anonymous":return new Ro(a,null);default:return new Ro(a,r,i)}}(n)}var Uo=function(){function e(t,n,r){d(this,e),this.type=t,this.credential=n,this.auth=r}return y(e,[{key:"toJSON",value:function(){return{multiFactorSession:Ge({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Vo=function(){function e(t,n,r){d(this,e),this.session=t,this.hints=n,this.signInResolver=r}return y(e,[{key:"resolveSignIn",value:function(){var e=Et(St().mark((function e(t){var n;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Ui(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return uo._fromServerResponse(r,e)}));Er(i.mfaPendingCredential,r,"internal-error");var o=Uo._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Et(St().mark((function e(t){var a,s,u;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Ma._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return Er(n.user,r,"internal-error"),e.abrupt("return",Ma._forOperation(n.user,n.operationType,s));case 17:wr(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Bo(e,t){return Vr(e,"POST","/v2/accounts/mfaEnrollment:start",Ur(e,t))}function qo(e,t){return Vr(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Ur(e,t))}var zo=function(){function e(t){var n=this;d(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return uo._fromServerResponse(t.auth,e)})))}))}return y(e,[{key:"getSession",value:function(){var e=Et(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Uo,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Et(St().mark((function e(t,n){var r,i,a;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,ai(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Et(St().mark((function e(t){var n,r,i;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,ai(this.user,qo(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Wo=new WeakMap;var Ho="__sak",Ko=function(){function e(t,n){d(this,e),this.storageRetriever=t,this.type=n}return y(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Ho,"1"),this.storage.removeItem(Ho),Promise.resolve(!0)):Promise.resolve(!1)}catch(OS){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Go=function(e){b(n,e);var t=S(n);function n(){var e;return d(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Ze();return Ei(e)||Ri(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Di(),e._shouldAllowMigration=!0,e}return y(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Oi()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Et(St().mark((function e(t,r){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr(k(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Et(St().mark((function e(t){var r;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr(k(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Et(St().mark((function e(t){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr(k(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ko);Go.type="LOCAL";var Qo=Go,$o=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return y(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Ko);$o.type="SESSION";var Xo=$o;function Yo(e){return Promise.all(e.map(function(){var e=Et(St().mark((function e(t){var n;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Jo=function(){function e(t){d(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return y(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Et(St().mark((function e(t){var n,r,i,a,o,s,u,c;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Et(St().mark((function e(t){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Yo(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Zo(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Jo.receivers=[];var es=function(){function e(t){d(this,e),this.target=t,this.handlers=new Set}return y(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Et(St().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Zo("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function ts(){return window}function ns(){return"undefined"!==typeof ts().WorkerGlobalScope&&"function"===typeof ts().importScripts}function rs(){return is.apply(this,arguments)}function is(){return(is=Et(St().mark((function e(){var t;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function as(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var os="firebaseLocalStorageDb",ss="firebaseLocalStorage",us="fbase_key",cs=function(){function e(t){d(this,e),this.request=t}return y(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ls(e,t){return e.transaction([ss],t?"readwrite":"readonly").objectStore(ss)}function fs(){var e=indexedDB.deleteDatabase(os);return new cs(e).toPromise()}function hs(){var e=indexedDB.open(os,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(ss,{keyPath:us})}catch(r){n(r)}})),e.addEventListener("success",Et(St().mark((function n(){var r;return St().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(ss)){n.next=12;break}return r.close(),n.next=5,fs();case 5:return n.t0=t,n.next=8,hs();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function ds(e,t,n){return ps.apply(this,arguments)}function ps(){return ps=Et(St().mark((function e(t,n,r){var i,a;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ls(t,!0).put((Ge(i={},us,n),Ge(i,"value",r),i)),e.abrupt("return",new cs(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),ps.apply(this,arguments)}function vs(e,t){return ms.apply(this,arguments)}function ms(){return ms=Et(St().mark((function e(t,n){var r,i;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ls(t,!1).get(n),e.next=3,new cs(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),ms.apply(this,arguments)}function ys(e,t){var n=ls(e,!0).delete(t);return new cs(n).toPromise()}var gs=function(){function e(){d(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return y(e,[{key:"_openDb",value:function(){var e=Et(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,hs();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Et(St().mark((function e(t){var n,r;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Et(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ns()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Et(St().mark((function e(){var t=this;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Jo._getInstance(ns()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Et(St().mark((function e(n,r){var i;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Et(St().mark((function e(){var t,n,r;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rs();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new es(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Et(St().mark((function e(t){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&as()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Et(St().mark((function e(){var t;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,hs();case 5:return t=e.sent,e.next=8,ds(t,Ho,"1");case 8:return e.next=10,ys(t,Ho);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Et(St().mark((function e(t){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Et(St().mark((function e(t,n){var r=this;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Et(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return ds(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Et(St().mark((function e(t){var n;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return vs(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Et(St().mark((function e(t){var n=this;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Et(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return ys(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Et(St().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ls(e,!1).getAll();return new cs(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=N(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Et(St().mark((function t(){return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();gs.type="LOCAL";var bs=gs;function ks(e,t){return Vr(e,"POST","/v2/accounts/mfaSignIn:start",Ur(e,t))}function ws(e){return xs.apply(this,arguments)}function xs(){return xs=Et(St().mark((function e(t){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vr(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),xs.apply(this,arguments)}function _s(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=xr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Ss(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Is=1e12,Es=function(){function e(t){d(this,e),this.auth=t,this.counter=Is,this._widgets=new Map}return y(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Ts(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Is;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Is;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Et(St().mark((function e(t){var n,r;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Is,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ts=function(){function e(t,n,r){var i=this;d(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Er(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return y(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Ns=Ss("rcb"),Cs=new Or(3e4,6e4),js="https://www.google.com/recaptcha/api.js?",As=function(){function e(){var t;d(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=ts().grecaptcha)||void 0===t?void 0:t.render)}return y(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Er(Rs(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(ts().grecaptcha):new Promise((function(r,i){var a=ts().setTimeout((function(){i(xr(e,"network-request-failed"))}),Cs.get());ts()[Ns]=function(){ts().clearTimeout(a),delete ts()[Ns];var o=ts().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(xr(e,"internal-error"))},_s("".concat(js,"?").concat(yt({onload:Ns,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(xr(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=ts().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Rs(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Ps=function(){function e(){d(this,e)}return y(e,[{key:"load",value:function(){var e=Et(St().mark((function e(t){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Es(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Os="recaptcha",Ds={theme:"light",type:"image"},Ls=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Ds),r=arguments.length>2?arguments[2]:void 0;d(this,e),this.parameters=n,this.type=Os,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ui(r),this.isInvisible="invisible"===this.parameters.size,Er("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Er(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ps:new As,this.validateStartingState()}return y(e,[{key:"verify",value:function(){var e=Et(St().mark((function e(){var t,n,r,i=this;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Er(!this.parameters.sitekey,this.auth,"argument-error"),Er(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Er("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=ts()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Er(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Et(St().mark((function e(){var t,n;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Et(St().mark((function e(){var t;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Er(Rr()&&!ns(),this.auth,"internal-error"),e.next=3,Ms();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,ws(this.auth);case 8:Er(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Er(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Ms(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Fs=function(){function e(t,n){d(this,e),this.verificationId=t,this.onConfirmation=n}return y(e,[{key:"confirm",value:function(e){var t=_a._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Us(){return Us=Et(St().mark((function e(t,n,r){var i,a;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ui(t),e.next=3,zs(i,n,_t(r));case 3:return a=e.sent,e.abrupt("return",new Fs(a,(function(e){return Za(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Us.apply(this,arguments)}function Vs(e,t,n){return Bs.apply(this,arguments)}function Bs(){return(Bs=Et(St().mark((function e(t,n,r){var i,a;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_t(t),e.next=3,Ga(!1,i,"phone");case 3:return e.next=5,zs(i.auth,n,_t(r));case 5:return a=e.sent,e.abrupt("return",new Fs(a,(function(e){return to(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qs(){return(qs=Et(St().mark((function e(t,n,r){var i,a;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_t(t),e.next=3,zs(i.auth,n,_t(r));case 3:return a=e.sent,e.abrupt("return",new Fs(a,(function(e){return ro(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zs(e,t,n){return Ws.apply(this,arguments)}function Ws(){return Ws=Et(St().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Er("string"===typeof a,t,"argument-error"),Er(r.type===Os,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Er("enroll"===s.type,t,"internal-error"),e.next=13,Bo(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Er("signin"===s.type,t,"internal-error"),Er(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,ks(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,ya(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Ws.apply(this,arguments)}function Hs(){return(Hs=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ha(_t(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ks=function(){function e(t){d(this,e),this.providerId=e.PROVIDER_ID,this.auth=Ui(t)}return y(e,[{key:"verifyPhoneNumber",value:function(e,t){return zs(this.auth,e,_t(t))}}],[{key:"credential",value:function(e,t){return _a._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?_a._fromTokenResponse(n,r):null}}]),e}();function Gs(e,t){return t?jr(t):(Er(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ks.PROVIDER_ID="phone",Ks.PHONE_SIGN_IN_METHOD="phone";var Qs=function(e){b(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this,"custom","custom")).params=e,r}return y(n,[{key:"_getIdTokenResponse",value:function(e){return pa(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return pa(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return pa(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Wi);function $s(e){return Ya(e.auth,new Qs(e),e.bypassAuthState)}function Xs(e){var t=e.auth,n=e.user;return Er(n,t,"internal-error"),$a(n,new Qs(e),e.bypassAuthState)}function Ys(e){return Js.apply(this,arguments)}function Js(){return Js=Et(St().mark((function e(t){var n,r;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Er(r=t.user,n,"internal-error"),e.abrupt("return",Ha(r,new Qs(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Js.apply(this,arguments)}var Zs=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];d(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return y(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Et(St().mark((function t(n,r){return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Et(St().mark((function e(t){var n,r,i,a,o,s,u;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $s;case"linkViaPopup":case"linkViaRedirect":return Ys;case"reauthViaPopup":case"reauthViaRedirect":return Xs;default:wr(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),eu=new Or(2e3,1e4);function tu(e,t,n){return nu.apply(this,arguments)}function nu(){return nu=Et(St().mark((function e(t,n,r){var i,a,o;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ui(t),Sr(t,n,Ea),a=Gs(i,r),o=new ou(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),nu.apply(this,arguments)}function ru(){return(ru=Et(St().mark((function e(t,n,r){var i,a,o;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sr((i=_t(t)).auth,n,Ea),a=Gs(i.auth,r),o=new ou(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iu(e,t,n){return au.apply(this,arguments)}function au(){return(au=Et(St().mark((function e(t,n,r){var i,a,o;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sr((i=_t(t)).auth,n,Ea),a=Gs(i.auth,r),o=new ou(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ou=function(e){b(n,e);var t=S(n);function n(e,r,i,a,o){var s;return d(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=x(s),s}return y(n,[{key:"executeNotNull",value:function(){var e=Et(St().mark((function e(){var t;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Er(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Et(St().mark((function e(){var t,n=this;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nr(1===this.filter.length,"Popup operations only handle one event"),t=Zo(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(xr(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(xr(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(xr(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,eu.get())}()}}]),n}(Zs);ou.currentPopupAction=null;var su=new Map,uu=function(e){b(n,e);var t=S(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return y(n,[{key:"execute",value:function(){var e=Et(St().mark((function e(){var t,r;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=su.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,cu(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,tr(k(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:su.set(this.auth._key(),t);case 21:return this.bypassAuthState||su.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Et(St().mark((function e(t){var r;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",tr(k(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",tr(k(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Et(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Zs);function cu(e,t){return lu.apply(this,arguments)}function lu(){return lu=Et(St().mark((function e(t,n){var r,i,a;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vu(n),i=pu(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),lu.apply(this,arguments)}function fu(e,t){return hu.apply(this,arguments)}function hu(){return hu=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pu(t)._set(vu(n),"true"));case 1:case"end":return e.stop()}}),e)}))),hu.apply(this,arguments)}function du(e,t){su.set(e._key(),t)}function pu(e){return jr(e._redirectPersistence)}function vu(e){return xi("pendingRedirect",e.config.apiKey,e.name)}function mu(e,t,n){return function(e,t,n){return yu.apply(this,arguments)}(e,t,n)}function yu(){return yu=Et(St().mark((function e(t,n,r){var i,a;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ui(t),Sr(t,n,Ea),a=Gs(i,r),e.next=5,fu(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),yu.apply(this,arguments)}function gu(e,t,n){return function(e,t,n){return bu.apply(this,arguments)}(e,t,n)}function bu(){return(bu=Et(St().mark((function e(t,n,r){var i,a,o;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sr((i=_t(t)).auth,n,Ea),a=Gs(i.auth,r),e.next=5,fu(a,i.auth);case 5:return e.next=7,Eu(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ku(e,t,n){return function(e,t,n){return wu.apply(this,arguments)}(e,t,n)}function wu(){return(wu=Et(St().mark((function e(t,n,r){var i,a,o;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sr((i=_t(t)).auth,n,Ea),a=Gs(i.auth,r),e.next=5,Ga(!1,i,n.providerId);case 5:return e.next=7,fu(a,i.auth);case 7:return e.next=9,Eu(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xu(e,t){return _u.apply(this,arguments)}function _u(){return _u=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ui(t)._initializationPromise;case 2:return e.abrupt("return",Su(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),_u.apply(this,arguments)}function Su(e,t){return Iu.apply(this,arguments)}function Iu(){return Iu=Et(St().mark((function e(t,n){var r,i,a,o,s,u=arguments;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Ui(t),a=Gs(i,n),o=new uu(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Iu.apply(this,arguments)}function Eu(e){return Tu.apply(this,arguments)}function Tu(){return(Tu=Et(St().mark((function e(t){var n;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Zo("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Nu=function(){function e(t){d(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return y(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ju(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!ju(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(xr(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cu(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Cu(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Cu(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function ju(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Au(e){return Ru.apply(this,arguments)}function Ru(){return Ru=Et(St().mark((function e(t){var n,r=arguments;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Vr(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Ru.apply(this,arguments)}var Pu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ou=/^https?/;function Du(){return Du=Et(St().mark((function e(t){var n,r,i,a,o;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Au(t);case 4:n=e.sent,r=n.authorizedDomains,i=N(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Lu(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:wr(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Du.apply(this,arguments)}function Lu(e){var t=Ar(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Ou.test(r))return!1;if(Pu.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Mu=new Or(3e4,6e4);function Fu(){var e=ts().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=h(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Uu=null;function Vu(e){return Uu=Uu||function(e){return new Promise((function(t,n){var r,i,a;function o(){Fu(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Fu(),n(xr(e,"network-request-failed"))},timeout:Mu.get()})}if(null===(i=null===(r=ts().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=ts().gapi)||void 0===a?void 0:a.load)){var s=Ss("iframefcb");return ts()[s]=function(){gapi.load?o():n(xr(e,"network-request-failed"))},_s("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Uu=null,e}))}(e),Uu}var Bu=new Or(5e3,15e3),qu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wu(e){var t=e.config;Er(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Dr(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:_n},i=zu.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(yt(r).slice(1))}function Hu(e){return Ku.apply(this,arguments)}function Ku(){return Ku=Et(St().mark((function e(t){var n,r;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vu(t);case 2:return n=e.sent,Er(r=ts().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Wu(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qu,dontclear:!0},(function(e){return new Promise(function(){var n=Et(St().mark((function n(r,i){var a,o,s;return St().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){ts().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=xr(t,"network-request-failed"),o=ts().setTimeout((function(){i(a)}),Bu.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Ku.apply(this,arguments)}var Gu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Qu="_blank",$u="http://localhost",Xu=function(){function e(t){d(this,e),this.window=t,this.associatedEvent=null}return y(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Yu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Gu),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Ze().toLowerCase();n&&(s=Ti(c)?Qu:n),Ii(c)&&(t=t||$u,u.scrollbars="yes");var f=Object.entries(u).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Pi(c)&&"_self"!==s)return Ju(t||"",s),new Xu(null);var h=window.open(t||"",s,f);Er(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Xu(h)}function Ju(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Zu="__/auth/handler",ec="emulator/auth/handler";function tc(e,t,n,r,i,a){Er(e.config.authDomain,e,"auth-domain-config-required"),Er(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:_n,eventId:i};if(t instanceof Ea){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=l(u[s],2),f=c[0],h=c[1];o[f]=h}}if(t instanceof Ta){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Zu);return Dr(t,ec)}(e),"?").concat(yt(p).slice(1))}var nc="webStorageSupport",rc=function(){function e(){d(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xo,this._completeRedirectFn=Su,this._overrideRedirectResult=du}return y(e,[{key:"_openPopup",value:function(){var e=Et(St().mark((function e(t,n,r,i){var a,o;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nr(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=tc(t,n,r,Ar(),i),e.abrupt("return",Yu(t,o,Zo()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Et(St().mark((function e(t,n,r,i){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=tc(t,n,r,Ar(),i),ts().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Nr(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Et(St().mark((function e(t){var n,r;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hu(t);case 2:return n=e.sent,r=new Nu(t),n.register("authEvent",(function(e){return Er(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(nc,{type:nc},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[nc];void 0!==i&&t(!!i),wr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Du.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Di()||Ei()||Ri()}}]),e}(),ic=rc,ac=function(){function e(t){d(this,e),this.factorId=t}return y(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Tr("unexpected MultiFactorSessionType")}}}]),e}(),oc=function(e){b(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone")).credential=e,r}return y(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Vr(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ur(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Vr(e,"POST","/v2/accounts/mfaSignIn:finalize",Ur(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(ac),sc=function(){function e(){d(this,e)}return y(e,null,[{key:"assertion",value:function(e){return oc._fromCredential(e)}}]),e}();sc.FACTOR_ID="phone";var uc="@firebase/auth",cc="0.21.0",lc=function(){function e(t){d(this,e),this.auth=t,this.internalListeners=new Map}return y(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Et(St().mark((function e(t){var n;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Er(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var fc;!function(e){var t;null===(t=ot())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function hc(){return window}fc="Browser",mn(new Tt("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){Er(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Er(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:fc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Li(fc)},i=new Fi(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(jr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),mn(new Tt("auth-internal",(function(e){return function(e){return new lc(e)}(Ui(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Cn(uc,cc,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(fc)),Cn(uc,cc,"esm2017");function dc(e,t,n){return pc.apply(this,arguments)}function pc(){return pc=Et(St().mark((function e(t,n,r){var i,a,o,s,u;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=hc(),o=a.BuildInfo,Nr(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,kc(n.sessionId);case 4:return s=e.sent,u={},Ri()?u.ibi=o.packageName:Ci()?u.apn=o.packageName:wr(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",tc(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),pc.apply(this,arguments)}function vc(){return vc=Et(St().mark((function e(t){var n,r,i;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=hc(),r=n.BuildInfo,i={},Ri()?i.iosBundleId=r.packageName:Ci()?i.androidPackageName=r.packageName:wr(t,"operation-not-supported-in-this-environment"),e.next=5,Au(t,i);case 5:case"end":return e.stop()}}),e)}))),vc.apply(this,arguments)}function mc(e){var t=hc().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function yc(e,t,n){return gc.apply(this,arguments)}function gc(){return gc=Et(St().mark((function e(t,n,r){var i,a,o;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hc(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(xr(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),Ci()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),gc.apply(this,arguments)}function bc(e){var t,n,r,i,a,o,s,u,c,l,f=hc();Er("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Er("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Er("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Er("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Er("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function kc(e){return wc.apply(this,arguments)}function wc(){return(wc=Et(St().mark((function e(t){var n,r,i;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xc(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xc(e){if(Nr(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var _c=function(e){b(n,e);var t=S(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return y(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),tr(k(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Et(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Nu);function Sc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Cc(),postBody:null,tenantId:e.tenantId,error:xr(e,"no-auth-event")}}function Ic(e,t){return jc()._set(Ac(e),t)}function Ec(e){return Tc.apply(this,arguments)}function Tc(){return Tc=Et(St().mark((function e(t){var n;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jc()._get(Ac(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,jc()._remove(Ac(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Tc.apply(this,arguments)}function Nc(e,t){var n,r,i=function(e){var t=Rc(e),n=t.link?decodeURIComponent(t.link):void 0,r=Rc(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Rc(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Rc(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?xr(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Cc(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function jc(){return jr(Qo)}function Ac(e){return xi("authEvent",e.config.apiKey,e.name)}function Rc(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=T(e.split("?"));t[0];return gt(t.slice(1).join("?"))}var Pc=function(){function e(){d(this,e),this._redirectPersistence=Xo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Su,this._overrideRedirectResult=du}return y(e,[{key:"_initialize",value:function(){var e=Et(St().mark((function e(t){var n,r;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new _c(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){wr(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Et(St().mark((function e(t,n,r,i){var a,o,s,u;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bc(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),su.clear(),e.next=10,this._originValidation(t);case 10:return o=Sc(t,r,i),e.next=13,Ic(t,o);case 13:return e.next=15,dc(t,o,n);case 15:return s=e.sent,e.next=18,mc(s);case 18:return u=e.sent,e.abrupt("return",yc(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return vc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=hc(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Et(St().mark((function n(){return St().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ec(e);case 2:t.onEvent(Dc());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=Et(St().mark((function n(r){var i,a;return St().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Ec(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Nc(i,r.url)),t.onEvent(a||Dc());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");hc().handleOpenURL=function(){var e=Et(St().mark((function e(t){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Oc=Pc;function Dc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:xr("no-auth-event")}}function Lc(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Mc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return!("file:"!==Lc()&&"ionic:"!==Lc()&&"capacitor:"!==Lc()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Fc(){return rt()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Uc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/Edge\/\d+/.test(e)}function Vc(){try{var e=self.localStorage,t=Zo();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return Fc()||Uc(e)}()||it()}catch(n){return Bc()&&it()}return!1}function Bc(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function qc(){return("http:"===Lc()||"https:"===Lc()||tt()||Mc())&&!(nt()||et())&&Vc()&&!Bc()}function zc(){return Mc()&&"undefined"!==typeof document}function Wc(){return Hc.apply(this,arguments)}function Hc(){return(Hc=Et(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(zc()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Kc={LOCAL:"local",NONE:"none",SESSION:"session"},Gc=Er,Qc="persistence";function $c(e,t){Gc(Object.values(Kc).includes(t),e,"invalid-persistence-type"),nt()?Gc(t!==Kc.SESSION,e,"unsupported-persistence-type"):et()?Gc(t===Kc.NONE,e,"unsupported-persistence-type"):Bc()?Gc(t===Kc.NONE||t===Kc.LOCAL&&it(),e,"unsupported-persistence-type"):Gc(t===Kc.NONE||Vc(),e,"unsupported-persistence-type")}function Xc(e){return Yc.apply(this,arguments)}function Yc(){return Yc=Et(St().mark((function e(t){var n,r;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Jc(),r=xi(Qc,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Yc.apply(this,arguments)}function Jc(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Zc=Er,el=function(){function e(){d(this,e),this.browserResolver=jr(ic),this.cordovaResolver=jr(Oc),this.underlyingResolver=null,this._redirectPersistence=Xo,this._completeRedirectFn=Su,this._overrideRedirectResult=du}return y(e,[{key:"_initialize",value:function(){var e=Et(St().mark((function e(t){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Et(St().mark((function e(t,n,r,i){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Et(St().mark((function e(t,n,r,i){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return zc()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Zc(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Et(St().mark((function e(){var t;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Wc();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function tl(e){return e.unwrap()}function nl(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new sl(e,function(e,t){var n,r=_t(e),i=t;return Er(t.customData.operationType,r,"argument-error"),Er(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Vo._fromError(r,i)}(e,t));else if(r){var i=rl(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function rl(e){var t=(e instanceof lt?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof lt)&&"temporaryProof"in t&&"phoneNumber"in t)return Ks.credentialFromResult(e);var n,r=t.providerId;if(!r||r===sr)return null;switch(r){case or:n=ja;break;case ir:n=Ca;break;case ar:n=Aa;break;case ur:n=Oa;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?Ra._create(r,s):ma._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new Na(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof lt?n.credentialFromError(e):n.credentialFromResult(e)}function il(e,t){return t.catch((function(t){throw t instanceof lt&&nl(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,rl(t)),additionalUserInfo:Fo(e),user:ul.getOrCreate(r)}}))}function al(e,t){return ol.apply(this,arguments)}function ol(){return ol=Et(St().mark((function e(t,n){var r;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return il(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),ol.apply(this,arguments)}var sl=function(){function e(t,n){d(this,e),this.resolver=n,this.auth=t.wrapped()}return y(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return il(tl(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),ul=function(){function e(t){d(this,e),this._delegate=t,this.multiFactor=function(e){var t=_t(e);return Wo.has(t)||Wo.set(t,zo._fromUser(t)),Wo.get(t)}(t)}return y(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Et(St().mark((function e(t){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",il(this.auth,to(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",al(this.auth,Vs(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Et(St().mark((function e(t){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",il(this.auth,iu(this._delegate,t,el)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Et(St().mark((function e(t){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xc(Ui(this.auth));case 2:return e.abrupt("return",ku(this._delegate,t,el));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Et(St().mark((function e(t){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",il(this.auth,ro(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return al(this.auth,function(e,t,n){return qs.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return il(this.auth,function(e,t,n){return ru.apply(this,arguments)}(this._delegate,e,el))}},{key:"reauthenticateWithRedirect",value:function(){var e=Et(St().mark((function e(t){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xc(Ui(this.auth));case 2:return e.abrupt("return",gu(this._delegate,t,el));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Io.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Et(St().mark((function e(t){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,za(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return jo(_t(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return jo(_t(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Hs.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Co.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Eo.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();ul.USER_MAP=new WeakMap;var cl=Er,ll=function(){function e(t,n){if(d(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;cl(r,"invalid-api-key",{appName:t.name}),cl(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?el:void 0;this._delegate=n.initialize({options:{persistence:hl(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(mr),this.linkUnderlyingAuth()}return y(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?ul.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Bi(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return po.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return vo(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return ho.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",il(this._delegate,go(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return So.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Sa.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Et(St().mark((function e(){var t;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cl(qc(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,xu(this._delegate,el);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",il(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Ui(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=fl(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=fl(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return ko.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return fo.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Et(St().mark((function e(t){var n,r;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$c(this._delegate,t),e.t0=t,e.next=e.t0===Kc.SESSION?4:e.t0===Kc.LOCAL?6:e.t0===Kc.NONE?11:13;break;case 4:return n=Xo,e.abrupt("break",14);case 6:return e.next=8,jr(bs)._isAvailable();case 8:return r=e.sent,n=r?bs:Qo,e.abrupt("break",14);case 11:return n=wi,e.abrupt("break",14);case 13:return e.abrupt("return",wr("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return il(this._delegate,function(e){return Ua.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return il(this._delegate,Za(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return il(this._delegate,function(e,t){return so.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return il(this._delegate,function(e,t,n){return Za(_t(e),Ia.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return il(this._delegate,function(e,t,n){return wo.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return al(this._delegate,function(e,t,n){return Us.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Et(St().mark((function e(t){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cl(qc(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",il(this._delegate,tu(this._delegate,t,el)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Et(St().mark((function e(t){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cl(qc(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Xc(this._delegate);case 3:return e.abrupt("return",mu(this._delegate,t,el));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return yo.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function fl(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&ul.getOrCreate(e))},error:t,complete:n}}function hl(e,t){var n=function(e,t){var n=Jc();if(!n)return[];var r=xi(Qc,e,t);switch(n.getItem(r)){case Kc.NONE:return[wi];case Kc.LOCAL:return[bs,Xo];case Kc.SESSION:return[Xo];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(bs)||n.push(bs),"undefined"!==typeof window)for(var r=0,i=[Qo,Xo];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(wi)||n.push(wi),n}ll.Persistence=Kc;var dl=function(){function e(){d(this,e),this.providerId="phone",this._delegate=new Ks(tl(Zn.auth()))}return y(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Ks.credential(e,t)}}]),e}();dl.PHONE_SIGN_IN_METHOD=Ks.PHONE_SIGN_IN_METHOD,dl.PROVIDER_ID=Ks.PROVIDER_ID;var pl,vl=Er,ml=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zn.app();d(this,e),vl(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Ls(t,n,i.auth()),this.type=this._delegate.type}return y(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(pl=Zn).INTERNAL.registerComponent(new Tt("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new ll(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:cr,PASSWORD_RESET:lr,RECOVER_EMAIL:fr,REVERT_SECOND_FACTOR_ADDITION:hr,VERIFY_AND_CHANGE_EMAIL:dr,VERIFY_EMAIL:pr}},EmailAuthProvider:Ia,FacebookAuthProvider:Ca,GithubAuthProvider:Aa,GoogleAuthProvider:ja,OAuthProvider:Na,SAMLAuthProvider:Pa,PhoneAuthProvider:dl,PhoneMultiFactorGenerator:sc,RecaptchaVerifier:ml,TwitterAuthProvider:Oa,Auth:ll,AuthCredential:Wi,Error:lt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),pl.registerVersion("@firebase/auth-compat","0.3.0");var yl,gl="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},bl={},kl=kl||{},wl=gl||self;function xl(){}function _l(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Sl(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Il="closure_uid_"+(1e9*Math.random()>>>0),El=0;function Tl(e,t,n){return e.call.apply(e.bind,arguments)}function Nl(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Cl(e,t,n){return(Cl=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Tl:Nl).apply(null,arguments)}function jl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Al(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Rl(){this.s=this.s,this.o=this.o}Rl.prototype.s=!1,Rl.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Il)&&e[Il]||(e[Il]=++El)}(this)},Rl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Pl=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Ol(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Dl(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(_l(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Ll(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ll.prototype.h=function(){this.defaultPrevented=!0};var Ml=function(){if(!wl.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{wl.addEventListener("test",xl,t),wl.removeEventListener("test",xl,t)}catch(Aj){}return e}();function Fl(e){return/^[\s\xa0]*$/.test(e)}var Ul=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Vl(e,t){return e<t?-1:e>t?1:0}function Bl(){var e=wl.navigator;return e&&(e=e.userAgent)?e:""}function ql(e){return-1!=Bl().indexOf(e)}function zl(e){return zl[" "](e),e}zl[" "]=xl;var Wl,Hl=ql("Opera"),Kl=ql("Trident")||ql("MSIE"),Gl=ql("Edge"),Ql=Gl||Kl,$l=ql("Gecko")&&!(-1!=Bl().toLowerCase().indexOf("webkit")&&!ql("Edge"))&&!(ql("Trident")||ql("MSIE"))&&!ql("Edge"),Xl=-1!=Bl().toLowerCase().indexOf("webkit")&&!ql("Edge");function Yl(){var e=wl.document;return e?e.documentMode:void 0}e:{var Jl="",Zl=function(){var e=Bl();return $l?/rv:([^\);]+)(\)|;)/.exec(e):Gl?/Edge\/([\d\.]+)/.exec(e):Kl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Xl?/WebKit\/(\S+)/.exec(e):Hl?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Zl&&(Jl=Zl?Zl[1]:""),Kl){var ef=Yl();if(null!=ef&&ef>parseFloat(Jl)){Wl=String(ef);break e}}Wl=Jl}var tf,nf={};function rf(){return function(e){var t=nf;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ul(String(Wl)).split("."),n=Ul("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Vl(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Vl(0==a[2].length,0==o[2].length)||Vl(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(wl.document&&Kl){var af=Yl();tf=af||(parseInt(Wl,10)||void 0)}else tf=void 0;var of=tf;function sf(e,t){if(Ll.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if($l){e:{try{zl(t.nodeName);var i=!0;break e}catch(LC){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:uf[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&sf.X.h.call(this)}}Al(sf,Ll);var uf={2:"touch",3:"pen",4:"mouse"};sf.prototype.h=function(){sf.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var cf="closure_listenable_"+(1e6*Math.random()|0),lf=0;function ff(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++lf,this.ba=this.ea=!1}function hf(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function df(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function pf(e){var t={};for(var n in e)t[n]=e[n];return t}var vf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mf(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<vf.length;a++)n=vf[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function yf(e){this.src=e,this.g={},this.h=0}function gf(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Pl(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(hf(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function bf(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}yf.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=bf(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new ff(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var kf="closure_lm_"+(1e6*Math.random()|0),wf={};function xf(e,t,n,r,i){if(r&&r.once)return Sf(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)xf(e,t[a],n,r,i);return null}return n=Af(n),e&&e[cf]?e.N(t,n,Sl(r)?!!r.capture:!!r,i):_f(e,t,n,!1,r,i)}function _f(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Sl(i)?!!i.capture:!!i,s=Cf(e);if(s||(e[kf]=s=new yf(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Nf;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ml||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Tf(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Sf(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Sf(e,t[a],n,r,i);return null}return n=Af(n),e&&e[cf]?e.O(t,n,Sl(r)?!!r.capture:!!r,i):_f(e,t,n,!0,r,i)}function If(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)If(e,t[a],n,r,i);else r=Sl(r)?!!r.capture:!!r,n=Af(n),e&&e[cf]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=bf(a=e.g[t],n,r,i))&&(hf(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Cf(e))&&(t=e.g[t.toString()],e=-1,t&&(e=bf(t,n,r,i)),(n=-1<e?t[e]:null)&&Ef(n))}function Ef(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[cf])gf(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Tf(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Cf(t))?(gf(n,e),0==n.h&&(n.src=null,t[kf]=null)):hf(e)}}}function Tf(e){return e in wf?wf[e]:wf[e]="on"+e}function Nf(e,t){if(e.ba)e=!0;else{t=new sf(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Ef(e),e=n.call(r,t)}return e}function Cf(e){return(e=e[kf])instanceof yf?e:null}var jf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Af(e){return"function"===typeof e?e:(e[jf]||(e[jf]=function(t){return e.handleEvent(t)}),e[jf])}function Rf(){Rl.call(this),this.i=new yf(this),this.P=this,this.I=null}function Pf(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Ll(t,e);else if(t instanceof Ll)t.target=t.target||e;else{var i=t;mf(t=new Ll(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Of(o,r,!0,t)&&i}if(i=Of(o=t.g=e,r,!0,t)&&i,i=Of(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Of(o=t.g=n[a],r,!1,t)&&i}function Of(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var s=o.listener,u=o.ha||o.src;o.ea&&gf(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Al(Rf,Rl),Rf.prototype[cf]=!0,Rf.prototype.removeEventListener=function(e,t,n,r){If(this,e,t,n,r)},Rf.prototype.M=function(){if(Rf.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)hf(n[r]);delete t.g[e],t.h--}}this.I=null},Rf.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Rf.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Df=wl.JSON.stringify;function Lf(){var e=Wf,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Mf,Ff=function(){function e(){d(this,e),this.h=this.g=null}return y(e,[{key:"add",value:function(e,t){var n=Uf.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Uf=new(function(){function e(t,n){d(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return y(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Vf}),(function(e){return e.reset()})),Vf=function(){function e(){d(this,e),this.next=this.g=this.h=null}return y(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Bf(e){wl.setTimeout((function(){throw e}),0)}function qf(e,t){Mf||function(){var e=wl.Promise.resolve(void 0);Mf=function(){e.then(Hf)}}(),zf||(Mf(),zf=!0),Wf.add(e,t)}var zf=!1,Wf=new Ff;function Hf(){for(var e;e=Lf();){try{e.h.call(e.g)}catch(Aj){Bf(Aj)}var t=Uf;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}zf=!1}function Kf(e,t){Rf.call(this),this.h=e||1,this.g=t||wl,this.j=Cl(this.lb,this),this.l=Date.now()}function Gf(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Qf(e,t,n){if("function"===typeof e)n&&(e=Cl(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Cl(e.handleEvent,e)}return 2147483647<Number(t)?-1:wl.setTimeout(e,t||0)}function $f(e){e.g=Qf((function(){e.g=null,e.i&&(e.i=!1,$f(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Al(Kf,Rf),(yl=Kf.prototype).ca=!1,yl.R=null,yl.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Pf(this,"tick"),this.ca&&(Gf(this),this.start()))}},yl.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},yl.M=function(){Kf.X.M.call(this),Gf(this),delete this.g};var Xf=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return y(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:$f(this)}},{key:"M",value:function(){tr(k(n.prototype),"M",this).call(this),this.g&&(wl.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Rl);function Yf(e){Rl.call(this),this.h=e,this.g={}}Al(Yf,Rl);var Jf=[];function Zf(e,t,n,r){Array.isArray(n)||(n&&(Jf[0]=n.toString()),n=Jf);for(var i=0;i<n.length;i++){var a=xf(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function eh(e){df(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ef(e)}),e),e.g={}}function th(){this.g=!0}function nh(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Df(n)}catch(_j){return t}}(e,n)+(r?" "+r:"")}))}Yf.prototype.M=function(){Yf.X.M.call(this),eh(this)},Yf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},th.prototype.Aa=function(){this.g=!1},th.prototype.info=function(){};var rh={},ih=null;function ah(){return ih=ih||new Rf}function oh(e){Ll.call(this,rh.Pa,e)}function sh(e){var t=ah();Pf(t,new oh(t))}function uh(e,t){Ll.call(this,rh.STAT_EVENT,e),this.stat=t}function ch(e){var t=ah();Pf(t,new uh(t,e))}function lh(e,t){Ll.call(this,rh.Qa,e),this.size=t}function fh(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return wl.setTimeout((function(){e()}),t)}rh.Pa="serverreachability",Al(oh,Ll),rh.STAT_EVENT="statevent",Al(uh,Ll),rh.Qa="timingevent",Al(lh,Ll);var hh={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},dh={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function ph(){}function vh(e){return e.h||(e.h=e.i())}function mh(){}ph.prototype.h=null;var yh,gh={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function bh(){Ll.call(this,"d")}function kh(){Ll.call(this,"c")}function wh(){}function xh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Yf(this),this.O=Sh,e=Ql?125:void 0,this.T=new Kf(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new _h}function _h(){this.i=null,this.g="",this.h=!1}Al(bh,Ll),Al(kh,Ll),Al(wh,ph),wh.prototype.g=function(){return new XMLHttpRequest},wh.prototype.i=function(){return{}},yh=new wh;var Sh=45e3,Ih={},Eh={};function Th(e,t,n){e.K=1,e.v=Kh(Bh(t)),e.s=n,e.P=!0,Nh(e,null)}function Nh(e,t){e.F=Date.now(),Rh(e),e.A=Bh(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),ad(n.i,"t",r),e.C=0,n=e.l.H,e.h=new _h,e.g=ap(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Xf(Cl(e.La,e,e.g),e.N)),Zf(e.S,e.g,"readystatechange",e.ib),t=e.H?pf(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),sh(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Ch(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function jh(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Ah(e,n))==Eh){4==t&&(e.o=4,ch(14),i=!1),nh(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ih){e.o=4,ch(15),nh(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}nh(e.j,e.m,r,null),Mh(e,r)}Ch(e)&&r!=Eh&&r!=Ih&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ch(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yd(t),t.K=!0,ch(11))):(nh(e.j,e.m,n,"[Invalid Chunked Response]"),Lh(e),Dh(e))}function Ah(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Eh:(n=Number(t.substring(n,r)),isNaN(n)?Ih:(r+=1)+n>t.length?Eh:(t=t.substr(r,n),e.C=r+n,t))}function Rh(e){e.V=Date.now()+e.O,Ph(e,e.O)}function Ph(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=fh(Cl(e.gb,e),t)}function Oh(e){e.B&&(wl.clearTimeout(e.B),e.B=null)}function Dh(e){0==e.l.G||e.I||ep(e.l,e)}function Lh(e){Oh(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Gf(e.T),eh(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Mh(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||hd(n.h,e)))if(!e.J&&hd(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zd(n),zd(n)}Xd(n),ch(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=fh(Cl(n.cb,n),6e3));if(1>=fd(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else np(n,11)}else if((e.J||n.g==e)&&Zd(n),!Fl(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var s=a[4];null!=s&&(n.Ca=s,n.j.info("SVER="+n.Ca));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(dd(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Hh(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=ip(r,r.H?r.ka:null,r.V),d.J){pd(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Oh(p),Rh(p)),r.g=d}else $d(r);0<n.i.length&&Hd(n)}else"stop"!=a[0]&&"close"!=a[0]||np(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?np(n,7):qd(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}sh()}catch(a){}}function Fh(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(_l(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(_l(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(_l(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(yl=xh.prototype).setTimeout=function(e){this.O=e},yl.ib=function(e){e=e.target;var t=this.L;t&&3==Ld(e)?t.l():this.La(e)},yl.La=function(e){try{if(e==this.g)e:{var t=Ld(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Ql||this.g&&(this.h.h||this.g.fa()||Md(this.g)))){this.I||4!=t||7==n||sh(),Oh(this);var r=this.g.aa();this.Y=r;t:if(Ch(this)){var i=Md(this.g);e="";var a=i.length,o=4==Ld(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Lh(this),Dh(this);var s="";break t}this.h.i=new wl.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fl(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,ch(12),Lh(this),Dh(this);break e}nh(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Mh(this,r)}this.P?(jh(this,t,s),Ql&&this.i&&3==t&&(Zf(this.S,this.T,"tick",this.hb),this.T.start())):(nh(this.j,this.m,s,null),Mh(this,s)),4==t&&Lh(this),this.i&&!this.I&&(4==t?ep(this.l,this):(this.i=!1,Rh(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,ch(12)):(this.o=0,ch(13)),Lh(this),Dh(this)}}}catch(t){}},yl.hb=function(){if(this.g){var e=Ld(this.g),t=this.g.fa();this.C<t.length&&(Oh(this),jh(this,e,t),this.i&&4!=e&&Rh(this))}},yl.cancel=function(){this.I=!0,Lh(this)},yl.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(sh(),ch(17)),Lh(this),this.o=2,Dh(this)):Ph(this,this.V-e)};var Uh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vh(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Vh){this.h=void 0!==t?t:e.h,qh(this,e.j),this.s=e.s,this.g=e.g,zh(this,e.m),this.l=e.l,t=e.i;var n=new td;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Wh(this,n),this.o=e.o}else e&&(n=String(e).match(Uh))?(this.h=!!t,qh(this,n[1]||"",!0),this.s=Gh(n[2]||""),this.g=Gh(n[3]||"",!0),zh(this,n[4]),this.l=Gh(n[5]||"",!0),Wh(this,n[6]||"",!0),this.o=Gh(n[7]||"")):(this.h=!!t,this.i=new td(null,this.h))}function Bh(e){return new Vh(e)}function qh(e,t,n){e.j=n?Gh(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function zh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Wh(e,t,n){t instanceof td?(e.i=t,function(e,t){t&&!e.j&&(nd(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(rd(this,t),ad(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Qh(t,Zh)),e.i=new td(t,e.h))}function Hh(e,t,n){e.i.set(t,n)}function Kh(e){return Hh(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Gh(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Qh(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,$h),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function $h(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Vh.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Qh(t,Xh,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Qh(t,Xh,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Qh(n,"/"==n.charAt(0)?Jh:Yh,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Qh(n,ed)),e.join("")};var Xh=/[#\/\?@]/g,Yh=/[#\?:]/g,Jh=/[#\?]/g,Zh=/[#\?@]/g,ed=/#/g;function td(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function nd(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function rd(e,t){nd(e),t=od(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function id(e,t){return nd(e),t=od(e,t),e.g.has(t)}function ad(e,t,n){rd(e,t),0<n.length&&(e.i=null,e.g.set(od(e,t),Ol(n)),e.h+=n.length)}function od(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(yl=td.prototype).add=function(e,t){nd(this),this.i=null,e=od(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},yl.forEach=function(e,t){nd(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},yl.oa=function(){nd(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},yl.W=function(e){nd(this);var t=[];if("string"===typeof e)id(this,e)&&(t=t.concat(this.g.get(od(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},yl.set=function(e,t){return nd(this),this.i=null,id(this,e=od(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},yl.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},yl.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var sd=y((function e(t,n){d(this,e),this.h=t,this.g=n}));function ud(e){this.l=e||cd,wl.PerformanceNavigationTiming?e=0<(e=wl.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(wl.g&&wl.g.Ga&&wl.g.Ga()&&wl.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var cd=10;function ld(e){return!!e.h||!!e.g&&e.g.size>=e.j}function fd(e){return e.h?1:e.g?e.g.size:0}function hd(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function dd(e,t){e.g?e.g.add(t):e.h=t}function pd(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function vd(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=N(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Ol(e.i)}function md(){}function yd(){this.g=new md}function gd(e,t,n){var r=n||"";try{Fh(e,(function(e,n){var i=e;Sl(e)&&(i=Df(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function bd(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(LC){}}function kd(e){this.l=e.ac||null,this.j=e.jb||!1}function wd(e,t){Rf.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=xd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ud.prototype.cancel=function(){if(this.i=vd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=N(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},md.prototype.stringify=function(e){return wl.JSON.stringify(e,void 0)},md.prototype.parse=function(e){return wl.JSON.parse(e,void 0)},Al(kd,ph),kd.prototype.g=function(){return new wd(this.l,this.j)},kd.prototype.i=function(e){return function(){return e}}({}),Al(wd,Rf);var xd=0;function _d(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Sd(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Id(e)}function Id(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(yl=wd.prototype).open=function(e,t){if(this.readyState!=xd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Id(this)},yl.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||wl).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},yl.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sd(this)),this.readyState=xd},yl.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Id(this)),this.g&&(this.readyState=3,Id(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof wl.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_d(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},yl.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Sd(this):Id(this),3==this.readyState&&_d(this)}},yl.Va=function(e){this.g&&(this.response=this.responseText=e,Sd(this))},yl.Ua=function(e){this.g&&(this.response=e,Sd(this))},yl.ga=function(){this.g&&Sd(this)},yl.setRequestHeader=function(e,t){this.v.append(e,t)},yl.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},yl.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(wd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ed=wl.JSON.parse;function Td(e){Rf.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Nd,this.K=this.L=!1}Al(Td,Rf);var Nd="",Cd=/^https?$/i,jd=["POST","PUT"];function Ad(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Rd(e),Od(e)}function Rd(e){e.D||(e.D=!0,Pf(e,"complete"),Pf(e,"error"))}function Pd(e){if(e.h&&"undefined"!=typeof kl&&(!e.C[1]||4!=Ld(e)||2!=e.aa()))if(e.v&&4==Ld(e))Qf(e.Ha,0,e);else if(Pf(e,"readystatechange"),4==Ld(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Uh)[1]||null;if(!a&&wl.self&&wl.self.location){var o=wl.self.location.protocol;a=o.substr(0,o.length-1)}i=!Cd.test(a?a.toLowerCase():"")}t=i}if(t)Pf(e,"complete"),Pf(e,"success");else{e.m=6;try{var s=2<Ld(e)?e.g.statusText:""}catch(RC){s=""}e.j=s+" ["+e.aa()+"]",Rd(e)}}finally{Od(e)}}}function Od(e,t){if(e.g){Dd(e);var n=e.g,r=e.C[0]?xl:null;e.g=null,e.C=null,t||Pf(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Dd(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(wl.clearTimeout(e.A),e.A=null)}function Ld(e){return e.g?e.g.readyState:0}function Md(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Nd:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(wp){return null}}function Fd(e){var t="";return df(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ud(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Fd(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Hh(e,t,n))}function Vd(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Bd(e){this.Ca=0,this.i=[],this.j=new th,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Vd("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Vd("baseRetryDelayMs",5e3,e),this.bb=Vd("retryDelaySeedMs",1e4,e),this.$a=Vd("forwardChannelMaxRetries",2,e),this.ta=Vd("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new ud(e&&e.concurrentRequestLimit),this.Fa=new yd,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function qd(e){if(Wd(e),3==e.G){var t=e.U++,n=Bh(e.F);Hh(n,"SID",e.I),Hh(n,"RID",t),Hh(n,"TYPE","terminate"),Gd(e,n),(t=new xh(e,e.j,t,void 0)).K=2,t.v=Kh(Bh(n)),n=!1,wl.navigator&&wl.navigator.sendBeacon&&(n=wl.navigator.sendBeacon(t.v.toString(),"")),!n&&wl.Image&&((new Image).src=t.v,n=!0),n||(t.g=ap(t.l,null),t.g.da(t.v)),t.F=Date.now(),Rh(t)}rp(e)}function zd(e){e.g&&(Yd(e),e.g.cancel(),e.g=null)}function Wd(e){zd(e),e.u&&(wl.clearTimeout(e.u),e.u=null),Zd(e),e.h.cancel(),e.m&&("number"===typeof e.m&&wl.clearTimeout(e.m),e.m=null)}function Hd(e){ld(e.h)||e.m||(e.m=!0,qf(e.Ja,e),e.C=0)}function Kd(e,t){var n;n=t?t.m:e.U++;var r=Bh(e.F);Hh(r,"SID",e.I),Hh(r,"RID",n),Hh(r,"AID",e.T),Gd(e,r),e.o&&e.s&&Ud(r,e.o,e.s),n=new xh(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Qd(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),dd(e.h,n),Th(n,r,t)}function Gd(e,t){e.ia&&df(e.ia,(function(e,n){Hh(t,n,e)})),e.l&&Fh({},(function(e,n){Hh(t,n,e)}))}function Qd(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Cl(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{gd(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function $d(e){e.g||e.u||(e.Z=1,qf(e.Ia,e),e.A=0)}function Xd(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=fh(Cl(e.Ia,e),tp(e,e.A)),e.A++,!0)}function Yd(e){null!=e.B&&(wl.clearTimeout(e.B),e.B=null)}function Jd(e){e.g=new xh(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Bh(e.sa);Hh(t,"RID","rpc"),Hh(t,"SID",e.I),Hh(t,"CI",e.L?"0":"1"),Hh(t,"AID",e.T),Hh(t,"TYPE","xmlhttp"),Gd(e,t),e.o&&e.s&&Ud(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Kh(Bh(t)),n.s=null,n.P=!0,Nh(n,e)}function Zd(e){null!=e.v&&(wl.clearTimeout(e.v),e.v=null)}function ep(e,t){var n=null;if(e.g==t){Zd(e),Yd(e),e.g=null;var r=2}else{if(!hd(e.h,t))return;n=t.D,pd(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Pf(r=ah(),new lh(r,n)),Hd(e)}else $d(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(fd(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=fh(Cl(e.Ja,e,t),tp(e,e.C)),e.C++,!0))}(e,t)||2==r&&Xd(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:np(e,5);break;case 4:np(e,10);break;case 3:np(e,6);break;default:np(e,2)}}function tp(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function np(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Cl(e.kb,e);n||(n=new Vh("//www.google.com/images/cleardot.gif"),wl.location&&"http"==wl.location.protocol||qh(n,"https"),Kh(n)),function(e,t){var n=new th;if(wl.Image){var r=new Image;r.onload=jl(bd,n,r,"TestLoadImage: loaded",!0,t),r.onerror=jl(bd,n,r,"TestLoadImage: error",!1,t),r.onabort=jl(bd,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=jl(bd,n,r,"TestLoadImage: timeout",!1,t),wl.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ch(2);e.G=0,e.l&&e.l.va(t),rp(e),Wd(e)}function rp(e){if(e.G=0,e.la=[],e.l){var t=vd(e.h);0==t.length&&0==e.i.length||(Dl(e.la,t),Dl(e.la,e.i),e.h.i.length=0,Ol(e.i),e.i.length=0),e.l.ua()}}function ip(e,t,n){var r=n instanceof Vh?Bh(n):new Vh(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),zh(r,r.m);else{var i=wl.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Vh(null,void 0);r&&qh(a,r),t&&(a.g=t),i&&zh(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Hh(r,n,t),Hh(r,"VER",e.ma),Gd(e,r),r}function ap(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new Td(new kd({jb:!0})):new Td(e.ra)).Ka(e.H),t}function op(){}function sp(){if(Kl&&!(10<=Number(of)))throw Error("Environmental error: no available transport.")}function up(e,t){Rf.call(this),this.g=new Bd(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Fl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Fl(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new fp(this)}function cp(e){bh.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function lp(){kh.call(this),this.status=1}function fp(e){this.g=e}(yl=Td.prototype).Ka=function(e){this.L=e},yl.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():yh.g(),this.C=this.u?vh(this.u):vh(yh),this.g.onreadystatechange=Cl(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Ad(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=N(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=wl.FormData&&e instanceof wl.FormData,!(0<=Pl(jd,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=N(n);try{for(c.s();!(u=c.n()).done;){var f=l(u.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Dd(this),0<this.B&&((this.K=function(e){return Kl&&rf()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Cl(this.qa,this)):this.A=Qf(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Ad(this,s)}},yl.qa=function(){"undefined"!=typeof kl&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pf(this,"timeout"),this.abort(8))},yl.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Pf(this,"complete"),Pf(this,"abort"),Od(this))},yl.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Od(this,!0)),Td.X.M.call(this)},yl.Ha=function(){this.s||(this.F||this.v||this.l?Pd(this):this.fb())},yl.fb=function(){Pd(this)},yl.aa=function(){try{return 2<Ld(this)?this.g.status:-1}catch(Cj){return-1}},yl.fa=function(){try{return this.g?this.g.responseText:""}catch(Cj){return""}},yl.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ed(t)}},yl.Ea=function(){return this.m},yl.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(yl=Bd.prototype).ma=8,yl.G=1,yl.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new xh(this,this.j,e,void 0),n=this.s;if(this.S&&(n?mf(n=pf(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Qd(this,t,r),Hh(i=Bh(this.F),"RID",e),Hh(i,"CVER",22),this.D&&Hh(i,"X-HTTP-Session-Id",this.D),Gd(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Fd(n)))+"&"+r:this.o&&Ud(i,this.o,n)),dd(this.h,t),this.Ya&&Hh(i,"TYPE","init"),this.O?(Hh(i,"$req",r),Hh(i,"SID","null"),t.Z=!0,Th(t,i,null)):Th(t,i,r),this.G=2}}else 3==this.G&&(e?Kd(this,e):0==this.i.length||ld(this.h)||Kd(this))},yl.Ia=function(){if(this.u=null,Jd(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=fh(Cl(this.eb,this),e)}},yl.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ch(10),zd(this),Jd(this))},yl.cb=function(){null!=this.v&&(this.v=null,zd(this),Xd(this),ch(19))},yl.kb=function(e){e?(this.j.info("Successfully pinged google.com"),ch(2)):(this.j.info("Failed to ping google.com"),ch(1))},(yl=op.prototype).xa=function(){},yl.wa=function(){},yl.va=function(){},yl.ua=function(){},yl.Ra=function(){},sp.prototype.g=function(e,t){return new up(e,t)},Al(up,Rf),up.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;ch(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=ip(e,null,e.V),Hd(e)},up.prototype.close=function(){qd(this.g)},up.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Df(e),e=n);t.i.push(new sd(t.ab++,e)),3==t.G&&Hd(t)},up.prototype.M=function(){this.g.l=null,delete this.j,qd(this.g),delete this.g,up.X.M.call(this)},Al(cp,bh),Al(lp,kh),Al(fp,op),fp.prototype.xa=function(){Pf(this.g,"a")},fp.prototype.wa=function(e){Pf(this.g,new cp(e))},fp.prototype.va=function(e){Pf(this.g,new lp)},fp.prototype.ua=function(){Pf(this.g,"b")},sp.prototype.createWebChannel=sp.prototype.g,up.prototype.send=up.prototype.u,up.prototype.open=up.prototype.m,up.prototype.close=up.prototype.close,hh.NO_ERROR=0,hh.TIMEOUT=8,hh.HTTP_ERROR=6,dh.COMPLETE="complete",mh.EventType=gh,gh.OPEN="a",gh.CLOSE="b",gh.ERROR="c",gh.MESSAGE="d",Rf.prototype.listen=Rf.prototype.N,Td.prototype.listenOnce=Td.prototype.O,Td.prototype.getLastError=Td.prototype.Oa,Td.prototype.getLastErrorCode=Td.prototype.Ea,Td.prototype.getStatus=Td.prototype.aa,Td.prototype.getResponseJson=Td.prototype.Sa,Td.prototype.getResponseText=Td.prototype.fa,Td.prototype.send=Td.prototype.da,Td.prototype.setWithCredentials=Td.prototype.Ka;var hp=bl.createWebChannelTransport=function(){return new sp},dp=bl.getStatEventTarget=function(){return ah()},pp=bl.ErrorCode=hh,vp=bl.EventType=dh,mp=bl.Event=rh,yp=bl.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},gp=bl.FetchXmlHttpFactory=kd,bp=bl.WebChannel=mh,kp=bl.XhrIo=Td,wp="@firebase/firestore",xp=function(){function e(t){d(this,e),this.uid=t}return y(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();xp.UNAUTHENTICATED=new xp(null),xp.GOOGLE_CREDENTIALS=new xp("google-credentials-uid"),xp.FIRST_PARTY=new xp("first-party-uid"),xp.MOCK_USER=new xp("mock-user");var _p="9.15.0",Sp=new Ft("@firebase/firestore");function Ip(){return Sp.logLevel}function Ep(e){if(Sp.logLevel<=At.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Cp);Sp.debug.apply(Sp,["Firestore (".concat(_p,"): ").concat(e)].concat(h(i)))}}function Tp(e){if(Sp.logLevel<=At.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Cp);Sp.error.apply(Sp,["Firestore (".concat(_p,"): ").concat(e)].concat(h(i)))}}function Np(e){if(Sp.logLevel<=At.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Cp);Sp.warn.apply(Sp,["Firestore (".concat(_p,"): ").concat(e)].concat(h(i)))}}function Cp(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function jp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(_p,") INTERNAL ASSERTION FAILED: ")+e;throw Tp(t),new Error(t)}function Ap(e,t){e||jp()}function Rp(e,t){return e}var Pp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Op=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return y(n)}(lt),Dp=y((function e(){var t=this;d(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Lp=y((function e(t,n){d(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Mp=function(){function e(){d(this,e)}return y(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(xp.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Fp=function(){function e(t){d(this,e),this.token=t,this.changeListener=null}return y(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Up=function(){function e(t){d(this,e),this.t=t,this.currentUser=xp.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return y(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Dp;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Dp,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Et(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Ep("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Ep("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Dp)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Ep("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Ap("string"==typeof n.accessToken),new Lp(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Ap(null===e||"string"==typeof e),new xp(e)}}]),e}(),Vp=function(){function e(t,n,r,i){d(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=xp.FIRST_PARTY,this.p=new Map}return y(e,[{key:"I",value:function(){return this.g?this.g():(Ap(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Bp=function(){function e(t,n,r,i){d(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return y(e,[{key:"getToken",value:function(){return Promise.resolve(new Vp(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(xp.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),qp=y((function e(t){d(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),zp=function(){function e(t){d(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return y(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Ep("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Ep("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Ep("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Ep("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Ap("string"==typeof t.token),e.A=t.token,new qp(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Wp(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Hp=function(){function e(){d(this,e)}return y(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Wp(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Kp(e,t){return e<t?-1:e>t?1:0}function Gp(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Qp(e){return e+"\0"}var $p=function(){function e(t,n){if(d(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Op(Pp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Op(Pp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Op(Pp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Op(Pp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return y(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Kp(this.nanoseconds,e.nanoseconds):Kp(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Xp=function(){function e(t){d(this,e),this.timestamp=t}return y(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new $p(0,0))}},{key:"max",value:function(){return new e(new $p(253402300799,999999999))}}]),e}(),Yp=function(){function e(t,n,r){d(this,e),void 0===n?n=0:n>t.length&&jp(),void 0===r?r=t.length-n:r>t.length-n&&jp(),this.segments=t,this.offset=n,this.len=r}return y(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Jp=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Op(Pp.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,h(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Yp),Zp=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ev=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Zp.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Op(Pp.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Op(Pp.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Op(Pp.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Op(Pp.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Yp),tv=function(){function e(t){d(this,e),this.path=t}return y(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Jp.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Jp.fromString(t))}},{key:"fromName",value:function(t){return new e(Jp.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Jp.emptyPath())}},{key:"comparator",value:function(e,t){return Jp.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Jp(t.slice()))}}]),e}(),nv=y((function e(t,n,r,i){d(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function rv(e){return e.fields.find((function(e){return 2===e.kind}))}function iv(e){return e.fields.filter((function(e){return 2!==e.kind}))}nv.UNKNOWN_ID=-1;var av=y((function e(t,n){d(this,e),this.fieldPath=t,this.kind=n}));var ov=function(){function e(t,n){d(this,e),this.sequenceNumber=t,this.offset=n}return y(e,null,[{key:"empty",value:function(){return new e(0,cv.min())}}]),e}();function sv(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Xp.fromTimestamp(1e9===r?new $p(n+1,0):new $p(n,r));return new cv(i,tv.empty(),t)}function uv(e){return new cv(e.readTime,e.key,-1)}var cv=function(){function e(t,n,r){d(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return y(e,null,[{key:"min",value:function(){return new e(Xp.min(),tv.empty(),-1)}},{key:"max",value:function(){return new e(Xp.max(),tv.empty(),-1)}}]),e}();function lv(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=tv.comparator(e.documentKey,t.documentKey))?n:Kp(e.largestBatchId,t.largestBatchId)}var fv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",hv=function(){function e(){d(this,e),this.onCommittedListeners=[]}return y(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function dv(e){return pv.apply(this,arguments)}function pv(){return pv=Et(St().mark((function e(t){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Pp.FAILED_PRECONDITION&&t.message===fv){e.next=2;break}throw t;case 2:Ep("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),pv.apply(this,arguments)}var vv=function(){function e(t){var n=this;d(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return y(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&jp(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=N(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),mv=function(){function e(t,n){var r=this;d(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new Dp,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new bv(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=Sv(e.target.error);r.P.reject(new bv(t,n))}}return y(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(Ep("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new wv(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new bv(n,t)}}}]),e}(),yv=function(){function e(t,n,r){d(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Ze())&&Tp("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return y(e,[{key:"F",value:function(){var e=Et(St().mark((function e(t){var n=this;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Ep("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new bv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Op(Pp.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Op(Pp.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new bv(t,n))},i.onupgradeneeded=function(e){Ep("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){Ep("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Et(St().mark((function e(t,n,r,i){var a,o,s,u,c=this;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,s=St().mark((function e(){var n,s,u,l;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.F(t);case 4:return c.db=e.sent,n=mv.open(c.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),vv.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.v;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),u=e.t1,l="FirebaseError"!==u.name&&o<3,Ep("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(u)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if("object"!==typeof(u=e.t0)){e.next=7;break}return e.abrupt("return",u.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Ep("SimpleDb","Removing database:",e),xv(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!it())return!1;if(e.N())return!0;var t=Ze(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/vernaloqui/Farmershub.git",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),gv=function(){function e(t){d(this,e),this.q=t,this.U=!1,this.K=null}return y(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return xv(this.q.delete())}}]),e}(),bv=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this,Pp.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return y(n)}(Op);function kv(e){return"IndexedDbTransactionError"===e.name}var wv=function(){function e(t){d(this,e),this.store=t}return y(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Ep("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ep("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),xv(n)}},{key:"add",value:function(e){return Ep("SimpleDb","ADD",this.store.name,e,e),xv(this.store.add(e))}},{key:"get",value:function(e){var t=this;return xv(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Ep("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Ep("SimpleDb","DELETE",this.store.name,e),xv(this.store.delete(e))}},{key:"count",value:function(){return Ep("SimpleDb","COUNT",this.store.name),xv(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new vv((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new vv((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){Ep("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new vv((function(n,r){t.onerror=function(e){var t=Sv(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new vv((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new gv(i),o=t(i.primaryKey,i.value,a);if(o instanceof vv){var s=o.catch((function(e){return a.done(),vv.reject(e)}));n.push(s)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return vv.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function xv(e){return new vv((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Sv(e.target.error);n(t)}}))}var _v=!1;function Sv(e){var t=yv.D(Ze());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Op("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return _v||(_v=!0,setTimeout((function(){throw r}),0)),r}}return e}var Iv=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.et=n,this.task=null}return y(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;Ep("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Et(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Ep,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!kv(e.t4)){e.next=17;break}Ep("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,dv(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Ev=function(){function e(t,n){d(this,e),this.localStore=t,this.persistence=n}return y(e,[{key:"st",value:function(){var e=Et(St().mark((function e(){var t,n=this,r=arguments;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return vv.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Ep("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return Ep("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=uv(t);lv(r,n)>0&&(n=r)})),new cv(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Tv=function(){function e(t,n){var r=this;d(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return y(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();Tv.at=-1;var Nv=y((function e(t,n,r,i,a,o,s,u){d(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Cv=function(){function e(t,n){d(this,e),this.projectId=t,this.database=n||"(default)"}return y(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function jv(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Av(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Rv(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Pv(e){return null==e}function Ov(e){return 0===e&&1/e==-1/0}function Dv(e){return"number"==typeof e&&Number.isInteger(e)&&!Ov(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Lv=function(e){function t(e){d(this,t),this.binaryString=e}return y(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Kp(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Lv.EMPTY_BYTE_STRING=new Lv("");var Mv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fv(e){if(Ap(!!e),"string"==typeof e){var t=0,n=Mv.exec(e);if(Ap(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Uv(e.seconds),nanos:Uv(e.nanos)}}function Uv(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Vv(e){return"string"==typeof e?Lv.fromBase64String(e):Lv.fromUint8Array(e)}function Bv(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function qv(e){var t=e.mapValue.fields.__previous_value__;return Bv(t)?qv(t):t}function zv(e){var t=Fv(e.mapValue.fields.__local_write_time__.timestampValue);return new $p(t.seconds,t.nanos)}var Wv={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Hv={nullValue:"NULL_VALUE"};function Kv(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Bv(e)?4:om(e)?9007199254740991:10:jp()}function Gv(e,t){if(e===t)return!0;var n=Kv(e);if(n!==Kv(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return zv(e).isEqual(zv(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Fv(e.timestampValue),r=Fv(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Vv(e.bytesValue).isEqual(Vv(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Uv(e.geoPointValue.latitude)===Uv(t.geoPointValue.latitude)&&Uv(e.geoPointValue.longitude)===Uv(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Uv(e.integerValue)===Uv(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Uv(e.doubleValue),r=Uv(t.doubleValue);return n===r?Ov(n)===Ov(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Gp(e.arrayValue.values||[],t.arrayValue.values||[],Gv);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(jv(n)!==jv(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Gv(n[i],r[i])))return!1;return!0}(e,t);default:return jp()}}function Qv(e,t){return void 0!==(e.values||[]).find((function(e){return Gv(e,t)}))}function $v(e,t){if(e===t)return 0;var n=Kv(e),r=Kv(t);if(n!==r)return Kp(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Kp(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Uv(e.integerValue||e.doubleValue),r=Uv(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Xv(e.timestampValue,t.timestampValue);case 4:return Xv(zv(e),zv(t));case 5:return Kp(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Vv(e),r=Vv(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Kp(n[i],r[i]);if(0!==a)return a}return Kp(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Kp(Uv(e.latitude),Uv(t.latitude));return 0!==n?n:Kp(Uv(e.longitude),Uv(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=$v(n[i],r[i]);if(a)return a}return Kp(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Wv.mapValue&&t===Wv.mapValue)return 0;if(e===Wv.mapValue)return 1;if(t===Wv.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Kp(r[o],a[o]);if(0!==s)return s;var u=$v(n[r[o]],i[a[o]]);if(0!==u)return u}return Kp(r.length,a.length)}(e.mapValue,t.mapValue);default:throw jp()}}function Xv(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Kp(e,t);var n=Fv(e),r=Fv(t),i=Kp(n.seconds,r.seconds);return 0!==i?i:Kp(n.nanos,r.nanos)}function Yv(e){return Jv(e)}function Jv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Fv(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Vv(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,tv.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=N(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Jv(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=N(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Jv(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):jp();var t,n}function Zv(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function em(e){return!!e&&"integerValue"in e}function tm(e){return!!e&&"arrayValue"in e}function nm(e){return!!e&&"nullValue"in e}function rm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function im(e){return!!e&&"mapValue"in e}function am(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Av(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=am(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=am(e.arrayValue.values[r]);return n}return Object.assign({},e)}function om(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function sm(e){return"nullValue"in e?Hv:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Zv(Cv.empty(),tv.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:jp()}function um(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Zv(Cv.empty(),tv.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Wv:jp()}function cm(e,t){var n=$v(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function lm(e,t){var n=$v(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var fm=y((function e(t,n){d(this,e),this.position=t,this.inclusive=n}));function hm(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?tv.comparator(tv.fromName(o.referenceValue),n.key):$v(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function dm(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Gv(e.position[n],t.position[n]))return!1;return!0}var pm=y((function e(){d(this,e)})),vm=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return y(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison($v(t,this.value)):null!==t&&Kv(this.value)===Kv(t)&&this.matchesComparison($v(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return jp()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Im(e,t,r):"array-contains"===t?new Cm(e,r):"in"===t?new jm(e,r):"not-in"===t?new Am(e,r):"array-contains-any"===t?new Rm(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Em(e,n):new Tm(e,n)}}]),n}(pm),mm=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return y(n,[{key:"matches",value:function(e){return ym(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=N(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(pm);function ym(e){return"and"===e.op}function gm(e){return"or"===e.op}function bm(e){return km(e)&&ym(e)}function km(e){var t,n=N(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof mm)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function wm(e){if(e instanceof vm)return e.field.canonicalString()+e.op.toString()+Yv(e.value);var t=e.filters.map((function(e){return wm(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function xm(e,t){return e instanceof vm?function(e,t){return t instanceof vm&&e.op===t.op&&e.field.isEqual(t.field)&&Gv(e.value,t.value)}(e,t):e instanceof mm?function(e,t){return t instanceof mm&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&xm(n,t.filters[r])}),!0)}(e,t):void jp()}function _m(e,t){var n=e.filters.concat(t);return mm.create(n,e.op)}function Sm(e){return e instanceof vm?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Yv(e.value))}(e):e instanceof mm?function(e){return e.op.toString()+" {"+e.getFilters().map(Sm).join(" ,")+"}"}(e):"Filter"}var Im=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,i)).key=tv.fromName(i.referenceValue),a}return y(n,[{key:"matches",value:function(e){var t=tv.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(vm),Em=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"in",r)).keys=Nm("in",r),i}return y(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(vm),Tm=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"not-in",r)).keys=Nm("not-in",r),i}return y(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(vm);function Nm(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return tv.fromName(e.referenceValue)}))}var Cm=function(e){b(n,e);var t=S(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains",r)}return y(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return tm(t)&&Qv(t.arrayValue,this.value)}}]),n}(vm),jm=function(e){b(n,e);var t=S(n);function n(e,r){return d(this,n),t.call(this,e,"in",r)}return y(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Qv(this.value.arrayValue,t)}}]),n}(vm),Am=function(e){b(n,e);var t=S(n);function n(e,r){return d(this,n),t.call(this,e,"not-in",r)}return y(n,[{key:"matches",value:function(e){if(Qv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Qv(this.value.arrayValue,t)}}]),n}(vm),Rm=function(e){b(n,e);var t=S(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains-any",r)}return y(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!tm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Qv(t.value.arrayValue,e)}))}}]),n}(vm),Pm=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";d(this,e),this.field=t,this.dir=n}));function Om(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Dm=function(){function e(t,n){d(this,e),this.comparator=t,this.root=n||Mm.EMPTY}return y(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Mm.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Mm.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Lm(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Lm(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Lm(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Lm(this.root,e,this.comparator,!0)}}]),e}(),Lm=function(){function e(t,n,r,i){d(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return y(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Mm=function(){function e(t,n,r,i,a){d(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return y(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw jp();if(this.right.isRed())throw jp();var e=this.left.check();if(e!==this.right.check())throw jp();return e+(this.isRed()?0:1)}}]),e}();Mm.EMPTY=null,Mm.RED=!0,Mm.BLACK=!1,Mm.EMPTY=new(function(){function e(){d(this,e),this.size=0}return y(e,[{key:"key",get:function(){throw jp()}},{key:"value",get:function(){throw jp()}},{key:"color",get:function(){throw jp()}},{key:"left",get:function(){throw jp()}},{key:"right",get:function(){throw jp()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Mm(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Fm=function(){function e(t){d(this,e),this.comparator=t,this.data=new Dm(this.comparator)}return y(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Um(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Um(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Um=function(){function e(t){d(this,e),this.iter=t}return y(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Vm(e){return e.hasNext()?e.getNext():void 0}var Bm=function(){function e(t){d(this,e),this.fields=t,t.sort(ev.comparator)}return y(e,[{key:"unionWith",value:function(t){var n,r=new Fm(ev.comparator),i=N(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=N(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=N(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Gp(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),qm=function(){function e(t){d(this,e),this.value=t}return y(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!im(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=am(t)}},{key:"setAll",value:function(e){var t=this,n=ev.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=am(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());im(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Gv(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];im(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Av(t,(function(t,n){return e[t]=n}));var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(am(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function zm(e){var t=[];return Av(e.fields,(function(e,n){var r=new ev([e]);if(im(n)){var i=zm(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=N(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Bm(t)}var Wm=function(){function e(t,n,r,i,a,o,s){d(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return y(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Xp.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=qm.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=qm.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Xp.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Xp.min(),Xp.min(),Xp.min(),qm.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Xp.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Xp.min(),Xp.min(),qm.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Xp.min(),Xp.min(),qm.empty(),2)}}]),e}(),Hm=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;d(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ft=null}));function Km(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Hm(e,t,n,r,i,a,o)}function Gm(e){var t=Rp(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return wm(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Pv(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Yv(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Yv(e)})).join(",")),t.ft=n}return t.ft}function Qm(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Om(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!xm(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!dm(e.startAt,t.startAt)&&dm(e.endAt,t.endAt)}function $m(e){return tv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Xm(e,t){return e.filters.filter((function(e){return e instanceof vm&&e.field.isEqual(t)}))}function Ym(e,t,n){var r,i=Hv,a=!0,o=N(Xm(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Hv,c=!0;switch(s.op){case"<":case"<=":u=sm(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=Hv}cm({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];cm({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Jm(e,t,n){var r,i=Wv,a=!0,o=N(Xm(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Wv,c=!0;switch(s.op){case">=":case">":u=um(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=Wv}lm({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];lm({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Zm=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;d(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.dt=null,this._t=null,this.startAt,this.endAt}));function ey(e,t,n,r,i,a,o,s){return new Zm(e,t,n,r,i,a,o,s)}function ty(e){return new Zm(e)}function ny(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ry(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function iy(e){var t,n=N(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function ay(e){return null!==e.collectionGroup}function oy(e){var t=Rp(e);if(null===t.dt){t.dt=[];var n=iy(t),r=ry(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new Pm(n)),t.dt.push(new Pm(ev.keyField(),"asc"));else{var i,a=!1,o=N(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.dt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Pm(ev.keyField(),u))}}}return t.dt}function sy(e){var t=Rp(e);if(!t._t)if("F"===t.limitType)t._t=Km(t.path,t.collectionGroup,oy(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=N(oy(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Pm(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new fm(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new fm(t.startAt.position,t.startAt.inclusive):null;t._t=Km(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function uy(e,t){t.getFirstInequalityField(),iy(e);var n=e.filters.concat([t]);return new Zm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function cy(e,t,n){return new Zm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ly(e,t){return Qm(sy(e),sy(t))&&e.limitType===t.limitType}function fy(e){return"".concat(Gm(sy(e)),"|lt:").concat(e.limitType)}function hy(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Sm(e)})).join(", "),"]")),Pv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Yv(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Yv(e)})).join(",")),"Target(".concat(t,")")}(sy(e)),"; limitType=").concat(e.limitType,")")}function dy(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):tv.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=N(oy(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=N(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=hm(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,oy(e),t))&&!(e.endAt&&!function(e,t,n){var r=hm(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,oy(e),t))}(e,t)}function py(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function vy(e){return function(t,n){var r,i=!1,a=N(oy(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=my(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function my(e,t,n){var r=e.field.isKeyField()?tv.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?$v(r,i):jp()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return jp()}}function yy(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ov(t)?"-0":t}}function gy(e){return{integerValue:""+e}}function by(e,t){return Dv(t)?gy(t):yy(e,t)}var ky=y((function e(){d(this,e),this._=void 0}));function wy(e,t,n){return e instanceof Sy?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Iy?Ey(e,t):e instanceof Ty?Ny(e,t):function(e,t){var n=_y(e,t),r=jy(n)+jy(e.gt);return em(n)&&em(e.gt)?gy(r):yy(e.yt,r)}(e,t)}function xy(e,t,n){return e instanceof Iy?Ey(e,t):e instanceof Ty?Ny(e,t):n}function _y(e,t){return e instanceof Cy?em(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Sy=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n)}(ky),Iy=function(e){b(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return y(n)}(ky);function Ey(e,t){var n,r=Ay(t),i=N(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Gv(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Ty=function(e){b(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return y(n)}(ky);function Ny(e,t){var n,r=Ay(t),i=N(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Gv(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Cy=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).yt=e,i.gt=r,i}return y(n)}(ky);function jy(e){return Uv(e.integerValue||e.doubleValue)}function Ay(e){return tm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Ry=y((function e(t,n){d(this,e),this.field=t,this.transform=n}));var Py=y((function e(t,n){d(this,e),this.version=t,this.transformResults=n})),Oy=function(){function e(t,n){d(this,e),this.updateTime=t,this.exists=n}return y(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Dy(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Ly=y((function e(){d(this,e)}));function My(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new $y(e.key,Oy.none()):new qy(e.key,e.data,Oy.none());var n,r=e.data,i=qm.empty(),a=new Fm(ev.comparator),o=N(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new zy(e.key,i,new Bm(a.toArray()),Oy.none())}function Fy(e,t,n){e instanceof qy?function(e,t,n){var r=e.value.clone(),i=Hy(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof zy?function(e,t,n){if(Dy(e.precondition,t)){var r=Hy(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Wy(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Uy(e,t,n,r){return e instanceof qy?function(e,t,n,r){if(!Dy(e.precondition,t))return n;var i=e.value.clone(),a=Ky(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof zy?function(e,t,n,r){if(!Dy(e.precondition,t))return n;var i=Ky(e.fieldTransforms,r,t),a=t.data;return a.setAll(Wy(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Dy(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Vy(e,t){var n,r=null,i=N(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=_y(a.transform,o||null);null!=s&&(null===r&&(r=qm.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function By(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Gp(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Iy&&t instanceof Iy||e instanceof Ty&&t instanceof Ty?Gp(e.elements,t.elements,Gv):e instanceof Cy&&t instanceof Cy?Gv(e.gt,t.gt):e instanceof Sy&&t instanceof Sy}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var qy=function(e){b(n,e);var t=S(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return d(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return y(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Ly),zy=function(e){b(n,e);var t=S(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return d(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return y(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Ly);function Wy(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Hy(e,t,n){var r=new Map;Ap(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,xy(o,s,n[i]))}return r}function Ky(e,t,n){var r,i=new Map,a=N(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,wy(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Gy,Qy,$y=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return y(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Ly),Xy=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return y(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Ly),Yy=y((function e(t){d(this,e),this.count=t}));function Jy(e){switch(e){default:return jp();case Pp.CANCELLED:case Pp.UNKNOWN:case Pp.DEADLINE_EXCEEDED:case Pp.RESOURCE_EXHAUSTED:case Pp.INTERNAL:case Pp.UNAVAILABLE:case Pp.UNAUTHENTICATED:return!1;case Pp.INVALID_ARGUMENT:case Pp.NOT_FOUND:case Pp.ALREADY_EXISTS:case Pp.PERMISSION_DENIED:case Pp.FAILED_PRECONDITION:case Pp.ABORTED:case Pp.OUT_OF_RANGE:case Pp.UNIMPLEMENTED:case Pp.DATA_LOSS:return!0}}function Zy(e){if(void 0===e)return Tp("GRPC error has no .code"),Pp.UNKNOWN;switch(e){case Gy.OK:return Pp.OK;case Gy.CANCELLED:return Pp.CANCELLED;case Gy.UNKNOWN:return Pp.UNKNOWN;case Gy.DEADLINE_EXCEEDED:return Pp.DEADLINE_EXCEEDED;case Gy.RESOURCE_EXHAUSTED:return Pp.RESOURCE_EXHAUSTED;case Gy.INTERNAL:return Pp.INTERNAL;case Gy.UNAVAILABLE:return Pp.UNAVAILABLE;case Gy.UNAUTHENTICATED:return Pp.UNAUTHENTICATED;case Gy.INVALID_ARGUMENT:return Pp.INVALID_ARGUMENT;case Gy.NOT_FOUND:return Pp.NOT_FOUND;case Gy.ALREADY_EXISTS:return Pp.ALREADY_EXISTS;case Gy.PERMISSION_DENIED:return Pp.PERMISSION_DENIED;case Gy.FAILED_PRECONDITION:return Pp.FAILED_PRECONDITION;case Gy.ABORTED:return Pp.ABORTED;case Gy.OUT_OF_RANGE:return Pp.OUT_OF_RANGE;case Gy.UNIMPLEMENTED:return Pp.UNIMPLEMENTED;case Gy.DATA_LOSS:return Pp.DATA_LOSS;default:return jp()}}(Qy=Gy||(Gy={}))[Qy.OK=0]="OK",Qy[Qy.CANCELLED=1]="CANCELLED",Qy[Qy.UNKNOWN=2]="UNKNOWN",Qy[Qy.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qy[Qy.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qy[Qy.NOT_FOUND=5]="NOT_FOUND",Qy[Qy.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qy[Qy.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qy[Qy.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qy[Qy.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qy[Qy.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qy[Qy.ABORTED=10]="ABORTED",Qy[Qy.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qy[Qy.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qy[Qy.INTERNAL=13]="INTERNAL",Qy[Qy.UNAVAILABLE=14]="UNAVAILABLE",Qy[Qy.DATA_LOSS=15]="DATA_LOSS";var eg=function(){function e(t,n){d(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return y(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Av(this.inner,(function(t,n){var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Rv(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),tg=new Dm(tv.comparator);function ng(){return tg}var rg=new Dm(tv.comparator);function ig(){for(var e=rg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function ag(e){var t=rg;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function og(){return ug()}function sg(){return ug()}function ug(){return new eg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var cg=new Dm(tv.comparator),lg=new Fm(tv.comparator);function fg(){for(var e=lg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var hg=new Fm(Kp);function dg(){return hg}var pg=function(){function e(t,n,r,i,a){d(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return y(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,vg.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Xp.min(),i,dg(),ng(),fg())}}]),e}(),vg=function(){function e(t,n,r,i,a){d(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return y(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,fg(),fg(),fg())}}]),e}(),mg=y((function e(t,n,r,i){d(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),yg=y((function e(t,n){d(this,e),this.targetId=t,this.Et=n})),gg=y((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lv.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;d(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),bg=function(){function e(){d(this,e),this.At=0,this.Rt=xg(),this.bt=Lv.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}return y(e,[{key:"current",get:function(){return this.Pt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.vt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}},{key:"Ct",value:function(){var e=fg(),t=fg(),n=fg();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:jp()}})),new vg(this.bt,this.Pt,e,t,n)}},{key:"xt",value:function(){this.vt=!1,this.Rt=xg()}},{key:"Nt",value:function(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.vt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"Mt",value:function(){this.At-=1}},{key:"Ft",value:function(){this.vt=!0,this.Pt=!0}}]),e}(),kg=function(){function e(t){d(this,e),this.$t=t,this.Bt=new Map,this.Lt=ng(),this.qt=wg(),this.Ut=new Fm(Kp)}return y(e,[{key:"Kt",value:function(e){var t,n=N(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(s){n.e(s)}finally{n.f()}var i,a=N(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"jt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Wt(n);switch(e.state){case 0:t.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||t.removeTarget(n);break;case 3:t.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:t.zt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:jp()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.zt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){var i=r.target;if($m(i))if(0===n){var a=new tv(i.path);this.Qt(t,a,Wm.newNoDocument(a,Xp.min()))}else Ap(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}},{key:"Zt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&$m(a.target)){var o=new tv(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,Wm.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=fg();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new pg(e,n,this.Ut,this.Lt,r);return this.Lt=ng(),this.qt=wg(),this.Ut=new Fm(Kp),i}},{key:"Gt",value:function(e,t){if(this.zt(e)){var n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.zt(e)){var r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Xt",value:function(e){var t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Wt(e).Ot()}},{key:"Wt",value:function(e){var t=this.Bt.get(e);return t||(t=new bg,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new Fm(Kp),this.qt=this.qt.insert(e,t)),t}},{key:"zt",value:function(e){var t=null!==this.Yt(e);return t||Ep("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new bg),this.$t.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}]),e}();function wg(){return new Dm(tv.comparator)}function xg(){return new Dm(tv.comparator)}var _g={asc:"ASCENDING",desc:"DESCENDING"},Sg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ig={and:"AND",or:"OR"},Eg=y((function e(t,n){d(this,e),this.databaseId=t,this.wt=n}));function Tg(e,t){return e.wt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ng(e,t){return e.wt?t.toBase64():t.toUint8Array()}function Cg(e,t){return Tg(e,t.toTimestamp())}function jg(e){return Ap(!!e),Xp.fromTimestamp(function(e){var t=Fv(e);return new $p(t.seconds,t.nanos)}(e))}function Ag(e,t){return function(e){return new Jp(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Rg(e){var t=Jp.fromString(e);return Ap(tb(t)),t}function Pg(e,t){return Ag(e.databaseId,t.path)}function Og(e,t){var n=Rg(t);if(n.get(1)!==e.databaseId.projectId)throw new Op(Pp.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Op(Pp.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new tv(Fg(n))}function Dg(e,t){return Ag(e.databaseId,t)}function Lg(e){var t=Rg(e);return 4===t.length?Jp.emptyPath():Fg(t)}function Mg(e){return new Jp(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Fg(e){return Ap(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ug(e,t,n){return{name:Pg(e,t),fields:n.value.mapValue.fields}}function Vg(e,t,n){var r=Og(e,t.name),i=jg(t.updateTime),a=t.createTime?jg(t.createTime):Xp.min(),o=new qm({mapValue:{fields:t.fields}}),s=Wm.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Bg(e,t){return"found"in t?function(e,t){Ap(!!t.found),t.found.name,t.found.updateTime;var n=Og(e,t.found.name),r=jg(t.found.updateTime),i=t.found.createTime?jg(t.found.createTime):Xp.min(),a=new qm({mapValue:{fields:t.found.fields}});return Wm.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Ap(!!t.missing),Ap(!!t.readTime);var n=Og(e,t.missing),r=jg(t.readTime);return Wm.newNoDocument(n,r)}(e,t):jp()}function qg(e,t){var n;if(t instanceof qy)n={update:Ug(e,t.key,t.value)};else if(t instanceof $y)n={delete:Pg(e,t.key)};else if(t instanceof zy)n={update:Ug(e,t.key,t.data),updateMask:eb(t.fieldMask)};else{if(!(t instanceof Xy))return jp();n={verify:Pg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Sy)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Iy)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ty)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Cy)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw jp()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Cg(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:jp()}(e,t.precondition)),n}function zg(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Oy.updateTime(jg(e.updateTime)):void 0!==e.exists?Oy.exists(e.exists):Oy.none()}(t.currentDocument):Oy.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Ap("REQUEST_TIME"===t.setToServerValue),n=new Sy;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Iy(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Ty(i)}else"increment"in t?n=new Cy(e,t.increment):jp();var a=ev.fromServerFormat(t.fieldPath);return new Ry(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Og(e,t.update.name),a=new qm({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Bm(t.map((function(e){return ev.fromServerFormat(e)})))}(t.updateMask);return new zy(i,a,o,n,r)}return new qy(i,a,n,r)}if(t.delete){var s=Og(e,t.delete);return new $y(s,n)}if(t.verify){var u=Og(e,t.verify);return new Xy(u,n)}return jp()}function Wg(e,t){return{documents:[Dg(e,t.path)]}}function Hg(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Dg(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Dg(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Zg(mm.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Yg(e.field),direction:Qg(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.wt||Pv(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Kg(e){var t=Lg(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ap(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Gg(e);return t instanceof mm&&bm(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Pm(Jg(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Pv(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new fm(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new fm(n,t)}(n.endAt)),ey(t,i,s,o,u,"F",c,l)}function Gg(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Jg(e.unaryFilter.field);return vm.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Jg(e.unaryFilter.field);return vm.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Jg(e.unaryFilter.field);return vm.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Jg(e.unaryFilter.field);return vm.create(i,"!=",{nullValue:"NULL_VALUE"});default:return jp()}}(e):void 0!==e.fieldFilter?function(e){return vm.create(Jg(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return jp()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return mm.create(e.compositeFilter.filters.map((function(e){return Gg(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return jp()}}(e.compositeFilter.op))}(e):jp()}function Qg(e){return _g[e]}function $g(e){return Sg[e]}function Xg(e){return Ig[e]}function Yg(e){return{fieldPath:e.canonicalString()}}function Jg(e){return ev.fromServerFormat(e.fieldPath)}function Zg(e){return e instanceof vm?function(e){if("=="===e.op){if(rm(e.value))return{unaryFilter:{field:Yg(e.field),op:"IS_NAN"}};if(nm(e.value))return{unaryFilter:{field:Yg(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(rm(e.value))return{unaryFilter:{field:Yg(e.field),op:"IS_NOT_NAN"}};if(nm(e.value))return{unaryFilter:{field:Yg(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yg(e.field),op:$g(e.op),value:e.value}}}(e):e instanceof mm?function(e){var t=e.getFilters().map((function(e){return Zg(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Xg(e.op),filters:t}}}(e):jp()}function eb(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function tb(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function nb(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=ib(t)),t=rb(e.get(n),t);return ib(t)}function rb(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function ib(e){return e+"\x01\x01"}function ab(e){var t=e.length;if(Ap(t>=2),2===t)return Ap("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Jp.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&jp(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:jp()}a=o+2}return new Jp(r)}var ob=["userId","batchId"];function sb(e,t){return[e,nb(t)]}function ub(e,t,n){return[e,nb(t),n]}var cb={},lb=["prefixPath","collectionGroup","readTime","documentId"],fb=["prefixPath","collectionGroup","documentId"],hb=["collectionGroup","readTime","prefixPath","documentId"],db=["canonicalId","targetId"],pb=["targetId","path"],vb=["path","targetId"],mb=["collectionId","parent"],yb=["indexId","uid"],gb=["uid","sequenceNumber"],bb=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],kb=["indexId","uid","orderedDocumentKey"],wb=["userId","collectionPath","documentId"],xb=["userId","collectionPath","largestBatchId"],_b=["userId","collectionGroup","largestBatchId"],Sb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Ib=[].concat(h(Sb),["documentOverlays"]),Eb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Tb=Eb,Nb=[].concat(Tb,["indexConfiguration","indexState","indexEntries"]),Cb=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).se=e,i.currentSequenceNumber=r,i}return y(n)}(hv);function jb(e,t){var n=Rp(e);return yv.M(n.se,t)}var Ab=function(){function e(t,n,r,i){d(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return y(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Fy(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=N(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Uy(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=N(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=Uy(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=sg();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=My(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Xp.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),fg())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Gp(this.mutations,e.mutations,(function(e,t){return By(e,t)}))&&Gp(this.baseMutations,e.baseMutations,(function(e,t){return By(e,t)}))}}]),e}(),Rb=function(){function e(t,n,r,i){d(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return y(e,null,[{key:"from",value:function(t,n,r){Ap(t.mutations.length===r.length);for(var i=cg,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Pb=function(){function e(t,n){d(this,e),this.largestBatchId=t,this.mutation=n}return y(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Ob=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Xp.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Xp.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Lv.EMPTY_BYTE_STRING;d(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return y(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Db=y((function e(t){d(this,e),this.ie=t}));function Lb(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Mb(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Pg(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Tg(e,t.version.toTimestamp()),createTime:Tg(e,t.createTime.toTimestamp())}}(e.ie,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Fb(t.version)};else{if(!t.isUnknownDocument())return jp();r.unknownDocument={path:n.path.toArray(),version:Fb(t.version)}}return r}function Mb(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Fb(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ub(e){var t=new $p(e.seconds,e.nanoseconds);return Xp.fromTimestamp(t)}function Vb(e,t){for(var n=(t.baseMutations||[]).map((function(t){return zg(e.ie,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return zg(e.ie,t)})),s=$p.fromMillis(t.localWriteTimeMs);return new Ab(t.batchId,s,n,o)}function Bb(e){var t,n,r=Ub(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Ub(e.lastLimboFreeSnapshotVersion):Xp.min();return void 0!==e.query.documents?(Ap(1===(n=e.query).documents.length),t=sy(ty(Lg(n.documents[0])))):t=function(e){return sy(Kg(e))}(e.query),new Ob(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Lv.fromBase64String(e.resumeToken))}function qb(e,t){var n,r=Fb(t.snapshotVersion),i=Fb(t.lastLimboFreeSnapshotVersion);n=$m(t.target)?Wg(e.ie,t.target):Hg(e.ie,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Gm(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function zb(e){var t=Kg({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?cy(t,t.limit,"L"):t}function Wb(e,t){return new Pb(t.largestBatchId,zg(e.ie,t.overlayMutation))}function Hb(e,t){var n=t.path.lastSegment();return[e,nb(t.path.popLast()),n]}function Kb(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Fb(r.readTime),documentKey:nb(r.documentKey.path),largestBatchId:r.largestBatchId}}var Gb=function(){function e(){d(this,e)}return y(e,[{key:"getBundleMetadata",value:function(e,t){return Qb(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Ub(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Qb(e).put({bundleId:(n=t).id,createTime:Fb(jg(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return $b(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:zb(t.bundledQuery),readTime:Ub(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return $b(e).put(function(e){return{name:e.name,readTime:Fb(jg(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Qb(e){return jb(e,"bundles")}function $b(e){return jb(e,"namedQueries")}var Xb=function(){function e(t,n){d(this,e),this.yt=t,this.userId=n}return y(e,[{key:"getOverlay",value:function(e,t){var n=this;return Yb(e).get(Hb(this.userId,t)).next((function(e){return e?Wb(n.yt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=og();return vv.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Pb(t,a);i.push(r.oe(e,o))})),vv.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(nb(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Yb(e).Y("collectionPathOverlayIndex",i))})),vv.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=og(),a=nb(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Yb(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=N(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Wb(r.yt,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=og(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Yb(e).Z({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=Wb(a.yt,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"oe",value:function(e,t){return Yb(e).put(function(e,t,n){var r=l(Hb(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:qg(e.ie,n.mutation)}}(this.yt,this.userId,t))}}],[{key:"re",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Yb(e){return jb(e,"documentOverlays")}var Jb=function(){function e(){d(this,e)}return y(e,[{key:"ue",value:function(e,t){this.ce(e,t),t.ae()}},{key:"ce",value:function(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Uv(e.integerValue));else if("doubleValue"in e){var n=Uv(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),Ov(n)?t.le(0):t.le(n))}else if("timestampValue"in e){var r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe("".concat(r.seconds||"")),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(Vv(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?om(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):jp()}},{key:"de",value:function(e,t){this.he(t,25),this.pe(e,t)}},{key:"pe",value:function(e,t){t.fe(e)}},{key:"ge",value:function(e,t){var n=e.fields||{};this.he(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.de(a,t),this.ce(n[a],t)}}},{key:"ye",value:function(e,t){var n=e.values||[];this.he(t,50);var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ce(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"me",value:function(e,t){var n=this;this.he(t,37),tv.fromName(e).path.forEach((function(e){n.he(t,60),n.pe(e,t)}))}},{key:"he",value:function(e,t){e.le(t)}},{key:"_e",value:function(e){e.le(2)}}]),e}();function Zb(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function ek(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Zb(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Jb.Ie=new Jb;var tk=function(){function e(){d(this,e),this.buffer=new Uint8Array(1024),this.position=0}return y(e,[{key:"Te",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ee(n.value),n=t.next();this.Ae()}},{key:"Re",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.be(n.value),n=t.next();this.Pe()}},{key:"ve",value:function(e){var t,n=N(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{var a=r.codePointAt(0);this.Ee(240|a>>>18),this.Ee(128|63&a>>>12),this.Ee(128|63&a>>>6),this.Ee(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ae()}},{key:"Ve",value:function(e){var t,n=N(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{var a=r.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Pe()}},{key:"Se",value:function(e){var t=this.De(e),n=ek(t);this.Ce(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"xe",value:function(e){var t=this.De(e),n=ek(t);this.Ce(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"Oe",value:function(){this.Me(255),this.Me(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Fe",value:function(){return this.buffer.slice(0,this.position)}},{key:"De",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ee",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}},{key:"be",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}},{key:"Ae",value:function(){this.ke(0),this.ke(1)}},{key:"Pe",value:function(){this.Me(0),this.Me(1)}},{key:"ke",value:function(e){this.Ce(1),this.buffer[this.position++]=e}},{key:"Me",value:function(e){this.Ce(1),this.buffer[this.position++]=~e}},{key:"Ce",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),nk=function(){function e(t){d(this,e),this.$e=t}return y(e,[{key:"we",value:function(e){this.$e.Te(e)}},{key:"fe",value:function(e){this.$e.ve(e)}},{key:"le",value:function(e){this.$e.Se(e)}},{key:"ae",value:function(){this.$e.Ne()}}]),e}(),rk=function(){function e(t){d(this,e),this.$e=t}return y(e,[{key:"we",value:function(e){this.$e.Re(e)}},{key:"fe",value:function(e){this.$e.Ve(e)}},{key:"le",value:function(e){this.$e.xe(e)}},{key:"ae",value:function(){this.$e.Oe()}}]),e}(),ik=function(){function e(){d(this,e),this.$e=new tk,this.Be=new nk(this.$e),this.Le=new rk(this.$e)}return y(e,[{key:"seed",value:function(e){this.$e.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Be:this.Le}},{key:"Fe",value:function(){return this.$e.Fe()}},{key:"reset",value:function(){this.$e.reset()}}]),e}(),ak=function(){function e(t,n,r,i){d(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return y(e,[{key:"Ue",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function ok(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=sk(e.arrayValue,t.arrayValue))?n:0!==(n=sk(e.directionalValue,t.directionalValue))?n:tv.comparator(e.documentKey,t.documentKey)}function sk(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var uk=function(){function e(t){d(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];var n,r=N(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Qe=i:this.Ge.push(i)}}catch(a){r.e(a)}finally{r.f()}}return y(e,[{key:"je",value:function(e){Ap(e.collectionGroup===this.collectionId);var t=rv(e);if(void 0!==t&&!this.We(t))return!1;for(var n=iv(e),r=0,i=0;r<n.length&&this.We(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Qe){var a=n[r];if(!this.ze(this.Qe,a)||!this.He(this.Ke[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ke.length||!this.He(this.Ke[i++],o))return!1}return!0}},{key:"We",value:function(e){var t,n=N(this.Ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.ze(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"ze",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"He",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function ck(e){var t,n;if(Ap(e instanceof vm||e instanceof mm),e instanceof vm){if(e instanceof jm){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return vm.create(e.field,"==",t)})))||[];return mm.create(r,"or")}return e}var i=e.filters.map((function(e){return ck(e)}));return mm.create(i,e.op)}function lk(e){if(0===e.getFilters().length)return[];var t=pk(ck(e));return Ap(dk(t)),fk(t)||hk(t)?[t]:t.getFilters()}function fk(e){return e instanceof vm}function hk(e){return e instanceof mm&&bm(e)}function dk(e){return fk(e)||hk(e)||function(e){if(e instanceof mm&&gm(e)){var t,n=N(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!fk(r)&&!hk(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function pk(e){if(Ap(e instanceof vm||e instanceof mm),e instanceof vm)return e;if(1===e.filters.length)return pk(e.filters[0]);var t=e.filters.map((function(e){return pk(e)})),n=mm.create(t,e.op);return dk(n=yk(n))?n:(Ap(n instanceof mm),Ap(ym(n)),Ap(n.filters.length>1),n.filters.reduce((function(e,t){return vk(e,t)})))}function vk(e,t){var n;return Ap(e instanceof vm||e instanceof mm),Ap(t instanceof vm||t instanceof mm),n=e instanceof vm?t instanceof vm?function(e,t){return mm.create([e,t],"and")}(e,t):mk(e,t):t instanceof vm?mk(t,e):function(e,t){if(Ap(e.filters.length>0&&t.filters.length>0),ym(e)&&ym(t))return _m(e,t.getFilters());var n=gm(e)?e:t,r=gm(e)?t:e,i=n.filters.map((function(e){return vk(e,r)}));return mm.create(i,"or")}(e,t),yk(n)}function mk(e,t){if(ym(t))return _m(t,e.getFilters());var n=t.filters.map((function(t){return vk(e,t)}));return mm.create(n,"or")}function yk(e){if(Ap(e instanceof vm||e instanceof mm),e instanceof vm)return e;var t=e.getFilters();if(1===t.length)return yk(t[0]);if(km(e))return e;var n=t.map((function(e){return yk(e)})),r=[];return n.forEach((function(t){t instanceof vm?r.push(t):t instanceof mm&&(t.op===e.op?r.push.apply(r,h(t.filters)):r.push(t))})),1===r.length?r[0]:mm.create(r,e.op)}var gk=function(){function e(){d(this,e),this.Je=new bk}return y(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Je.add(t),vv.resolve()}},{key:"getCollectionParents",value:function(e,t){return vv.resolve(this.Je.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return vv.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return vv.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return vv.resolve(null)}},{key:"getIndexType",value:function(e,t){return vv.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return vv.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return vv.resolve(null)}},{key:"getMinOffset",value:function(e,t){return vv.resolve(cv.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return vv.resolve(cv.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return vv.resolve()}},{key:"updateIndexEntries",value:function(e,t){return vv.resolve()}}]),e}(),bk=function(){function e(){d(this,e),this.index={}}return y(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Fm(Jp.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Fm(Jp.comparator)).toArray()}}]),e}(),kk=new Uint8Array(0),wk=function(){function e(t,n){d(this,e),this.user=t,this.databaseId=n,this.Ye=new bk,this.Xe=new eg((function(e){return Gm(e)}),(function(e,t){return Qm(e,t)})),this.uid=t.uid||""}return y(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ye.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ye.add(t)}));var a={collectionId:r,parent:nb(i)};return xk(e).put(a)}return vv.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Qp(t),""],!1,!0);return xk(e).W(r).next((function(e){var r,i=N(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(ab(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Sk(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Ik(e);return a.next((function(e){o.put(Kb(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Sk(e),r=Ik(e),i=_k(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=_k(e),i=!0,a=new Map;return vv.forEach(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=fg(),o=[];return vv.forEach(a,(function(i,a){var s;Ep("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Gm(t)));var u=function(e,t){var n=rv(t);if(void 0===n)return null;var r,i=N(Xm(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=N(iv(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=N(Xm(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=N(iv(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Ym(e,o.fieldPath,e.startAt):Jm(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new fm(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=N(iv(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Jm(e,o.fieldPath,e.endAt):Ym(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new fm(r,i)}(a,i),h=n.en(i,a,l),d=n.en(i,a,f),p=n.nn(i,a,c),v=n.sn(i.indexId,u,h,l.inclusive,d,f.inclusive,p);return vv.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=tv.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return vv.resolve(null)}))}},{key:"Ze",value:function(e){var t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:lk(mm.create(e.filters,"and")).map((function(t){return Km(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.Xe.set(e,t),t)}},{key:"sn",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(){var u=t?s.rn(t[d/c]):kk,f=s.on(e,u,n[d%c],r),p=s.un(e,u,i[d%c],a),v=o.map((function(t){return s.on(e,u,t,!0)}));l.push.apply(l,h(s.createRange(f,p,v)))},d=0;d<u;++d)f();return l}},{key:"on",value:function(e,t,n,r){var i=new ak(e,tv.empty(),t,n);return r?i:i.Ue()}},{key:"un",value:function(e,t,n,r){var i=new ak(e,tv.empty(),t,n);return r?i.Ue():i}},{key:"tn",value:function(e,t){var n=new uk(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=N(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.je(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.Ze(t);return vv.forEach(i,(function(t){return n.tn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Fm(ev.comparator),r=!1,i=N(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=N(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=N(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"cn",value:function(e,t){var n,r=new ik,i=N(iv(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.qe(a.kind);Jb.Ie.ue(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Fe()}},{key:"rn",value:function(e){var t=new ik;return Jb.Ie.ue(e,t.qe(0)),t.Fe()}},{key:"an",value:function(e,t){var n=new ik;return Jb.Ie.ue(Zv(this.databaseId,t),n.qe(function(e){var t=iv(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Fe()}},{key:"nn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new ik);var i,a=0,o=N(iv(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=N(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.hn(t,u.fieldPath)&&tm(c))r=this.ln(r,u,c);else{var h=f.qe(u.kind);Jb.Ie.ue(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.fn(r)}},{key:"en",value:function(e,t,n){return this.nn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Fe();return t}},{key:"ln",value:function(e,t,n){var r,i=h(e),a=[],o=N(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=N(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new ik;f.seed(l.Fe()),Jb.Ie.ue(u,f.qe(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"hn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof vm&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Sk(e),i=Ik(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return vv.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new ov(t.sequenceNumber,new cv(Ub(t.readTime),new tv(ab(t.documentKey)),t.largestBatchId)):ov.empty(),r=e.fields.map((function(e){var t=l(e,2),n=t[0],r=t[1];return new av(ev.fromServerFormat(n),r)}));return new nv(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Kp(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Sk(e),a=Ik(e);return this.dn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return vv.forEach(t,(function(t){return a.put(Kb(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return vv.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?vv.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),vv.forEach(a,(function(r){return n._n(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?vv.resolve():n.mn(e,i,r,t,a)}))}))}))}))}},{key:"gn",value:function(e,t,n,r){return _k(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(n,t.key),documentKey:t.key.path.toArray()})}},{key:"yn",value:function(e,t,n,r){return _k(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(n,t.key),t.key.path.toArray()])}},{key:"_n",value:function(e,t,n){var r=_k(e),i=new Fm(ok);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.an(n,t)])},(function(e,r){i=i.add(new ak(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new Fm(ok),r=this.cn(t,e);if(null==r)return n;var i=rv(t);if(null!=i){var a=e.data.field(i.fieldPath);if(tm(a)){var o,s=N(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new ak(t.indexId,e.key,this.rn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new ak(t.indexId,e.key,kk,r));return n}},{key:"mn",value:function(e,t,n,r,i){var a=this;Ep("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=Vm(a),u=Vm(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=Vm(o)):l?(i(s),s=Vm(a)):(s=Vm(a),u=Vm(o))}}(r,i,ok,(function(r){o.push(a.gn(e,t,n,r))}),(function(r){o.push(a.yn(e,t,n,r))})),vv.waitFor(o)}},{key:"dn",value:function(e){var t=1;return Ik(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return ok(e,t)})).filter((function(e,t,n){return!t||0!==ok(e,n[t-1])}));var r=[];r.push(e);var i,a=N(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=ok(o,e),u=ok(o,t);if(0===s)r[0]=e.Ue();else if(s>0&&u<0)r.push(o),r.push(o.Ue());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.pn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,kk,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,kk,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"pn",value:function(e,t){return ok(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Ek)}},{key:"getMinOffset",value:function(e,t){var n=this;return vv.mapArray(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){return e||jp()}))})).next(Ek)}}]),e}();function xk(e){return jb(e,"collectionParents")}function _k(e){return jb(e,"indexEntries")}function Sk(e){return jb(e,"indexConfiguration")}function Ik(e){return jb(e,"indexState")}function Ek(e){Ap(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;lv(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new cv(t.readTime,t.documentKey,n)}var Tk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nk=function(){function e(t,n,r){d(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return y(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Ck(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Z({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){Ap(1===s)})));var c,l=[],f=N(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=ub(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return vv.waitFor(a).next((function(){return l}))}function jk(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw jp();t=e.noDocument}return JSON.stringify(t).length}Nk.DEFAULT_COLLECTION_PERCENTILE=10,Nk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nk.DEFAULT=new Nk(41943040,Nk.DEFAULT_COLLECTION_PERCENTILE,Nk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nk.DISABLED=new Nk(-1,0,0);var Ak=function(){function e(t,n,r,i){d(this,e),this.userId=t,this.yt=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return y(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Pk(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Ok(e),o=Pk(e);return o.add({}).next((function(s){Ap("number"==typeof s);var u,c=new Ab(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return qg(e.ie,t)})),i=n.mutations.map((function(t){return qg(e.ie,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.yt,i.userId,c),f=[],h=new Fm((function(e,t){return Kp(e.canonicalString(),t.canonicalString())})),d=N(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=ub(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,cb))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[s]=c.keys()})),vv.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Pk(e).get(t).next((function(e){return e?(Ap(e.userId===n.userId),Vb(n.yt,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?vv.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Pk(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Ap(t.batchId>=r),a=Vb(n.yt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Pk(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Pk(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return Vb(t.yt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=sb(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Ok(e).Z({range:i},(function(r,i,o){var s=l(r,3),u=s[0],c=s[1],f=s[2],h=ab(c);if(u===n.userId&&t.path.isEqual(h))return Pk(e).get(f).next((function(e){if(!e)throw jp();Ap(e.userId===n.userId),a.push(Vb(n.yt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Fm(Kp),i=[];return t.forEach((function(t){var a=sb(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=Ok(e).Z({range:o},(function(e,i,a){var o=l(e,3),s=o[0],u=o[1],c=o[2],f=ab(u);s===n.userId&&t.path.isEqual(f)?r=r.add(c):a.done()}));i.push(s)})),vv.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=sb(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Fm(Kp);return Ok(e).Z({range:o},(function(e,t,a){var o=l(e,3),u=o[0],c=o[1],f=o[2],h=ab(c);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.En(e,s)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Pk(e).get(t).next((function(e){if(null===e)throw jp();Ap(e.userId===n.userId),r.push(Vb(n.yt,e))})))})),vv.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Ck(e.se,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),vv.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return vv.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Ok(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=ab(e[1]);i.push(a)}else r.done()})).next((function(){Ap(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Rk(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return Dk(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"re",value:function(t,n,r,i){return Ap(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Rk(e,t,n){var r=sb(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Ok(e).Z({range:a,X:!0},(function(e,n,r){var a=l(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function Pk(e){return jb(e,"mutations")}function Ok(e){return jb(e,"documentMutations")}function Dk(e){return jb(e,"mutationQueues")}var Lk=function(){function e(t){d(this,e),this.bn=t}return y(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),Mk=function(){function e(t,n){d(this,e),this.referenceDelegate=t,this.yt=n}return y(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new Lk(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return Xp.fromTimestamp(new $p(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Fk(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return Ap(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Fk(e).Z((function(o,s){var u=Bb(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return vv.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Fk(e).Z((function(e,n){var r=Bb(n);t(r)}))}},{key:"Vn",value:function(e){return Uk(e).get("targetGlobalKey").next((function(e){return Ap(null!==e),e}))}},{key:"Sn",value:function(e,t){return Uk(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return Fk(e).put(qb(this.yt,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Gm(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Fk(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Bb(n);Qm(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Vk(e);return t.forEach((function(t){var o=nb(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),vv.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Vk(e);return vv.forEach(t,(function(t){var a=nb(t.path);return vv.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Vk(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Vk(e),i=fg();return r.Z({range:n,X:!0},(function(e,t,n){var r=ab(e[1]),a=new tv(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=nb(t.path),r=IDBKeyRange.bound([n],[Qp(n)],!1,!0),i=0;return Vk(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=l(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ne",value:function(e,t){return Fk(e).get(t).next((function(e){return e?Bb(e):null}))}}]),e}();function Fk(e){return jb(e,"targets")}function Uk(e){return jb(e,"targetGlobal")}function Vk(e){return jb(e,"targetDocuments")}function Bk(e,t){var n=l(e,2),r=n[0],i=n[1],a=l(t,2),o=a[0],s=a[1],u=Kp(r,o);return 0===u?Kp(i,s):u}var qk=function(){function e(t){d(this,e),this.xn=t,this.buffer=new Fm(Bk),this.Nn=0}return y(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Bk(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),zk=function(){function e(t,n,r){d(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return y(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;Ep("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Et(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!kv(e.t0)){e.next=12;break}Ep("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,dv(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Wk=function(){function e(t,n){d(this,e),this.$n=t,this.params=n}return y(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return vv.resolve(Tv.at);var r=new qk(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ep("LruGarbageCollector","Garbage collection skipped; disabled"),vv.resolve(Tk)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Ep("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Tk):n.qn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"qn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Ep("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Ip()<=At.DEBUG&&Ep("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),vv.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Hk=function(){function e(t,n){d(this,e),this.db=t,this.garbageCollector=function(e,t){return new Wk(e,t)}(this,n)}return y(e,[{key:"Bn",value:function(e){var t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Un",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Kk(e,n)}},{key:"removeReference",value:function(e,t,n){return Kk(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Kk(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return Dk(e).tt((function(r){return Rk(e,r,t).next((function(e){return e&&(n=!0),vv.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,s){if(s<=t){var u=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Xp.min()),Vk(e).delete([0,nb(o.path)])}))}));i.push(u)}})).next((function(){return vv.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Kk(e,t)}},{key:"Kn",value:function(e,t){var n,r=Vk(e),i=Tv.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=l(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==Tv.at&&t(new tv(ab(n)),i),i=u,n=s):i=Tv.at})).next((function(){i!==Tv.at&&t(new tv(ab(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Kk(e,t){return Vk(e).put(function(e,t){return{targetId:0,path:nb(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Gk=function(){function e(){d(this,e),this.changes=new eg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return y(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Wm.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?vv.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Qk=function(){function e(t){d(this,e),this.yt=t}return y(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Jk(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Jk(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Mb(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Wm.newInvalidDocument(t);return Jk(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Zk(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:Wm.newInvalidDocument(t)};return Jk(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Zk(t))},(function(e,i){r={document:n.jn(t,i),size:jk(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=ng();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=ng(),i=new Dm(tv.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,jk(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return vv.resolve();var r=new Fm(tw);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Zk(r.first()),Zk(r.last())),a=r.getIterator(),o=a.getNext();return Jk(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=tv.fromSegments([].concat(h(t.prefixPath),[t.collectionGroup,t.documentId]));o&&tw(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(Zk(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Mb(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Jk(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=ng(),i=N(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(tv.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(s){i.e(s)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=ng(),o=ew(t,n),s=ew(t,cv.max());return Jk(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.jn(tv.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Xk(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Yk(e).get("remoteDocumentGlobalKey").next((function(e){return Ap(!!e),e}))}},{key:"Qn",value:function(e,t){return Yk(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Vg(e.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=tv.fromSegments(t.noDocument.path),i=Ub(t.noDocument.readTime);n=Wm.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return jp();var a=tv.fromSegments(t.unknownDocument.path),o=Ub(t.unknownDocument.version);n=Wm.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new $p(e[0],e[1]);return Xp.fromTimestamp(t)}(t.readTime)),n}(this.yt,t);if(!n.isNoDocument()||!n.version.isEqual(Xp.min()))return n}return Wm.newInvalidDocument(e)}}]),e}();function $k(e){return new Qk(e)}var Xk=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new eg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return y(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Fm((function(e,t){return Kp(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=Lb(t.Yn.yt,o);i=i.add(a.path.popLast());var c=jk(u);r+=c-s.size,n.push(t.Yn.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=Lb(t.Yn.yt,o.convertToNoDocument(Xp.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),vv.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Gk);function Yk(e){return jb(e,"remoteDocumentGlobal")}function Jk(e){return jb(e,"remoteDocumentsV14")}function Zk(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function ew(e,t){var n=t.documentKey.path.toArray();return[e,Mb(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function tw(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Kp(n[a],r[a]))return i;return(i=Kp(n.length,r.length))||((i=Kp(n[n.length-2],r[r.length-2]))||Kp(n[n.length-1],r[r.length-1]))}var nw=y((function e(t,n){d(this,e),this.overlayedDocument=t,this.mutatedFields=n})),rw=function(){function e(t,n,r,i){d(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return y(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Uy(r.mutation,e,Bm.empty(),$p.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,fg()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fg(),i=og();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=ig();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=og();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,fg())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=ng(),a=ug(),o=ug();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof zy)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),Uy(o.mutation,t,o.mutation.getFieldMask(),$p.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new nw(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=ug(),i=new Dm((function(e,t){return e-t})),a=fg();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=N(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Bm.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||fg()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=sg();c.forEach((function(e){if(!a.has(e)){var n=My(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return vv.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return tv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ay(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):vv.resolve(og()),s=-1,u=a;return o.next((function(t){return vv.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?vv.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,fg())})).next((function(e){return{batchId:s,changes:ag(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new tv(t)).next((function(e){var t=ig();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=ig();return this.indexManager.getCollectionParents(e,i).next((function(o){return vv.forEach(o,(function(o){var s=function(e,t){return new Zm(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Wm.newInvalidDocument(n)))}));var n=ig();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&Uy(a.mutation,i,Bm.empty(),$p.now()),dy(t,i)&&(n=n.insert(r,i))})),n}))}}]),e}(),iw=function(){function e(t){d(this,e),this.yt=t,this.Zn=new Map,this.ts=new Map}return y(e,[{key:"getBundleMetadata",value:function(e,t){return vv.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:jg(n.createTime)}),vv.resolve()}},{key:"getNamedQuery",value:function(e,t){return vv.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:zb(e.bundledQuery),readTime:jg(e.readTime)}}(t)),vv.resolve()}}]),e}(),aw=function(){function e(){d(this,e),this.overlays=new Dm(tv.comparator),this.es=new Map}return y(e,[{key:"getOverlay",value:function(e,t){return vv.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=og();return vv.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.oe(e,t,i)})),vv.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),vv.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=og(),i=t.length+1,a=new tv(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return vv.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Dm((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=og(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=og(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return vv.resolve(u)}},{key:"oe",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Pb(t,n));var a=this.es.get(t);void 0===a&&(a=fg(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),ow=function(){function e(){d(this,e),this.ns=new Fm(sw.ss),this.rs=new Fm(sw.os)}return y(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new sw(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new sw(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new tv(new Jp([])),r=new sw(n,e),i=new sw(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new tv(new Jp([])),n=new sw(t,e),r=new sw(t,e+1),i=fg();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new sw(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),sw=function(){function e(t,n){d(this,e),this.key=t,this._s=n}return y(e,null,[{key:"ss",value:function(e,t){return tv.comparator(e.key,t.key)||Kp(e._s,t._s)}},{key:"os",value:function(e,t){return Kp(e._s,t._s)||tv.comparator(e.key,t.key)}}]),e}(),uw=function(){function e(t,n){d(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Fm(sw.ss)}return y(e,[{key:"checkEmpty",value:function(e){return vv.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Ab(i,t,n,r);this.mutationQueue.push(a);var o,s=N(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.gs=this.gs.add(new sw(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return vv.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return vv.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return vv.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return vv.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return vv.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new sw(t,0),i=new sw(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),vv.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Fm(Kp);return t.forEach((function(e){var t=new sw(e,0),i=new sw(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),vv.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;tv.isDocumentKey(i)||(i=i.child(""));var a=new sw(new tv(i),0),o=new Fm(Kp);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),vv.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Ap(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return vv.forEach(t.mutations,(function(i){var a=new sw(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new sw(t,0),r=this.gs.firstAfterOrEqual(n);return vv.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,vv.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),cw=function(){function e(t){d(this,e),this.Es=t,this.docs=new Dm(tv.comparator),this.size=0}return y(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return vv.resolve(n?n.document.mutableCopy():Wm.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=ng();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Wm.newInvalidDocument(e))})),vv.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=ng(),i=new tv(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||lv(uv(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return vv.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){jp()}},{key:"As",value:function(e,t){return vv.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new lw(this)}},{key:"getSize",value:function(e){return vv.resolve(this.size)}}]),e}(),lw=function(e){b(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this)).Yn=e,r}return y(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),vv.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(Gk),fw=function(){function e(t){d(this,e),this.persistence=t,this.Rs=new eg((function(e){return Gm(e)}),Qm),this.lastRemoteSnapshotVersion=Xp.min(),this.highestTargetId=0,this.bs=0,this.Ps=new ow,this.targetCount=0,this.vs=Lk.Pn()}return y(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),vv.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return vv.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return vv.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),vv.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),vv.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new Lk(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,vv.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),vv.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,vv.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),vv.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return vv.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return vv.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),vv.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),vv.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),vv.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return vv.resolve(n)}},{key:"containsKey",value:function(e,t){return vv.resolve(this.Ps.containsKey(t))}}]),e}(),hw=function(){function e(t,n){var r=this;d(this,e),this.Vs={},this.overlays={},this.Ss=new Tv(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new fw(this),this.indexManager=new gk,this.remoteDocumentCache=new cw((function(e){return r.referenceDelegate.xs(e)})),this.yt=new Db(n),this.Ns=new iw(this.yt)}return y(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new aw,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new uw(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Ep("MemoryPersistence","Starting transaction:",e);var i=new dw(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return vv.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),dw=function(e){b(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return y(n)}(hv),pw=function(){function e(t){d(this,e),this.persistence=t,this.Fs=new ow,this.$s=null}return y(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw jp()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),vv.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),vv.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),vv.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vv.forEach(this.Ls,(function(r){var i=tv.fromPath(r);return t.qs(e,i).next((function(e){e||n.removeEntry(i,Xp.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.qs(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"qs",value:function(e,t){var n=this;return vv.or([function(){return vv.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),vw=function(){function e(t){d(this,e),this.yt=t}return y(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new mv("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ob,{unique:!0}),e.createObjectStore("documentMutations")}(e),mw(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=vv.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),mw(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Xp.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ob,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return vv.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Us(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:wb});t.createIndex("collectionPathOverlayIndex",xb,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",_b,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:lb});t.createIndex("documentKeyIndex",fb),t.createIndex("collectionGroupIndex",hb)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:yb}).createIndex("sequenceNumberIndex",gb,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:bb}).createIndex("documentKeyIndex",kb,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=jk(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Us",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return vv.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return vv.forEach(r,(function(r){Ap(r.userId===n.userId);var i=Vb(t.yt,r);return Ck(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new Jp(n),o=function(e){return[0,nb(e)]}(a);r.push(t.get(o).next((function(n){return n?vv.resolve():function(n){return t.put({targetId:0,path:nb(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return vv.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:mb});var n=t.store("collectionParents"),r=new bk,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:nb(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new Jp(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=l(e,3),r=(n[0],n[1]),a=(n[2],ab(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=Bb(r),a=qb(t.yt,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new tv(Jp.fromString(i.document.name).popFirst(5)):i.noDocument?tv.fromSegments(i.noDocument.path):i.unknownDocument?tv.fromSegments(i.unknownDocument.path):jp()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return vv.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=$k(this.yt),a=new hw(pw.Bs,this.yt.ie);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:fg();Vb(n.yt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),vv.forEach(r,(function(e,r){var o=new xp(r),s=Xb.re(n.yt,o),u=a.getIndexManager(o),c=Ak.re(o,n.yt,u,a.referenceDelegate);return new rw(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new Cb(t,Tv.at),e).next()}))}))}}]),e}();function mw(e){e.createObjectStore("targetDocuments",{keyPath:pb}).createIndex("documentTargetsIndex",vb,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",db,{unique:!0}),e.createObjectStore("targetGlobal")}var yw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",gw=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(d(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=s,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new Op(Pp.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Hk(this,i),this.ii=n+"main",this.yt=new Db(u),this.ri=new yv(this.ii,this.Xs,new vw(this.yt)),this.Cs=new Mk(this.referenceDelegate,this.yt),this.remoteDocumentCache=$k(this.yt),this.Ns=new Gb,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&Tp("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return y(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Op(Pp.FAILED_PRECONDITION,yw);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new Tv(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=Et(St().mark((function n(r){return St().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=Et(St().mark((function t(n){return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(Et(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return kw(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(kv(t))return Ep("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Ep("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return bw(e).get("owner").next((function(e){return vv.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return kw(e).delete(this.clientId)}},{key:"yi",value:function(){var e=Et(St().mark((function e(){var t,n,r,i,a=this;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=jb(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return vv.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=N(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?vv.resolve(!0):bw(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new Op(Pp.FAILED_PRECONDITION,yw);return!1}}return!(!t.networkEnabled||!t.inForeground)||kw(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Ep("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Et(St().mark((function e(){var t=this;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Cb(e,Tv.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return kw(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return Ak.re(e,this.yt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new wk(e,this.yt.ie.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Xb.re(this.yt,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Ep("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.Xs)?Nb:14===i?Tb:13===i?Eb:12===i?Ib:11===i?Sb:void jp();return this.ri.runTransaction(e,o,s,(function(i){return a=new Cb(i,r.Ss?r.Ss.next():Tv.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw Tp("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new Op(Pp.FAILED_PRECONDITION,fv);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return bw(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Op(Pp.FAILED_PRECONDITION,yw)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return bw(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=bw(e);return n.get("owner").next((function(e){return t.mi(e)?(Ep("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):vv.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Tp("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!et()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Ep("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Tp("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(Al){Tp("Failed to set zombie client id.",Al)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(Al){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return yv.C()}}]),e}();function bw(e){return jb(e,"owner")}function kw(e){return jb(e,"clientMetadata")}function ww(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var xw=function(){function e(t,n,r,i){d(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return y(e,null,[{key:"Ci",value:function(t,n){var r,i=fg(),a=fg(),o=N(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),_w=function(){function e(){d(this,e),this.xi=!1}return y(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(ny(t))return vv.resolve(null);var r=sy(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=cy(t,null,"F"),r=sy(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=fg.apply(void 0,h(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,cy(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return ny(t)||r.isEqual(Xp.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(Ip()<=At.DEBUG&&Ep("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),hy(t)),i.Bi(e,o,t,sv(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new Fm(vy(e));return t.forEach((function(t,r){dy(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return Ip()<=At.DEBUG&&Ep("QueryEngine","Using full collection scan to execute query:",hy(t)),this.Ni.getDocumentsMatchingQuery(e,t,cv.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Sw=function(){function e(t,n,r,i){d(this,e),this.persistence=t,this.Li=n,this.yt=i,this.qi=new Dm(Kp),this.Ui=new eg((function(e){return Gm(e)}),Qm),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return y(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rw(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qi)}))}}]),e}();function Iw(e,t,n,r){return new Sw(e,t,n,r)}function Ew(e,t){return Tw.apply(this,arguments)}function Tw(){return Tw=Et(St().mark((function e(t,n){var r;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rp(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=fg(),u=N(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=N(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){u.e(b)}finally{u.f()}var d,p=N(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=N(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Tw.apply(this,arguments)}function Nw(e,t){var n=Rp(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=vv.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Ap(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=fg(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Cw(e){var t=Rp(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function jw(e,t){var n=Rp(e),r=t.snapshotVersion,i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(Lv.EMPTY_BYTE_STRING,Xp.min()).withLastLimboFreeSnapshotVersion(Xp.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var s=ng(),u=fg();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Aw(e,a,t.documentUpdates).next((function(e){s=e.Wi,u=e.zi}))),!r.isEqual(Xp.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return vv.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.qi=i,e}))}function Aw(e,t,n){var r=fg(),i=fg();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=ng();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Xp.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Ep("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function Rw(e,t){var n=Rp(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Pw(e,t){var n=Rp(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,vv.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new Ob(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e}))}function Ow(e,t,n){return Dw.apply(this,arguments)}function Dw(){return Dw=Et(St().mark((function e(t,n,r){var i,a,o;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Rp(t),a=i.qi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),kv(e.t1)){e.next=12;break}throw e.t1;case 12:Ep("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qi=i.qi.remove(n),i.Ui.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Dw.apply(this,arguments)}function Lw(e,t,n){var r=Rp(e),i=Xp.min(),a=fg();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Rp(e),i=r.Ui.get(n);return void 0!==i?vv.resolve(r.qi.get(i)):r.Cs.getTargetData(t,n)}(r,e,sy(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:Xp.min(),n?a:fg())})).next((function(e){return Uw(r,py(t),e),{documents:e,Hi:a}}))}))}function Mw(e,t){var n=Rp(e),r=Rp(n.Cs),i=n.qi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ne(e,t).next((function(e){return e?e.target:null}))}))}function Fw(e,t){var n=Rp(e),r=n.Ki.get(t)||Xp.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,sv(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Uw(n,t,e),e}))}function Uw(e,t,n){var r=e.Ki.get(t)||Xp.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function Vw(e,t,n,r){return Bw.apply(this,arguments)}function Bw(){return Bw=Et(St().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Rp(t),o=fg(),s=ng(),u=N(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,Pw(a,function(e){return sy(ty(Jp.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Aw(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),Bw.apply(this,arguments)}function qw(e,t){return zw.apply(this,arguments)}function zw(){return zw=Et(St().mark((function e(t,n){var r,i,a,o=arguments;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:fg(),e.next=3,Pw(t,sy(zb(n.bundledQuery)));case 3:return i=e.sent,a=Rp(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=jg(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(Lv.EMPTY_BYTE_STRING,t);return a.qi=a.qi.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),zw.apply(this,arguments)}function Ww(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Hw(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Kw(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Gw=function(){function e(t,n,r,i){d(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return y(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Op(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Tp("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Qw=function(){function e(t,n,r){d(this,e),this.targetId=t,this.state=n,this.error=r}return y(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Op(i.error.code,i.error.message))),a?new e(t,i.state,r):(Tp("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),$w=function(){function e(t,n){d(this,e),this.clientId=t,this.activeTargetIds=n}return y(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=dg(),o=0;i&&o<r.activeTargetIds.length;++o)i=Dv(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Tp("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Xw=function(){function e(t,n){d(this,e),this.clientId=t,this.onlineState=n}return y(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Tp("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Yw=function(){function e(){d(this,e),this.activeTargetIds=dg()}return y(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Jw=function(){function e(t,n,r,i,a){d(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Dm(Kp),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=Ww(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new Yw),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return y(e,[{key:"start",value:function(){var e=Et(St().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=N(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Ww(this.persistenceKey,i)))&&(o=$w.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(s=this.storage.getItem(this.wr))&&(u=this.yr(s))&&this.pr(u),c=N(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Kw(this.persistenceKey,e));if(n){var r=Qw.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Kw(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Ep("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Ep("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Ep("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Ep("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void Tp("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(Et(St().mark((function e(){var r,i,a,o,s,u,c;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(s));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}u=function(e){var t=Tv.at;if(null!=e)try{var n=JSON.parse(e);Ap("number"==typeof n),t=n}catch(e){Tp("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==Tv.at&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new Gw(this.currentUser,e,t,n),i=Hw(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=Hw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=Kw(this.persistenceKey,e),i=new Qw(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return $w.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Gw.Zi(new xp(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return Qw.Zi(r,t)}},{key:"yr",value:function(e){return Xw.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=Et(St().mark((function e(t){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:Ep("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Br(o,s).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=dg();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Zw=function(){function e(){d(this,e),this.Lr=new Yw,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return y(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new Yw,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),ex=function(){function e(){d(this,e)}return y(e,[{key:"Ur",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),tx=function(){function e(){var t=this;d(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return y(e,[{key:"Ur",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){Ep("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=N(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){Ep("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=N(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),nx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},rx=function(){function e(t){d(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return y(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),ix=function(e){b(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return y(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new kp;o.setWithCredentials(!0),o.listenOnce(vp.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case pp.NO_ERROR:var t=o.getResponseJson();Ep("Connection","XHR received:",JSON.stringify(t)),i(t);break;case pp.TIMEOUT:Ep("Connection",'RPC "'+e+'" timed out'),a(new Op(Pp.DEADLINE_EXCEEDED,"Request time out"));break;case pp.HTTP_ERROR:var n=o.getStatus();if(Ep("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Pp).indexOf(t)>=0?t:Pp.UNKNOWN}(s.status);a(new Op(u,s.message))}else a(new Op(Pp.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Op(Pp.UNAVAILABLE,"Connection failed."));break;default:jp()}}finally{Ep("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=hp(),a=dp(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new gp({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var s=r.join("");Ep("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new rx({Hr:function(e){l?Ep("Connection","Not sending because WebChannel is closed:",e):(c||(Ep("Connection","Opening WebChannel transport."),u.open(),c=!0),Ep("Connection","WebChannel sending:",e),u.send(e))},Jr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,bp.EventType.OPEN,(function(){l||Ep("Connection","WebChannel transport opened.")})),h(u,bp.EventType.CLOSE,(function(){l||(l=!0,Ep("Connection","WebChannel transport closed"),f.io())})),h(u,bp.EventType.ERROR,(function(e){l||(l=!0,Np("Connection","WebChannel transport errored:",e),f.io(new Op(Pp.UNAVAILABLE,"The operation could not be completed")))})),h(u,bp.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Ap(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Ep("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Gy[e];if(void 0!==t)return Zy(t)}(a),s=i.message;void 0===o&&(o=Pp.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new Op(o,s)),u.close()}else Ep("Connection","WebChannel received:",n),f.ro(n)}})),h(a,mp.STAT_EVENT,(function(e){e.stat===yp.PROXY?Ep("Connection","Detected buffering proxy"):e.stat===yp.NOPROXY&&Ep("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){d(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return y(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);Ep("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return Ep("RestConnection","Received: ",e),e}),(function(t){throw Np("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+_p,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=nx[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function ax(){return"undefined"!=typeof window?window:null}function ox(){return"undefined"!=typeof document?document:null}function sx(e){return new Eg(e,!0)}var ux=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;d(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return y(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Ep("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),cx=function(){function e(t,n,r,i,a,o,s,u){d(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new ux(t,n)}return y(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=Et(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=Et(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"qo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===Pp.RESOURCE_EXHAUSTED?(Tp(n.toString()),Tp("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===Pp.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new Op(Pp.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(Et(St().mark((function t(){return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return Ep("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(Ep("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),lx=function(e){b(n,e);var t=S(n);function n(e,r,i,a,o,s){var u;return d(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).yt=o,u}return y(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:jp()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.wt?(Ap(void 0===t||"string"==typeof t),Lv.fromBase64String(t||"")):(Ap(void 0===t||t instanceof Uint8Array),Lv.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Pp.UNKNOWN:Zy(e.code);return new Op(t,e.message||"")}(o);n=new gg(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=Og(e,u.document.name),l=jg(u.document.updateTime),f=u.document.createTime?jg(u.document.createTime):Xp.min(),h=new qm({mapValue:{fields:u.document.fields}}),d=Wm.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new mg(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=Og(e,m.document),g=m.readTime?jg(m.readTime):Xp.min(),b=Wm.newNoDocument(y,g),k=m.removedTargetIds||[];n=new mg([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=Og(e,w.document),_=w.removedTargetIds||[];n=new mg([],_,x,null)}else{if(!("filter"in t))return jp();t.filter;var S=t.filter;S.targetId;var I=S.count||0,E=new Yy(I),T=S.targetId;n=new yg(T,E)}return n}(this.yt,e),n=function(e){if(!("targetChange"in e))return Xp.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Xp.min():t.readTime?jg(t.readTime):Xp.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=Mg(this.yt),t.addTarget=function(e,t){var n,r=t.target;return(n=$m(r)?{documents:Wg(e,r)}:{query:Hg(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Ng(e,t.resumeToken):t.snapshotVersion.compareTo(Xp.min())>0&&(n.readTime=Tg(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return jp()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=Mg(this.yt),t.removeTarget=e,this.Bo(t)}}]),n}(cx),fx=function(e){b(n,e);var t=S(n);function n(e,r,i,a,o,s){var u;return d(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).yt=o,u.Jo=!1,u}return y(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,tr(k(n.prototype),"start",this).call(this)}},{key:"Uo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Ap(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(Ap(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?jg(e.updateTime):jg(t);return n.isEqual(Xp.min())&&(n=jg(t)),new Py(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=jg(e.commitTime);return this.listener.Zo(n,t)}return Ap(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=Mg(this.yt),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return qg(t.yt,e)}))};this.Bo(n)}}]),n}(cx),hx=function(e){b(n,e);var t=S(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.yt=a,o.nu=!1,o}return y(n,[{key:"su",value:function(){if(this.nu)throw new Op(Pp.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],s=a[1];return r.connection.ao(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Pp.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Op(Pp.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=l(a,2),s=o[0],u=o[1];return i.connection._o(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Pp.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Op(Pp.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return y((function e(){d(this,e)}))}());var dx=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return y(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(Tp(t),this.ou=!1):Ep("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),px=y((function e(t,n,r,i,a){var o=this;d(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur((function(e){r.enqueueAndForget(Et(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Ix(o),!e.t0){e.next=5;break}return Ep("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Et(St().mark((function e(t){var n;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Rp(t))._u.add(4),e.next=4,yx(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,vx(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new dx(r,i)}));function vx(e){return mx.apply(this,arguments)}function mx(){return mx=Et(St().mark((function e(t){var n,r,i;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ix(t)){e.next=18;break}n=N(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),mx.apply(this,arguments)}function yx(e){return gx.apply(this,arguments)}function gx(){return gx=Et(St().mark((function e(t){var n,r,i;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=N(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),gx.apply(this,arguments)}function bx(e,t){var n=Rp(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),Sx(n)?_x(n):e_(n).ko()&&wx(n,t))}function kx(e,t){var n=Rp(e),r=e_(n);n.du.delete(t),r.ko()&&xx(n,t),0===n.du.size&&(r.ko()?r.Fo():Ix(n)&&n.gu.set("Unknown"))}function wx(e,t){e.yu.Ot(t.targetId),e_(e).zo(t)}function xx(e,t){e.yu.Ot(t),e_(e).Ho(t)}function _x(e){e.yu=new kg({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.du.get(t)||null}}),e_(e).start(),e.gu.uu()}function Sx(e){return Ix(e)&&!e_(e).No()&&e.du.size>0}function Ix(e){return 0===Rp(e)._u.size}function Ex(e){e.yu=void 0}function Tx(e){return Nx.apply(this,arguments)}function Nx(){return Nx=Et(St().mark((function e(t){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){wx(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Nx.apply(this,arguments)}function Cx(e,t){return jx.apply(this,arguments)}function jx(){return jx=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ex(t),Sx(t)?(t.gu.hu(n),_x(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),jx.apply(this,arguments)}function Ax(e,t,n){return Rx.apply(this,arguments)}function Rx(){return Rx=Et(St().mark((function e(t,n,r){var i;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof gg&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Et(St().mark((function e(t,n){var r,i,a,o;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=N(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Ep("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Px(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof mg?t.yu.Kt(n):n instanceof yg?t.yu.Jt(n):t.yu.jt(n),r.isEqual(Xp.min())){e.next=29;break}return e.prev=14,e.next=17,Cw(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.Zt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(Lv.EMPTY_BYTE_STRING,n.snapshotVersion)),xx(e,t);var r=new Ob(n.target,t,1,n.sequenceNumber);wx(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Ep("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Px(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Rx.apply(this,arguments)}function Px(e,t,n){return Ox.apply(this,arguments)}function Ox(){return Ox=Et(St().mark((function e(t,n,r){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(kv(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,yx(t);case 5:t.gu.set("Offline"),r||(r=function(){return Cw(t.localStore)}),t.asyncQueue.enqueueRetryable(Et(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ep("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,vx(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Ox.apply(this,arguments)}function Dx(e,t){return t().catch((function(n){return Px(e,n,t)}))}function Lx(e){return Mx.apply(this,arguments)}function Mx(){return Mx=Et(St().mark((function e(t){var n,r,i,a;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Rp(t),r=t_(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!Fx(n)){e.next=19;break}return e.prev=3,e.next=6,Rw(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,Ux(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Px(n,e.t0);case 17:e.next=2;break;case 19:Vx(n)&&Bx(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Mx.apply(this,arguments)}function Fx(e){return Ix(e)&&e.fu.length<10}function Ux(e,t){e.fu.push(t);var n=t_(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function Vx(e){return Ix(e)&&!t_(e).No()&&e.fu.length>0}function Bx(e){t_(e).start()}function qx(e){return zx.apply(this,arguments)}function zx(){return zx=Et(St().mark((function e(t){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t_(t).eu();case 1:case"end":return e.stop()}}),e)}))),zx.apply(this,arguments)}function Wx(e){return Hx.apply(this,arguments)}function Hx(){return Hx=Et(St().mark((function e(t){var n,r,i,a;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t_(t),r=N(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Hx.apply(this,arguments)}function Kx(e,t,n){return Gx.apply(this,arguments)}function Gx(){return Gx=Et(St().mark((function e(t,n,r){var i,a;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=Rb.from(i,n,r),e.next=3,Dx(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Lx(t);case 5:case"end":return e.stop()}}),e)}))),Gx.apply(this,arguments)}function Qx(e,t){return $x.apply(this,arguments)}function $x(){return $x=Et(St().mark((function e(t,n){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&t_(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Et(St().mark((function e(t,n){var r,i;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Jy(i=n.code)||i===Pp.ABORTED){e.next=7;break}return r=t.fu.shift(),t_(t).Mo(),e.next=5,Dx(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Lx(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Vx(t)&&Bx(t);case 5:case"end":return e.stop()}}),e)}))),$x.apply(this,arguments)}function Xx(e,t){return Yx.apply(this,arguments)}function Yx(){return Yx=Et(St().mark((function e(t,n){var r,i;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Rp(t)).asyncQueue.verifyOperationInProgress(),Ep("RemoteStore","RemoteStore received new credentials"),i=Ix(r),r._u.add(3),e.next=6,yx(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,vx(r);case 12:case"end":return e.stop()}}),e)}))),Yx.apply(this,arguments)}function Jx(e,t){return Zx.apply(this,arguments)}function Zx(){return Zx=Et(St().mark((function e(t,n){var r;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Rp(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,vx(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,yx(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Zx.apply(this,arguments)}function e_(e){return e.pu||(e.pu=function(e,t,n){var r=Rp(e);return r.su(),new lx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:Tx.bind(null,e),Zr:Cx.bind(null,e),Wo:Ax.bind(null,e)}),e.wu.push(function(){var t=Et(St().mark((function t(n){return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),Sx(e)?_x(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:Ex(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function t_(e){return e.Iu||(e.Iu=function(e,t,n){var r=Rp(e);return r.su(),new fx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:qx.bind(null,e),Zr:Qx.bind(null,e),tu:Wx.bind(null,e),Zo:Kx.bind(null,e)}),e.wu.push(function(){var t=Et(St().mark((function t(n){return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,Lx(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(Ep("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var n_=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Dp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return y(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Op(Pp.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function r_(e,t){if(Tp("AsyncQueue","".concat(t,": ").concat(e)),kv(e))return new Op(Pp.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var i_=function(){function e(t){d(this,e),this.comparator=t?function(e,n){return t(e,n)||tv.comparator(e.key,n.key)}:function(e,t){return tv.comparator(e.key,t.key)},this.keyedMap=ig(),this.sortedSet=new Dm(this.comparator)}return y(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),a_=function(){function e(){d(this,e),this.Tu=new Dm(tv.comparator)}return y(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):jp():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),o_=function(){function e(t,n,r,i,a,o,s,u,c){d(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return y(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ly(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,i_.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),s_=y((function e(){d(this,e),this.Au=void 0,this.listeners=[]})),u_=y((function e(){d(this,e),this.queries=new eg((function(e){return fy(e)}),ly),this.onlineState="Unknown",this.Ru=new Set}));function c_(e,t){return l_.apply(this,arguments)}function l_(){return l_=Et(St().mark((function e(t,n){var r,i,a,o,s;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Rp(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new s_),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=r_(e.t0,"Initialization of query '".concat(hy(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&v_(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),l_.apply(this,arguments)}function f_(e,t){return h_.apply(this,arguments)}function h_(){return h_=Et(St().mark((function e(t,n){var r,i,a,o,s;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Rp(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),h_.apply(this,arguments)}function d_(e,t){var n,r=Rp(e),i=!1,a=N(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=N(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&v_(r)}function p_(e,t,n){var r=Rp(e),i=r.queries.get(t);if(i){var a,o=N(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function v_(e){e.Ru.forEach((function(e){e.next()}))}var m_=function(){function e(t,n,r){d(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return y(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=N(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new o_(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=o_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),y_=function(){function e(t,n){d(this,e),this.ku=t,this.byteLength=n}return y(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),g_=function(){function e(t){d(this,e),this.yt=t}return y(e,[{key:"Ji",value:function(e){return Og(this.yt,e)}},{key:"Yi",value:function(e){return e.metadata.exists?Vg(this.yt,e.document,!1):Wm.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return jg(e)}}]),e}(),b_=function(){function e(t,n,r){d(this,e),this.Mu=t,this.localStore=n,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=k_(t)}return y(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=Jp.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new g_(this.yt),i=N(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Ji(a.metadata.name),u=N(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||fg()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Et(St().mark((function e(){var t,n,r,i,a;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vw(this.localStore,new g_(this.yt),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=N(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,qw(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function k_(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var w_=y((function e(t){d(this,e),this.key=t})),x_=y((function e(t){d(this,e),this.key=t})),__=function(){function e(t,n){d(this,e),this.query=t,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=fg(),this.mutatedKeys=fg(),this.Gu=vy(t),this.Qu=new i_(this.Gu)}return y(e,[{key:"ju",get:function(){return this.qu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new a_,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=dy(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Gu(f,u)>0||c&&n.Gu(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:s,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jp()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],s=0===this.Ku.size&&this.current?1:0,u=s!==this.Uu;return this.Uu=s,0!==a.length||u?{snapshot:new o_(this.query,e.Qu,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new a_,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.qu=t.qu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.qu=t.qu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=fg(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new x_(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new w_(e))})),n}},{key:"tc",value:function(e){this.qu=e.Hi,this.Ku=fg();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return o_.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}]),e}(),S_=y((function e(t,n,r){d(this,e),this.query=t,this.targetId=n,this.view=r})),I_=y((function e(t){d(this,e),this.key=t,this.nc=!1})),E_=function(){function e(t,n,r,i,a,o){d(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new eg((function(e){return fy(e)}),ly),this.rc=new Map,this.oc=new Set,this.uc=new Dm(tv.comparator),this.cc=new Map,this.ac=new ow,this.hc={},this.lc=new Map,this.fc=Lk.vn(),this.onlineState="Unknown",this.dc=void 0}return y(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function T_(e,t){return N_.apply(this,arguments)}function N_(){return N_=Et(St().mark((function e(t,n){var r,i,a,o,s,u;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=kS(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,Pw(r.localStore,sy(n));case 8:return s=e.sent,r.isPrimaryClient&&bx(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,C_(r,n,i,"current"===u,s.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),N_.apply(this,arguments)}function C_(e,t,n,r,i){return j_.apply(this,arguments)}function j_(){return j_=Et(St().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=Et(St().mark((function e(t,n,r,i){var a,o,s;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,Lw(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(X_(t,n.targetId,s.Xu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Lw(t.localStore,n,!0);case 3:return o=e.sent,s=new __(n,o.Hi),u=s.Wu(o.documents),c=vg.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),X_(t,r,l.Xu),f=new S_(n,r,s),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),j_.apply(this,arguments)}function A_(e,t){return R_.apply(this,arguments)}function R_(){return R_=Et(St().mark((function e(t,n){var r,i,a;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Rp(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!ly(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Ow(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),kx(r.remoteStore,i.targetId),Q_(r,i.targetId)})).catch(dv);case 9:e.next=14;break;case 11:return Q_(r,i.targetId),e.next=14,Ow(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),R_.apply(this,arguments)}function P_(e,t,n){return O_.apply(this,arguments)}function O_(){return O_=Et(St().mark((function e(t,n,r){var i,a,o;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wS(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Rp(e),a=$p.now(),o=t.reduce((function(e,t){return e.add(t.key)}),fg());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=ng(),u=fg();return i.Gi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=N(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=Vy(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new zy(c.key,l,zm(l.value.mapValue),Oy.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:ag(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new Dm(Kp)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Z_(i,a.changes);case 9:return e.next=11,Lx(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=r_(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),O_.apply(this,arguments)}function D_(e,t){return L_.apply(this,arguments)}function L_(){return L_=Et(St().mark((function e(t,n){var r,i;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rp(t),e.prev=1,e.next=4,jw(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(Ap(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?Ap(n.nc):e.removedDocuments.size>0&&(Ap(n.nc),n.nc=!1))})),e.next=8,Z_(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,dv(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),L_.apply(this,arguments)}function M_(e,t,n){var r=Rp(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Rp(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=N(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&v_(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function F_(e,t,n){return U_.apply(this,arguments)}function U_(){return U_=Et(St().mark((function e(t,n,r){var i,a,o,s,u,c;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Rp(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Dm(tv.comparator)).insert(o,Wm.newNoDocument(o,Xp.min())),u=fg().add(o),c=new pg(Xp.min(),new Map,new Fm(Kp),s,u),e.next=9,D_(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),J_(i),e.next=16;break;case 14:return e.next=16,Ow(i.localStore,n,!1).then((function(){return Q_(i,n,r)})).catch(dv);case 16:case"end":return e.stop()}}),e)}))),U_.apply(this,arguments)}function V_(e,t){return B_.apply(this,arguments)}function B_(){return B_=Et(St().mark((function e(t,n){var r,i,a;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rp(t),i=n.batch.batchId,e.prev=1,e.next=4,Nw(r.localStore,n);case 4:return a=e.sent,G_(r,i,null),K_(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Z_(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,dv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),B_.apply(this,arguments)}function q_(e,t,n){return z_.apply(this,arguments)}function z_(){return z_=Et(St().mark((function e(t,n,r){var i,a;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rp(t),e.prev=1,e.next=4,function(e,t){var n=Rp(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Ap(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,G_(i,n,r),K_(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Z_(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,dv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),z_.apply(this,arguments)}function W_(e,t){return H_.apply(this,arguments)}function H_(){return H_=Et(St().mark((function e(t,n){var r,i,a,o;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ix((r=Rp(t)).remoteStore)||Ep("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Rp(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=r_(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),H_.apply(this,arguments)}function K_(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function G_(e,t,n){var r=Rp(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function Q_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=N(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||$_(e,t)}))}function $_(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(kx(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),J_(e))}function X_(e,t,n){var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof w_?(e.ac.addReference(a.key,t),Y_(e,a)):a instanceof x_?(Ep("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||$_(e,a.key)):jp()}}catch(o){i.e(o)}finally{i.f()}}function Y_(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(Ep("SyncEngine","New document in limbo: "+n),e.oc.add(r),J_(e))}function J_(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new tv(Jp.fromString(t)),r=e.fc.next();e.cc.set(r,new I_(n)),e.uc=e.uc.insert(n,r),bx(e.remoteStore,new Ob(sy(ty(n.path)),r,2,Tv.at))}}function Z_(e,t,n){return eS.apply(this,arguments)}function eS(){return eS=Et(St().mark((function e(t,n,r){var i,a,o,s;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Rp(t),a=[],o=[],s=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){s.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=xw.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.sc.Wo(a),e.next=9,function(){var e=Et(St().mark((function e(t,n){var r,i,a,o,s,u,c,l;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rp(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return vv.forEach(n,(function(t){return vv.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return vv.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),kv(e.t0)){e.next=10;break}throw e.t0;case 10:Ep("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=N(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qi.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.qi=r.qi.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),eS.apply(this,arguments)}function tS(e,t){return nS.apply(this,arguments)}function nS(){return nS=Et(St().mark((function e(t,n){var r,i;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Rp(t)).currentUser.isEqual(n)){e.next=11;break}return Ep("SyncEngine","User change. New user:",n.toKey()),e.next=5,Ew(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new Op(Pp.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Z_(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),nS.apply(this,arguments)}function rS(e,t){var n=Rp(e),r=n.cc.get(t);if(r&&r.nc)return fg().add(r.key);var i=fg(),a=n.rc.get(t);if(!a)return i;var o,s=N(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.ic.get(u);i=i.unionWith(c.view.ju)}}catch(l){s.e(l)}finally{s.f()}return i}function iS(e,t){return aS.apply(this,arguments)}function aS(){return aS=Et(St().mark((function e(t,n){var r,i,a;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rp(t),e.next=3,Lw(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&X_(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),aS.apply(this,arguments)}function oS(e,t){return sS.apply(this,arguments)}function sS(){return sS=Et(St().mark((function e(t,n){var r;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rp(t),e.abrupt("return",Fw(r.localStore,n).then((function(e){return Z_(r,e)})));case 2:case"end":return e.stop()}}),e)}))),sS.apply(this,arguments)}function uS(e,t,n,r){return cS.apply(this,arguments)}function cS(){return cS=Et(St().mark((function e(t,n,r,i){var a,o;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Rp(t),e.next=3,function(e,t){var n=Rp(e),r=Rp(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):vv.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Lx(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(G_(a,n,i||null),K_(a,n),function(e,t){Rp(Rp(e).mutationQueue).An(t)}(a.localStore,n)):jp();case 11:return e.next=13,Z_(a,o);case 13:e.next=16;break;case 15:Ep("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),cS.apply(this,arguments)}function lS(e,t){return fS.apply(this,arguments)}function fS(){return fS=Et(St().mark((function e(t,n){var r,i,a,o,s,u,c,l;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(kS(r=Rp(t)),wS(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,hS(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,Jx(r.remoteStore,!0);case 9:o=N(a);try{for(o.s();!(s=o.n()).done;)u=s.value,bx(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Q_(r,t),Ow(r.localStore,t,!0)})),kx(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,hS(r,c);case 21:return function(e){var t=Rp(e);t.cc.forEach((function(e,n){kx(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new Dm(tv.comparator)}(r),r.dc=!1,e.next=25,Jx(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),fS.apply(this,arguments)}function hS(e,t,n){return dS.apply(this,arguments)}function dS(){return dS=Et(St().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,y;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Rp(t),a=[],o=[],s=N(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,Pw(i.localStore,sy(f[0]));case 11:l=e.sent,h=N(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ic.get(p),e.next=20,iS(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Mw(i.localStore,c);case 36:return y=e.sent,e.next=39,Pw(i.localStore,y);case 39:return l=e.sent,e.next=42,C_(i,pS(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),dS.apply(this,arguments)}function pS(e){return ey(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function vS(e){var t=Rp(e);return Rp(Rp(t.localStore).persistence).vi()}function mS(e,t,n,r){return yS.apply(this,arguments)}function yS(){return yS=Et(St().mark((function e(t,n,r,i){var a,o,s,u;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Rp(t)).dc){e.next=3;break}return e.abrupt("return",void Ep("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Fw(a.localStore,py(o[0]));case 10:return s=e.sent,u=pg.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Lv.EMPTY_BYTE_STRING),e.next=14,Z_(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,Ow(a.localStore,n,!0);case 17:return Q_(a,n,i),e.abrupt("break",20);case 19:jp();case 20:case"end":return e.stop()}}),e)}))),yS.apply(this,arguments)}function gS(e,t,n){return bS.apply(this,arguments)}function bS(){return bS=Et(St().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=kS(t)).dc){e.next=45;break}a=N(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.rc.has(s)){e.next=10;break}return Ep("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,Mw(i.localStore,s);case 12:return u=e.sent,e.next=15,Pw(i.localStore,u);case 15:return c=e.sent,e.next=18,C_(i,pS(u),c.targetId,!1,c.resumeToken);case 18:bx(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=N(r),e.prev=30,h=St().mark((function e(){var t;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,Ow(i.localStore,t,!1).then((function(){kx(i.remoteStore,t),Q_(i,t)})).catch(dv);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),bS.apply(this,arguments)}function kS(e){var t=Rp(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=D_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=rS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=F_.bind(null,t),t.sc.Wo=d_.bind(null,t.eventManager),t.sc.wc=p_.bind(null,t.eventManager),t}function wS(e){var t=Rp(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=V_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=q_.bind(null,t),t}function xS(e,t,n){var r=Rp(e);(function(){var e=Et(St().mark((function e(t,n,r){var i,a,o,s,u;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Rp(e),r=jg(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(k_(i)),a=new b_(i,t.localStore,n.yt),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,Z_(t,u.Lu,void 0);case 31:return e.next=33,function(e,t){var n=Rp(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Np("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var _S=function(){function e(){d(this,e),this.synchronizeTabs=!1}return y(e,[{key:"initialize",value:function(){var e=Et(St().mark((function e(t){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yt=sx(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return Iw(this.persistence,new _w,e.initialUser,this.yt)}},{key:"yc",value:function(e){return new hw(pw.Bs,this.yt)}},{key:"gc",value:function(e){return new Zw}},{key:"terminate",value:function(){var e=Et(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),SS=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return y(n,[{key:"initialize",value:function(){var e=Et(St().mark((function e(t){var r=this;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr(k(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,wS(this.Ac.syncEngine);case 6:return e.next=8,Lx(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return Iw(this.persistence,new _w,e.initialUser,this.yt)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new zk(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new Ev(t,this.persistence);return new Iv(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=ww(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Nk.withCacheSize(this.cacheSizeBytes):Nk.DEFAULT;return new gw(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,ax(),ox(),this.yt,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new Zw}}]),n}(_S),IS=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return y(n,[{key:"initialize",value:function(){var e=Et(St().mark((function e(t){var r,i=this;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr(k(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof Jw,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:uS.bind(null,r),$r:mS.bind(null,r),Br:gS.bind(null,r),vi:vS.bind(null,r),Mr:oS.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=Et(St().mark((function e(t){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lS(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=ax();if(!Jw.C(t))throw new Op(Pp.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ww(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Jw(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(SS),ES=function(){function e(){d(this,e)}return y(e,[{key:"initialize",value:function(){var e=Et(St().mark((function e(t,n){var r=this;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return M_(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=tS.bind(null,this.syncEngine),e.next=12,Jx(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new u_}},{key:"createDatastore",value:function(e){var t,n=sx(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new ix(t));return function(e,t,n,r){return new hx(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return M_(o.syncEngine,e,0)},a=tx.C()?new tx:new ex,new px(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new E_(e,t,n,r,i,a);return o&&(s.dc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Et(St().mark((function e(t){var n;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rp(t),Ep("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,yx(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function TS(e,t,n){if(!n)throw new Op(Pp.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function NS(e,t,n,r){if(!0===t&&!0===r)throw new Op(Pp.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function CS(e){if(!tv.isDocumentKey(e))throw new Op(Pp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function jS(e){if(tv.isDocumentKey(e))throw new Op(Pp.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function AS(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":jp()}function RS(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Op(Pp.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=AS(e);throw new Op(Pp.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function PS(e,t){if(t<=0)throw new Op(Pp.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var OS=new Map,DS=function(){function e(t){var n;if(d(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Op(Pp.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Op(Pp.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,NS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return y(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),LS=function(){function e(t,n,r,i){d(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DS({}),this._settingsFrozen=!1}return y(e,[{key:"app",get:function(){if(!this._app)throw new Op(Pp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Op(Pp.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DS(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Mp;switch(e.type){case"gapi":var t=e.client;return new Bp(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Op(Pp.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=OS.get(e);t&&(Ep("ComponentProvider","Removing Datastore"),OS.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function MS(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=RS(e,LS))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Np("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=xp.MOCK_USER;else{o=ct(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Op(Pp.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new xp(u)}e._authCredentials=new Fp(new Lp(o,s))}}var FS=function(){function e(t,n,r){d(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return y(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new VS(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),US=function(){function e(t,n,r){d(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return y(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),VS=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,ty(i)))._path=i,a.type="collection",a}return y(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new FS(this.firestore,null,new tv(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(US);function BS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=_t(e),TS("collection","path",t),e instanceof LS){var a=Jp.fromString.apply(Jp,[t].concat(r));return jS(a),new VS(e,null,a)}if(!(e instanceof FS||e instanceof VS))throw new Op(Pp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Jp.fromString.apply(Jp,[t].concat(r)));return jS(o),new VS(e.firestore,null,o)}function qS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=_t(e),1===arguments.length&&(t=Hp.R()),TS("doc","path",t),e instanceof LS){var a=Jp.fromString.apply(Jp,[t].concat(r));return CS(a),new FS(e,null,new tv(a))}if(!(e instanceof FS||e instanceof VS))throw new Op(Pp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Jp.fromString.apply(Jp,[t].concat(r)));return CS(o),new FS(e.firestore,e instanceof VS?e.converter:null,new tv(o))}function zS(e,t){return e=_t(e),t=_t(t),(e instanceof FS||e instanceof VS)&&(t instanceof FS||t instanceof VS)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function WS(e,t){return e=_t(e),t=_t(t),e instanceof US&&t instanceof US&&e.firestore===t.firestore&&ly(e._query,t._query)&&e.converter===t.converter}function HS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Et(St().mark((function r(){var i;return St().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Et(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var KS=function(){function e(t){d(this,e),this.observer=t,this.muted=!1}return y(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):Tp("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),GS=function(){function e(t,n){var r=this;d(this,e),this.Pc=t,this.yt=n,this.metadata=new Dp,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return y(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=Et(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=Et(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=Et(St().mark((function e(){var t,n,r,i;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new y_(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=Et(St().mark((function e(){var t,n;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=Et(St().mark((function e(t){var n;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=Et(St().mark((function e(){var t,n;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),QS=function(){function e(t){d(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return y(e,[{key:"lookup",value:function(){var e=Et(St().mark((function e(t){var n,r=this;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Op(Pp.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Et(St().mark((function e(t,n){var r,i,a,o,s,u;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rp(t),i=Mg(r.yt)+"/documents",a={documents:n.map((function(e){return Pg(r.yt,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=Bg(r.yt,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());Ap(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new $y(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Et(St().mark((function e(){var t,n=this;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=tv.fromPath(t);n.mutations.push(new Xy(r,n.precondition(r)))})),e.next=7,function(){var e=Et(St().mark((function e(t,n){var r,i,a;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rp(t),i=Mg(r.yt)+"/documents",a={writes:n.map((function(e){return qg(r.yt,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw jp();t=Xp.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Op(Pp.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Xp.min())?Oy.exists(!1):Oy.updateTime(t):Oy.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Xp.min()))throw new Op(Pp.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Oy.updateTime(t)}return Oy.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),$S=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new ux(this.asyncQueue,"transaction_retry")}return y(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(Et(St().mark((function t(){var n,r;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new QS(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!Pv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Jy(t)}return!1}}]),e}(),XS=function(){function e(t,n,r,i){var a=this;d(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xp.UNAUTHENTICATED,this.clientId=Hp.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Et(St().mark((function e(t){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ep("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Ep("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return y(e,[{key:"getConfiguration",value:function(){var e=Et(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Op(Pp.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Dp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Et(St().mark((function n(){var r;return St().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=r_(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function YS(e,t){return JS.apply(this,arguments)}function JS(){return JS=Et(St().mark((function e(t,n){var r,i;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Ep("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Et(St().mark((function e(t){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Ew(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),JS.apply(this,arguments)}function ZS(e,t){return eI.apply(this,arguments)}function eI(){return eI=Et(St().mark((function e(t,n){var r,i;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,tI(t);case 3:return r=e.sent,Ep("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Xx(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Xx(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),eI.apply(this,arguments)}function tI(e){return nI.apply(this,arguments)}function nI(){return nI=Et(St().mark((function e(t){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Ep("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,YS(t,new _S);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),nI.apply(this,arguments)}function rI(e){return iI.apply(this,arguments)}function iI(){return iI=Et(St().mark((function e(t){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Ep("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,ZS(t,new ES);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),iI.apply(this,arguments)}function aI(e){return tI(e).then((function(e){return e.persistence}))}function oI(e){return tI(e).then((function(e){return e.localStore}))}function sI(e){return rI(e).then((function(e){return e.remoteStore}))}function uI(e){return rI(e).then((function(e){return e.syncEngine}))}function cI(e){return rI(e).then((function(e){return e.datastore}))}function lI(e){return fI.apply(this,arguments)}function fI(){return fI=Et(St().mark((function e(t){var n,r;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rI(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=T_.bind(null,n.syncEngine),r.onUnlisten=A_.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),fI.apply(this,arguments)}function hI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Dp;return e.asyncQueue.enqueueAndForget(Et(St().mark((function i(){return St().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new KS({next:function(a){t.enqueueAndForget((function(){return f_(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Op(Pp.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Op(Pp.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new m_(ty(n.path),a,{includeMetadataChanges:!0,Nu:!0});return c_(e,o)},i.next=3,lI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function dI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Dp;return e.asyncQueue.enqueueAndForget(Et(St().mark((function i(){return St().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new KS({next:function(n){t.enqueueAndForget((function(){return f_(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Op(Pp.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new m_(n,a,{includeMetadataChanges:!0,Nu:!0});return c_(e,o)},i.next=3,lI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var pI=function(){function e(){var t=this;d(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new ux(this,"async_queue_retry"),this.Wc=function(){var e=ox();e&&Ep("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=ox();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return y(e,[{key:"isShuttingDown",get:function(){return this.qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;var t=ox();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.qc)return new Promise((function(){}));var n=new Dp;return this.Hc((function(){return t.qc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=Et(St().mark((function e(){var t=this;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),kv(e.t0)){e.next=12;break}throw e.t0;case 12:Ep("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Tp("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=n_.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.Uc.push(i),i}},{key:"zc",value:function(){this.Kc&&jp()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=Et(St().mark((function e(){var t;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=N(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=N(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function vI(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=N(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var mI=function(){function e(){d(this,e),this._progressObserver={},this._taskCompletionResolver=new Dp,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return y(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),yI=function(e){b(n,e);var t=S(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new pI,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return y(n,[{key:"_terminate",value:function(){return this._firestoreClient||bI(this),this._firestoreClient.terminate()}}]),n}(LS);function gI(e){return e._firestoreClient||bI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function bI(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Nv(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new XS(e._authCredentials,e._appCheckCredentials,e._queue,r)}function kI(e,t,n){var r=new Dp;return e.asyncQueue.enqueue(Et(St().mark((function i(){var a;return St().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,YS(e,n);case 3:return i.next=5,ZS(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Pp.FAILED_PRECONDITION||e.code===Pp.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:Np("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function wI(e){return function(e){return e.asyncQueue.enqueue(Et(St().mark((function t(){var n,r;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,aI(e);case 2:return n=t.sent,t.next=5,sI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Rp(e);return t._u.delete(0),vx(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(gI(e=RS(e,yI)))}function xI(e){return function(e){return e.asyncQueue.enqueue(Et(St().mark((function t(){var n,r;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,aI(e);case 2:return n=t.sent,t.next=5,sI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Et(St().mark((function e(t){var n;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Rp(t))._u.add(0),e.next=4,yx(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(gI(e=RS(e,yI)))}function _I(e,t){var n=gI(e=RS(e,yI)),r=new mI;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new GS(e,t)}(function(e,t){if(e instanceof Uint8Array)return HS(e,t);if(e instanceof ArrayBuffer)return HS(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,sx(t));e.asyncQueue.enqueueAndForget(Et(St().mark((function t(){return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=xS,t.next=3,uI(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function SI(e,t){return function(e,t){return e.asyncQueue.enqueue(Et(St().mark((function n(){return St().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Rp(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,oI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(gI(e=RS(e,yI)),t).then((function(t){return t?new US(e,null,t.query):null}))}function II(e){if(e._initialized||e._terminated)throw new Op(Pp.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var EI=function(){function e(t){d(this,e),this._byteString=t}return y(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Lv.fromBase64String(t))}catch(t){throw new Op(Pp.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Lv.fromUint8Array(t))}}]),e}(),TI=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Op(Pp.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ev(n)}return y(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var NI=y((function e(t){d(this,e),this._methodName=t})),CI=function(){function e(t,n){if(d(this,e),!isFinite(t)||t<-90||t>90)throw new Op(Pp.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Op(Pp.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return y(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Kp(this._lat,e._lat)||Kp(this._long,e._long)}}]),e}(),jI=/^__.*__$/,AI=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return y(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new zy(e,this.data,this.fieldMask,t,this.fieldTransforms):new qy(e,this.data,t,this.fieldTransforms)}}]),e}(),RI=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return y(e,[{key:"toMutation",value:function(e,t){return new zy(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function PI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jp()}}var OI=function(){function e(t,n,r,i,a,o){d(this,e),this.settings=t,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return y(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return eE(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(PI(this.sa)&&jI.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),DI=function(){function e(t,n,r){d(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.yt=r||sx(t)}return y(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new OI({sa:e,methodName:t,fa:n,path:ev.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}]),e}();function LI(e){var t=e._freezeSettings(),n=sx(e._databaseId);return new DI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function MI(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);XI("Data must be an object, but it was:",o,r);var s,u,c=QI(r,o);if(a.merge)s=new Bm(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=N(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=YI(t,d,n);if(!o.contains(p))throw new Op(Pp.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));tE(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new Bm(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new AI(new qm(c),s,u)}var FI=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(NI);function UI(e,t,n){return new OI({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.yt,t.ignoreUndefinedProperties)}var VI=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"_toFieldTransform",value:function(e){return new Ry(e.path,new Sy)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(NI),BI=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e))._a=r,i}return y(n,[{key:"_toFieldTransform",value:function(e){var t=UI(this,e,!0),n=this._a.map((function(e){return GI(e,t)})),r=new Iy(n);return new Ry(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(NI),qI=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e))._a=r,i}return y(n,[{key:"_toFieldTransform",value:function(e){var t=UI(this,e,!0),n=this._a.map((function(e){return GI(e,t)})),r=new Ty(n);return new Ry(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(NI),zI=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).wa=r,i}return y(n,[{key:"_toFieldTransform",value:function(e){var t=new Cy(e.yt,by(e.yt,this.wa));return new Ry(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(NI);function WI(e,t,n,r){var i=e.da(1,t,n);XI("Data must be an object, but it was:",i,r);var a=[],o=qm.empty();Av(r,(function(e,r){var s=ZI(t,e,n);r=_t(r);var u=i.ca(s);if(r instanceof FI)a.push(s);else{var c=GI(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Bm(a);return new RI(o,s,i.fieldTransforms)}function HI(e,t,n,r,i,a){var o=e.da(1,t,n),s=[YI(t,r,n)],u=[i];if(a.length%2!=0)throw new Op(Pp.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(YI(t,a[c])),u.push(a[c+1]);for(var l=[],f=qm.empty(),h=s.length-1;h>=0;--h)if(!tE(l,s[h])){var d=s[h],p=u[h];p=_t(p);var v=o.ca(d);if(p instanceof FI)l.push(d);else{var m=GI(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Bm(l);return new RI(f,y,o.fieldTransforms)}function KI(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return GI(n,e.da(r?4:3,t))}function GI(e,t){if($I(e=_t(e)))return XI("Unsupported field value:",t,e),QI(e,t);if(e instanceof NI)return function(e,t){if(!PI(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=N(e);try{for(a.s();!(n=a.n()).done;){var o=GI(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=_t(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return by(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=$p.fromDate(e);return{timestampValue:Tg(t.yt,n)}}if(e instanceof $p){var r=new $p(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Tg(t.yt,r)}}if(e instanceof CI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof EI)return{bytesValue:Ng(t.yt,e._byteString)};if(e instanceof FS){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Ag(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(AS(e)))}(e,t)}function QI(e,t){var n={};return Rv(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Av(e,(function(e,r){var i=GI(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function $I(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof $p||e instanceof CI||e instanceof EI||e instanceof FS||e instanceof NI)}function XI(e,t,n){if(!$I(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=AS(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function YI(e,t,n){if((t=_t(t))instanceof TI)return t._internalPath;if("string"==typeof t)return ZI(e,t);throw eE("Field path arguments must be of type string or ",e,!1,void 0,n)}var JI=new RegExp("[~\\*/\\[\\]]");function ZI(e,t,n){if(t.search(JI)>=0)throw eE("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return I(TI,h(t.split(".")))._internalPath}catch(Rj){throw eE("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function eE(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Op(Pp.INVALID_ARGUMENT,s+e+u)}function tE(e,t){return e.some((function(e){return e.isEqual(t)}))}var nE=function(){function e(t,n,r,i,a){d(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return y(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new FS(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new rE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(iE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),rE=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"data",value:function(){return tr(k(n.prototype),"data",this).call(this)}}]),n}(nE);function iE(e,t){return"string"==typeof t?ZI(e,t):t instanceof TI?t._internalPath:t._delegate._internalPath}function aE(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Op(Pp.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var oE=y((function e(){d(this,e)})),sE=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n)}(oE);function uE(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof oE&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof lE})).length,n=e.filter((function(e){return e instanceof cE})).length;if(t>1||t>0&&n>0)throw new Op(Pp.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=N(n);try{for(s.s();!(o=s.n()).done;){var u=o.value;e=u._apply(e)}}catch(c){s.e(c)}finally{s.f()}return e}var cE=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return y(n,[{key:"_apply",value:function(e){var t=this._parse(e);return xE(e._query,t),new US(e.firestore,e.converter,uy(e._query,t))}},{key:"_parse",value:function(e){var t=LI(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Op(Pp.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){wE(o,a);var u,c=[],l=N(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(kE(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=kE(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||wE(o,a),s=KI(n,"where",o,"in"===a||"not-in"===a);return vm.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(sE);var lE=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return y(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:mm.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=N(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;xE(r,a),r=uy(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new US(e.firestore,e.converter,uy(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(oE);var fE=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return y(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Op(Pp.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Op(Pp.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Pm(t,n);return function(e,t){if(null===ry(e)){var n=iy(e);null!==n&&_E(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new US(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Zm(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(sE);var hE=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return y(n,[{key:"_apply",value:function(e){return new US(e.firestore,e.converter,cy(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(sE);var dE=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return y(n,[{key:"_apply",value:function(e){var t=bE(e,this.type,this._docOrFields,this._inclusive);return new US(e.firestore,e.converter,function(e,t){return new Zm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(sE);function pE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return dE._create("startAt",t,!0)}function vE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return dE._create("startAfter",t,!1)}var mE=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return y(n,[{key:"_apply",value:function(e){var t=bE(e,this.type,this._docOrFields,this._inclusive);return new US(e.firestore,e.converter,function(e,t){return new Zm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(sE);function yE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return mE._create("endBefore",t,!1)}function gE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return mE._create("endAt",t,!0)}function bE(e,t,n,r){if(n[0]=_t(n[0]),n[0]instanceof nE)return function(e,t,n,r,i){if(!r)throw new Op(Pp.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=N(oy(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(Zv(t,r.key));else{var c=r.data.field(u.field);if(Bv(c))throw new Op(Pp.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Op(Pp.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new fm(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=LI(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Op(Pp.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Op(Pp.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!ay(e)&&-1!==c.indexOf("/"))throw new Op(Pp.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Jp.fromString(c));if(!tv.isDocumentKey(l))throw new Op(Pp.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new tv(l);s.push(Zv(t,f))}else{var h=KI(n,r,c);s.push(h)}}return new fm(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function kE(e,t,n){if("string"==typeof(n=_t(n))){if(""===n)throw new Op(Pp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ay(t)&&-1!==n.indexOf("/"))throw new Op(Pp.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Jp.fromString(n));if(!tv.isDocumentKey(r))throw new Op(Pp.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Zv(e,new tv(r))}if(n instanceof FS)return Zv(e,n._key);throw new Op(Pp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(AS(n),"."))}function wE(e,t){if(!Array.isArray(e)||0===e.length)throw new Op(Pp.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Op(Pp.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function xE(e,t){if(t.isInequality()){var n=iy(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Op(Pp.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=ry(e);null!==i&&_E(e,r,i)}var a=function(e,t){var n,r=N(e);try{for(r.s();!(n=r.n()).done;){var i,a=N(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Op(Pp.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Op(Pp.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function _E(e,t,n){if(!n.isEqual(t))throw new Op(Pp.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var SE=function(){function e(){d(this,e)}return y(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Kv(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Uv(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vv(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw jp()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Av(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new CI(Uv(e.latitude),Uv(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=qv(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(zv(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Fv(e);return new $p(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Jp.fromString(e);Ap(tb(n));var r=new Cv(n.get(1),n.get(3)),i=new tv(n.popFirst(5));return r.isEqual(t)||Tp("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function IE(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var EE=function(e){b(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return y(n,[{key:"convertBytes",value:function(e){return new EI(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new FS(this.firestore,null,t)}}]),n}(SE),TE=function(){function e(t,n){d(this,e),this.hasPendingWrites=t,this.fromCache=n}return y(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),NE=function(e){b(n,e);var t=S(n);function n(e,r,i,a,o,s){var u;return d(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return y(n,[{key:"exists",value:function(){return tr(k(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new CE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(iE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(nE),CE=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return tr(k(n.prototype),"data",this).call(this,e)}}]),n}(NE),jE=function(){function e(t,n,r,i){d(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new TE(i.hasPendingWrites,i.fromCache),this.query=r}return y(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new CE(n._firestore,n._userDataWriter,r.key,r,new TE(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Op(Pp.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new CE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new TE(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new CE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new TE(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:AE(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function AE(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jp()}}function RE(e,t){return e instanceof NE&&t instanceof NE?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof jE&&t instanceof jE&&e._firestore===t._firestore&&WS(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var PE=function(e){b(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return y(n,[{key:"convertBytes",value:function(e){return new EI(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new FS(this.firestore,null,t)}}]),n}(SE);function OE(e){e=RS(e,FS);var t=RS(e.firestore,yI),n=gI(t),r=new PE(t);return function(e,t){var n=new Dp;return e.asyncQueue.enqueueAndForget(Et(St().mark((function r(){return St().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Et(St().mark((function e(t,n,r){var i,a;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Rp(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Op(Pp.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=r_(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,oI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new NE(t,r,e._key,n,new TE(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function DE(e){e=RS(e,US);var t=RS(e.firestore,yI),n=gI(t),r=new PE(t);return function(e,t){var n=new Dp;return e.asyncQueue.enqueueAndForget(Et(St().mark((function r(){return St().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Et(St().mark((function e(t,n,r){var i,a,o,s,u;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Lw(t,n,!0);case 3:i=e.sent,a=new __(n,i.Hi),o=a.Wu(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=r_(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,oI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new jE(t,r,e,n)}))}function LE(e,t,n){e=RS(e,FS);var r=RS(e.firestore,yI),i=IE(e.converter,t,n);return VE(r,[MI(LI(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Oy.none())])}function ME(e,t,n){e=RS(e,FS);for(var r=RS(e.firestore,yI),i=LI(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return VE(r,[("string"==typeof(t=_t(t))||t instanceof TI?HI(i,"updateDoc",e._key,t,n,o):WI(i,"updateDoc",e._key,t)).toMutation(e._key,Oy.exists(!0))])}function FE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=_t(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||vI(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(vI(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof FS)l=RS(e.firestore,yI),f=ty(e._key.path),c={next:function(t){n[u]&&n[u](BE(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=RS(e,US);l=RS(p.firestore,yI),f=p._query;var v=new PE(l);c={next:function(e){n[u]&&n[u](new jE(l,v,p,e))},error:n[u+1],complete:n[u+2]},aE(e._query)}return function(e,t,n,r){var i=new KS(r),a=new m_(t,i,n);return e.asyncQueue.enqueueAndForget(Et(St().mark((function t(){return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=c_,t.next=3,lI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(Et(St().mark((function t(){return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=f_,t.next=3,lI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(gI(l),f,h,c)}function UE(e,t){return function(e,t){var n=new KS(t);return e.asyncQueue.enqueueAndForget(Et(St().mark((function t(){return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Rp(e).Ru.add(t),t.next()},t.next=3,lI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(Et(St().mark((function t(){return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Rp(e).Ru.delete(t)},t.next=3,lI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(gI(e=RS(e,yI)),vI(t)?t:{next:t})}function VE(e,t){return function(e,t){var n=new Dp;return e.asyncQueue.enqueueAndForget(Et(St().mark((function r(){return St().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=P_,r.next=3,uI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(gI(e),t)}function BE(e,t,n){var r=n.docs.get(t._key),i=new PE(e);return new NE(e,i,t._key,r,new TE(n.hasPendingWrites,n.fromCache),t.converter)}var qE={maxAttempts:5},zE=function(){function e(t,n){d(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=LI(t)}return y(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=WE(e,this._firestore),i=IE(r.converter,t,n),a=MI(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Oy.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=WE(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=_t(t))||t instanceof TI?HI(this._dataReader,"WriteBatch.update",i._key,t,n,o):WI(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Oy.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=WE(e,this._firestore);return this._mutations=this._mutations.concat(new $y(t._key,Oy.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Op(Pp.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function WE(e,t){if((e=_t(e)).firestore!==t)throw new Op(Pp.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var HE=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r))._firestore=e,i}return y(n,[{key:"get",value:function(e){var t=this,r=WE(e,this._firestore),i=new PE(this._firestore);return tr(k(n.prototype),"get",this).call(this,e).then((function(e){return new NE(t._firestore,i,r._key,e._document,new TE(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){d(this,e),this._firestore=t,this._transaction=n,this._dataReader=LI(t)}return y(e,[{key:"get",value:function(e){var t=this,n=WE(e,this._firestore),r=new EE(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return jp();var i=e[0];if(i.isFoundDocument())return new nE(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new nE(t._firestore,r,n._key,null,n.converter);throw jp()}))}},{key:"set",value:function(e,t,n){var r=WE(e,this._firestore),i=IE(r.converter,t,n),a=MI(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=WE(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=_t(t))||t instanceof TI?HI(this._dataReader,"Transaction.update",i._key,t,n,o):WI(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=WE(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function KE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new BI("arrayUnion",t)}function GE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new qI("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){_p=e}(_n),mn(new Tt("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new yI(new Up(e.getProvider("auth-internal")),new zp(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Op(Pp.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cv(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Cn(wp,"3.8.0",e),Cn(wp,"3.8.0","esm2017")}();function QE(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Op("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function $E(){if("undefined"===typeof Uint8Array)throw new Op("unimplemented","Uint8Arrays are not available in this environment.")}function XE(){if("undefined"==typeof atob)throw new Op("unimplemented","Blobs are unavailable in Firestore in this environment.")}var YE=function(){function e(t){d(this,e),this._delegate=t}return y(e,[{key:"toBase64",value:function(){return XE(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return $E(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return XE(),new e(EI.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return $E(),new e(EI.fromUint8Array(t))}}]),e}();function JE(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=N(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var ZE=function(){function e(){d(this,e)}return y(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){II(e=RS(e,yI));var n=gI(e),r=e._freezeSettings(),i=new ES;return kI(n,i,new SS(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){II(e=RS(e,yI));var t=gI(e),n=e._freezeSettings(),r=new ES;return kI(t,r,new IS(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Op(Pp.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Dp;return e._queue.enqueueAndForgetEvenWhileRestricted(Et(St().mark((function n(){return St().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Et(St().mark((function e(t){var n;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(yv.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,yv.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(ww(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),eT=function(){function e(t,n,r){var i=this;d(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Cv||(this._appCompat=t)}return y(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Np("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};MS(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return wI(this._delegate)}},{key:"disableNetwork",value:function(){return xI(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&NS("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Dp;return e.asyncQueue.enqueueAndForget(Et(St().mark((function n(){return St().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=W_,n.next=3,uI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(gI(e=RS(e,yI)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return UE(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Op("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new pT(this,BS(this._delegate,e))}catch(t){throw oT(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new aT(this,qS(this._delegate,e))}catch(t){throw oT(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new fT(this,function(e,t){if(e=RS(e,LS),TS("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Op(Pp.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new US(e,null,function(e){return new Zm(Jp.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw oT(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=RS(e,yI);var r=Object.assign(Object.assign({},qE),n);return function(e){if(e.maxAttempts<1)throw new Op(Pp.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Dp;return e.asyncQueue.enqueueAndForget(Et(St().mark((function i(){var a;return St().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,cI(e);case 2:a=i.sent,new $S(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(gI(e),(function(n){return t(new HE(e,n))}),r)}(this._delegate,(function(n){return e(new nT(t,n))}))}},{key:"batch",value:function(){var e=this;return gI(this._delegate),new rT(new zE(this._delegate,(function(t){return VE(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return _I(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return SI(this._delegate,e).then((function(e){return e?new fT(t,e):null}))}}]),e}(),tT=function(e){b(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return y(n,[{key:"convertBytes",value:function(e){return new YE(new EI(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return aT.forKey(t,this.firestore,null)}}]),n}(SE);var nT=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new tT(t)}return y(e,[{key:"get",value:function(e){var t=this,n=vT(e);return this._delegate.get(n).then((function(e){return new cT(t._firestore,new NE(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=vT(e);return n?(QE("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=vT(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=vT(e);return this._delegate.delete(t),this}}]),e}(),rT=function(){function e(t){d(this,e),this._delegate=t}return y(e,[{key:"set",value:function(e,t,n){var r=vT(e);return n?(QE("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=vT(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=vT(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),iT=function(){function e(t,n,r){d(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return y(e,[{key:"fromFirestore",value:function(e,t){var n=new CE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new lT(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new tT(t),n),i.set(n,a)),a}}]),e}();iT.INSTANCES=new WeakMap;var aT=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new tT(t)}return y(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new pT(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new pT(this.firestore,BS(this._delegate,e))}catch(t){throw oT(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=_t(e))instanceof FS&&zS(this._delegate,e)}},{key:"set",value:function(e,t){t=QE("DocumentReference.set",t);try{return t?LE(this._delegate,e,t):LE(this._delegate,e)}catch(n){throw oT(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?ME(this._delegate,e):ME.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw oT(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return VE(RS(e.firestore,yI),[new $y(e._key,Oy.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=sT(n),a=uT(n,(function(t){return new cT(e.firestore,new NE(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return FE(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?OE(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=RS(e,FS);var t=RS(e.firestore,yI);return hI(gI(t),e._key,{source:"server"}).then((function(n){return BE(t,e,n)}))}(this._delegate):function(e){e=RS(e,FS);var t=RS(e.firestore,yI);return hI(gI(t),e._key).then((function(n){return BE(t,e,n)}))}(this._delegate),t.then((function(e){return new cT(n.firestore,new NE(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(iT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Op("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new FS(n._delegate,r,new tv(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new FS(n._delegate,r,t))}}]),e}();function oT(e,t,n){return e.message=e.message.replace(t,n),e}function sT(e){var t,n=N(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!JE(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function uT(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=JE(e[0])?e[0]:JE(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var cT=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return y(e,[{key:"ref",get:function(){return new aT(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return RE(this._delegate,e._delegate)}}]),e}(),lT=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||jp()}(void 0!==t),t}}]),n}(cT),fT=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new tT(t)}return y(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,uE(this._delegate,function(e,t,n){var r=t,i=iE("where",e);return cE._create(i,r,n)}(t,n,r)))}catch(i){throw oT(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,uE(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=iE("orderBy",e);return fE._create(r,n)}(t,n)))}catch(r){throw oT(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,uE(this._delegate,function(e){return PS("limit",e),hE._create("limit",e,"F")}(t)))}catch(n){throw oT(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,uE(this._delegate,function(e){return PS("limitToLast",e),hE._create("limitToLast",e,"L")}(t)))}catch(n){throw oT(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,uE(this._delegate,pE.apply(void 0,arguments)))}catch(t){throw oT(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,uE(this._delegate,vE.apply(void 0,arguments)))}catch(t){throw oT(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,uE(this._delegate,yE.apply(void 0,arguments)))}catch(t){throw oT(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,uE(this._delegate,gE.apply(void 0,arguments)))}catch(t){throw oT(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return WS(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?DE(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=RS(e,US);var t=RS(e.firestore,yI),n=gI(t),r=new PE(t);return dI(n,e._query,{source:"server"}).then((function(n){return new jE(t,r,e,n)}))}(this._delegate):function(e){e=RS(e,US);var t=RS(e.firestore,yI),n=gI(t),r=new PE(t);return aE(e._query),dI(n,e._query).then((function(n){return new jE(t,r,e,n)}))}(this._delegate),t.then((function(e){return new dT(n.firestore,new jE(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=sT(n),a=uT(n,(function(t){return new dT(e.firestore,new jE(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return FE(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(iT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),hT=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return y(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new lT(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),dT=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return y(e,[{key:"query",get:function(){return new fT(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new lT(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new hT(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new lT(n._firestore,r))}))}},{key:"isEqual",value:function(e){return RE(this._delegate,e._delegate)}}]),e}(),pT=function(e){b(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return y(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new aT(this.firestore,e):null}},{key:"doc",value:function(e){try{return new aT(this.firestore,void 0===e?qS(this._delegate):qS(this._delegate,e))}catch(t){throw oT(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=RS(e.firestore,yI),r=qS(e),i=IE(e.converter,t);return VE(n,[MI(LI(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Oy.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new aT(t.firestore,e)}))}},{key:"isEqual",value:function(e){return zS(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(iT.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(fT);function vT(e){return RS(e,FS)}var mT=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=I(TI,n)}return y(e,[{key:"isEqual",value:function(e){return(e=_t(e))instanceof TI&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(ev.keyField().canonicalString())}}]),e}(),yT=function(){function e(t){d(this,e),this._delegate=t}return y(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new VI("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new FI("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=KE.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=GE.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new zI("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),gT={Firestore:eT,GeoPoint:CI,Timestamp:$p,Blob:YE,Transaction:nT,WriteBatch:rT,DocumentReference:aT,DocumentSnapshot:cT,Query:fT,QueryDocumentSnapshot:lT,QuerySnapshot:dT,CollectionReference:pT,FieldPath:mT,FieldValue:yT,setLogLevel:function(e){!function(e){Sp.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Tt("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},gT)))}(e,(function(e,t){return new eT(e,t,new ZE)})),e.registerVersion("@firebase/firestore-compat","0.3.0")}(Zn);var bT="firebasestorage.googleapis.com",kT="storageBucket",wT=function(e){b(n,e);var t=S(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return d(this,n),(i=t.call(this,xT(e),"Firebase Storage: ".concat(r," (").concat(xT(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(x(i),n.prototype),i}return y(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return xT(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(lt);function xT(e){return"storage/"+e}function _T(){return new wT("unknown","An unknown error occurred, please check the error payload for server response.")}function ST(){return new wT("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function IT(){return new wT("canceled","User canceled the upload/download.")}function ET(){return new wT("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function TT(e){return new wT("invalid-argument",e)}function NT(){return new wT("app-deleted","The Firebase app was deleted.")}function CT(e){return new wT("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function jT(e,t){return new wT("invalid-format","String does not match format '"+e+"': "+t)}function AT(e){throw new wT("internal-error","Internal error: "+e)}var RT,PT=function(){function e(t,n){d(this,e),this.bucket=t,this.path_=n}return y(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new wT("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===bT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new wT("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),OT=function(){function e(t){d(this,e),this.promise_=Promise.reject(t)}return y(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function DT(e){return"string"===typeof e||e instanceof String}function LT(e){return MT()&&e instanceof Blob}function MT(){return"undefined"!==typeof Blob&&!et()}function FT(e,t,n,r){if(r<t)throw TT("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw TT("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function UT(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function VT(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function BT(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(RT||(RT={}));var qT=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this,p=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];d(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return y(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=_T();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?NT():IT());else i(ST())}};this.canceled_?t(0,new zT(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new zT(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===RT.NO_ERROR,a=r.getStatus();if(n&&!BT(a,e.additionalRetryCodes_)||!e.retry){var o=-1!==e.successCodes_.indexOf(a);t(!0,new zT(o,r))}else{var s=r.getErrorCode()===RT.ABORT;t(!1,new zT(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),zT=y((function e(t,n,r){d(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function WT(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function HT(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}function KT(e,t){t&&(e["X-Firebase-GMPID"]=t)}function GT(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function QT(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=VT(e.urlParams),u=e.url+s,c=Object.assign({},e.headers);return KT(c,t),WT(c,n),HT(c,a),GT(c,r),new qT(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}function $T(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function XT(){for(var e=$T(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(MT())return new Blob(n);throw new wT("unsupported-environment","This browser doesn't seem to support creating Blobs")}function YT(e){if("undefined"===typeof atob)throw new wT("unsupported-environment","".concat("base-64"," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));return atob(e)}var JT={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},ZT=y((function e(t,n){d(this,e),this.data=t,this.contentType=n||null}));function eN(e,t){switch(e){case JT.RAW:return new ZT(tN(t));case JT.BASE64:case JT.BASE64URL:return new ZT(nN(e,t));case JT.DATA_URL:return new ZT(function(e){var t=new rN(e);return t.base64?nN(JT.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw jT(JT.DATA_URL,"Malformed data URL.")}return tN(t)}(t.rest)}(t),new rN(t).contentType)}throw _T()}function tN(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function nN(e,t){switch(e){case JT.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw jT(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case JT.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw jT(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=YT(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw jT(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var rN=y((function e(t){d(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw jT(JT.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){var n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var iN=function(){function e(t,n){d(this,e);var r=0,i="";LT(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return y(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(LT(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(MT()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(XT.apply(null,i))}var a=n.map((function(e){return DT(e)?eN(JT.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function aN(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function oN(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function sN(e,t){return t}var uN=y((function e(t,n,r,i){d(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||sN})),cN=null;function lN(){if(cN)return cN;var e=[];e.push(new uN("bucket")),e.push(new uN("generation")),e.push(new uN("metageneration")),e.push(new uN("name","fullPath",!0));var t=new uN("name");t.xform=function(e,t){return function(e){return!DT(e)||e.length<2?e:oN(e)}(t)},e.push(t);var n=new uN("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new uN("timeCreated")),e.push(new uN("updated")),e.push(new uN("md5Hash",null,!0)),e.push(new uN("cacheControl",null,!0)),e.push(new uN("contentDisposition",null,!0)),e.push(new uN("contentEncoding",null,!0)),e.push(new uN("contentLanguage",null,!0)),e.push(new uN("contentType",null,!0)),e.push(new uN("metadata","customMetadata",!0)),cN=e}function fN(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new PT(n,r);return t._makeStorageReference(i)}})}(r,e),r}function hN(e,t,n){var r=aN(t);return null===r?null:fN(e,r,n)}function dN(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var pN="prefixes",vN="items";function mN(e,t,n){var r=aN(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[pN]){var i,a=N(n[pN]);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),s=e._makeStorageReference(new PT(t,o));r.prefixes.push(s)}}catch(h){a.e(h)}finally{a.f()}}if(n[vN]){var u,c=N(n[vN]);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=e._makeStorageReference(new PT(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var yN=y((function e(t,n,r,i){d(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function gN(e){if(!e)throw _T()}function bN(e,t){return function(n,r){var i=hN(e,r,t);return gN(null!==i),i}}function kN(e,t){return function(n,r){var i=hN(e,r,t);return gN(null!==i),function(e,t,n,r){var i=aN(t);if(null===i)return null;if(!DT(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return UT("/b/"+o(i)+"/o/"+o(a),n,r)+VT({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function wN(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new wT("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new wT("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new wT("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new wT("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function xN(e){var t=wN(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new wT("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function _N(e,t,n){var r=UT(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new yN(r,"GET",bN(e,n),i);return a.errorHandler=xN(t),a}function SN(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=UT(t.bucketOnlyServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,u=new yN(o,"GET",function(e,t){return function(n,r){var i=mN(e,t,r);return gN(null!==i),i}}(e,t.bucket),s);return u.urlParams=a,u.errorHandler=wN(t),u}function IN(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function EN(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=IN(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+dN(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=iN.getBlob(c,r,l);if(null===f)throw ET();var h={name:u.fullPath},d=UT(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new yN(d,"POST",bN(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=wN(t),v}var TN=y((function e(t,n,r,i){d(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function NN(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){gN(!1)}return gN(!!n&&-1!==(t||["active"]).indexOf(n)),n}var CN=262144;function jN(e,t,n,r,i,a,o,s){var u=new TN(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new wT("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":0===l?"finalize":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw ET();var v=t.maxUploadRetryTime,m=new yN(n,"POST",(function(e,n){var i,o=NN(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===o?bN(t,a)(e,n):null,new TN(s,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=wN(e),m}var AN={STATE_CHANGED:"state_changed"},RN={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function PN(e){switch(e){case"running":case"pausing":case"canceling":return RN.RUNNING;case"paused":return RN.PAUSED;case"success":return RN.SUCCESS;case"canceled":return RN.CANCELED;default:return RN.ERROR}}var ON=y((function e(t,n,r){d(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function DN(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var LN=function(){function e(){var t=this;d(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=RT.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=RT.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=RT.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return y(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw AT("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw AT("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw AT("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw AT("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw AT("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),MN=function(e){b(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(LN);function FN(){return new MN}var UN=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;d(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=lN(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled"))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(BT(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=ST()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return y(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=l(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=IN(t,r,i),s={name:o.fullPath},u=UT(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=dN(o,n),f=e.maxUploadRetryTime,h=new yN(u,"POST",(function(e){var t;NN(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){gN(!1)}return gN(DT(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=wN(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,FN,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new yN(n,"POST",(function(e){var t=NN(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){gN(!1)}n||gN(!1);var i=Number(n);return gN(!isNaN(i)),new TN(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=wN(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,FN,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=CN*this._chunkMultiplier,n=new TN(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=jN(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,FN,i,a,!1);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*(CN*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=_N(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,FN,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=EN(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,FN,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=IT(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=PN(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new ON(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(PN(this._state)){case RN.SUCCESS:DN(this._resolve.bind(null,this.snapshot))();break;case RN.CANCELED:case RN.ERROR:DN(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(PN(this._state)){case RN.RUNNING:case RN.PAUSED:e.next&&DN(e.next.bind(e,this.snapshot))();break;case RN.SUCCESS:e.complete&&DN(e.complete.bind(e))();break;default:e.error&&DN(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),VN=function(){function e(t,n){d(this,e),this._service=t,this._location=n instanceof PT?n:PT.makeFromUrl(n,t.host)}return y(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new PT(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return oN(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new PT(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw CT(e)}}]),e}();function BN(e,t,n){return qN.apply(this,arguments)}function qN(){return(qN=Et(St().mark((function e(t,n,r){var i,a,o,s;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,zN(t,o);case 3:if(s=e.sent,(i=n.prefixes).push.apply(i,h(s.prefixes)),(a=n.items).push.apply(a,h(s.items)),null==s.nextPageToken){e.next=9;break}return e.next=9,BN(t,n,s.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zN(e,t){null!=t&&"number"===typeof t.maxResults&&FT("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=SN(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,FN)}function WN(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=UT(t.fullServerUrl(),e.host,e._protocol),a=dN(n,r),o=e.maxOperationRetryTime,s=new yN(i,"PATCH",bN(e,r),o);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=a,s.errorHandler=xN(t),s}(e.storage,e._location,t,lN());return e.storage.makeRequestWithTokens(n,FN)}function HN(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=UT(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new yN(r,"GET",kN(e,n),i);return a.errorHandler=xN(t),a}(e.storage,e._location,lN());return e.storage.makeRequestWithTokens(t,FN).then((function(e){if(null===e)throw new wT("no-download-url","The given file does not have any download URLs.");return e}))}function KN(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=UT(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new yN(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=xN(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,FN)}function GN(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new PT(e._location.bucket,n);return new VN(e.storage,r)}function QN(e,t){if(e instanceof JN){var n=e;if(null==n._bucket)throw new wT("no-default-bucket","No default bucket found. Did you set the '"+kT+"' property when initializing the app?");var r=new VN(n,n._bucket);return null!=t?QN(r,t):r}return void 0!==t?GN(e,t):e}function $N(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof JN)return new VN(e,t);throw TT("To use ref(service, url), the first argument must be a Storage instance.")}return QN(e,t)}function XN(e,t){var n=null===t||void 0===t?void 0:t[kT];return null==n?null:PT.makeFromBucketSpec(n,e)}function YN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:ct(i,e.app.options.projectId))}var JN=function(){function e(t,n,r,i,a){d(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=bT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?PT.makeFromBucketSpec(i,this._host):XN(this._host,this.app.options)}return y(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=PT.makeFromBucketSpec(this._url,e):this._bucket=XN(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){FT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){FT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Et(St().mark((function e(){var t,n;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Et(St().mark((function e(){var t,n;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new VN(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new OT(NT());var o=QT(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=Et(St().mark((function e(t,n){var r,i,a,o;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=l(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),ZN="@firebase/storage",eC="0.10.0",tC="storage";function nC(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new UN(e,new iN(t),n)}(e=_t(e),t,n)}function rC(e){return function(e){e._throwIfRoot("getMetadata");var t=_N(e.storage,e._location,lN());return e.storage.makeRequestWithTokens(t,FN)}(e=_t(e))}function iC(e){return function(e){var t={prefixes:[],items:[]};return BN(e,t).then((function(){return t}))}(e=_t(e))}function aC(e,t){return $N(e=_t(e),t)}function oC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};YN(e,t,n,r)}function sC(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new JN(r,i,a,n,_n)}mn(new Tt(tC,sC,"PUBLIC").setMultipleInstances(!0)),Cn(ZN,eC,""),Cn(ZN,eC,"esm2017");var uC=function(){function e(t,n,r){d(this,e),this._delegate=t,this.task=n,this.ref=r}return y(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),cC=function(){function e(t,n){d(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return y(e,[{key:"snapshot",get:function(){return new uC(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new uC(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new uC(e,i,i._ref))}:{next:t.next?function(e){return t.next(new uC(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),lC=function(){function e(t,n){d(this,e),this._delegate=t,this._service=n}return y(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new fC(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new fC(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),fC=function(){function e(t,n){d(this,e),this._delegate=t,this.storage=n}return y(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return GN(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new cC(nC(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:JT.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=eN(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new cC(new UN(this._delegate,new iN(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return iC(this._delegate).then((function(t){return new lC(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return zN(e=_t(e),t)}(this._delegate,e||void 0).then((function(e){return new lC(e,t.storage)}))}},{key:"getMetadata",value:function(){return rC(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return WN(e=_t(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return HN(_t(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),KN(_t(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw CT(e)}}]),e}(),hC=function(){function e(t,n){d(this,e),this.app=t,this._delegate=n}return y(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(dC(e))throw TT("ref() expected a child path but got a URL, use refFromURL instead.");return new fC(aC(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!dC(e))throw TT("refFromURL() expected a full URL but got a child path, use ref() instead.");try{PT.makeFromUrl(e,this._delegate.host)}catch(t){throw TT("refFromUrl() expected a valid full URL but got an invalid one.")}return new fC(aC(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};oC(this._delegate,e,t,n)}}]),e}();function dC(e){return/^[A-Za-z]+:\/\//.test(e)}function pC(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new hC(r,i)}!function(e){var t={TaskState:RN,TaskEvent:AN,StringFormat:JT,Storage:hC,Reference:fC};e.INTERNAL.registerComponent(new Tt("storage-compat",pC,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.2.0")}(Zn);Zn.initializeApp({apiKey:"AIzaSyDvaoY3DbM0omPKLViTB6NsgqpCOTCMrKo",authDomain:"farmershub-2fd1b.firebaseapp.com",projectId:"farmershub-2fd1b",storageBucket:"farmershub-2fd1b.appspot.com",messagingSenderId:"416213607333",appId:"1:416213607333:web:0b029e79fe5e3157d23e4c",measurementId:"G-YQ8MND9CHB"});var vC=Zn.auth(),mC=Zn.firestore(),yC=Zn.storage(),gC=n.p+"static/media/logo.76309815cfbba6b36904.png",bC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},kC=r.createContext&&r.createContext(bC),wC=function(){return wC=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wC.apply(this,arguments)},xC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function _C(e){return e&&e.map((function(e,t){return r.createElement(e.tag,wC({key:t},e.attr),_C(e.child))}))}function SC(e){return function(t){return r.createElement(IC,wC({attr:wC({},e.attr)},t),_C(e.child))}}function IC(e){var t=function(t){var n,i=e.attr,a=e.size,o=e.title,s=xC(e,["attr","size","title"]),u=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",wC({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,s,{className:n,style:wC(wC({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==kC?r.createElement(kC.Consumer,null,(function(e){return t(e)})):t(bC)}function EC(e){return SC({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"}}]})(e)}function TC(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function NC(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=NC(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var CC=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=NC(e))&&(r&&(r+=" "),r+=t);return r},jC=["theme","type"],AC=["delay","staleId"],RC=function(e){return"number"==typeof e&&!isNaN(e)},PC=function(e){return"string"==typeof e},OC=function(e){return"function"==typeof e},DC=function(e){return PC(e)||OC(e)?e:null},LC=function(e){return(0,r.isValidElement)(e)||PC(e)||OC(e)||RC(e)};function MC(e){var t=e.enter,n=e.exit,i=e.appendPosition,a=void 0!==i&&i,o=e.collapse,s=void 0===o||o,u=e.collapseDuration,c=void 0===u?300:u;return function(e){var i=e.children,o=e.position,u=e.preventExitTransition,l=e.done,f=e.nodeRef,d=e.isIn,p=a?"".concat(t,"--").concat(o):t,v=a?"".concat(n,"--").concat(o):n,m=(0,r.useRef)(0);return(0,r.useLayoutEffect)((function(){var e,t=f.current,n=p.split(" "),r=function e(r){var i;r.target===f.current&&(t.dispatchEvent(new Event("d")),t.removeEventListener("animationend",e),t.removeEventListener("animationcancel",e),0===m.current&&"animationcancel"!==r.type&&(i=t.classList).remove.apply(i,h(n)))};(e=t.classList).add.apply(e,h(n)),t.addEventListener("animationend",r),t.addEventListener("animationcancel",r)}),[]),(0,r.useEffect)((function(){var e=f.current,t=function t(){e.removeEventListener("animationend",t),s?function(e,t,n){void 0===n&&(n=300);var r=e.scrollHeight,i=e.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all ".concat(n,"ms"),requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,l,c):l()};d||(u?t():(m.current=1,e.className+=" ".concat(v),e.addEventListener("animationend",t)))}),[d]),r.createElement(r.Fragment,null,i)}}function FC(e,t){return{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}}var UC={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){var t=arguments,n=this;this.list.has(e)&&this.list.get(e).forEach((function(r){var i=setTimeout((function(){r.apply(void 0,h([].slice.call(t,1)))}),0);n.emitQueue.has(e)||n.emitQueue.set(e,[]),n.emitQueue.get(e).push(i)}))}},VC=function(e){var t=e.theme,n=e.type,i=TC(e,jC);return r.createElement("svg",Vt({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-".concat(n,")")},i))},BC={info:function(e){return r.createElement(VC,Vt({},e),r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return r.createElement(VC,Vt({},e),r.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return r.createElement(VC,Vt({},e),r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return r.createElement(VC,Vt({},e),r.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return r.createElement("div",{className:"Toastify__spinner"})}};function qC(e){var t=(0,r.useReducer)((function(e){return e+1}),0),n=l(t,2)[1],i=l((0,r.useState)([]),2),a=i[0],o=i[1],s=(0,r.useRef)(null),u=(0,r.useRef)(new Map).current,c=function(e){return-1!==a.indexOf(e)},f=(0,r.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:c,getToast:function(e){return u.get(e)}}).current;function d(e){var t=e.containerId;!f.props.limit||t&&f.containerId!==t||(f.count-=f.queue.length,f.queue=[])}function p(e){o((function(t){return null==e?[]:t.filter((function(t){return t!==e}))}))}function v(){var e=f.queue.shift();y(e.toastContent,e.toastProps,e.staleId)}function m(e,t){var i=t.delay,a=t.staleId,o=TC(t,AC);if(LC(e)&&!function(e){return!s.current||f.props.enableMultiContainer&&e.containerId!==f.props.containerId||u.has(e.toastId)&&null==e.updateId}(o)){var c=o.toastId,l=o.updateId,h=o.data,d=f.props,m=function(){return p(c)},g=null==l;g&&f.count++;var b,k,w=Vt(Vt(Vt({},d),{},{style:d.toastStyle,key:f.toastKey++},o),{},{toastId:c,updateId:l,data:h,closeToast:m,isIn:!1,className:DC(o.className||d.toastClassName),bodyClassName:DC(o.bodyClassName||d.bodyClassName),progressClassName:DC(o.progressClassName||d.progressClassName),autoClose:!o.isLoading&&(b=o.autoClose,k=d.autoClose,!1===b||RC(b)&&b>0?b:k),deleteToast:function(){var e=FC(u.get(c),"removed");u.delete(c),UC.emit(4,e);var t=f.queue.length;if(f.count=null==c?f.count-f.displayedToast:f.count-1,f.count<0&&(f.count=0),t>0){var r=null==c?f.props.limit:1;if(1===t||1===r)f.displayedToast++,v();else{var i=r>t?t:r;f.displayedToast=i;for(var a=0;a<i;a++)v()}}else n()}});w.iconOut=function(e){var t=e.theme,n=e.type,i=e.isLoading,a=e.icon,o=null,s={theme:t,type:n};return!1===a||(OC(a)?o=a(s):(0,r.isValidElement)(a)?o=(0,r.cloneElement)(a,s):PC(a)||RC(a)?o=a:i?o=BC.spinner():function(e){return e in BC}(n)&&(o=BC[n](s))),o}(w),OC(o.onOpen)&&(w.onOpen=o.onOpen),OC(o.onClose)&&(w.onClose=o.onClose),w.closeButton=d.closeButton,!1===o.closeButton||LC(o.closeButton)?w.closeButton=o.closeButton:!0===o.closeButton&&(w.closeButton=!LC(d.closeButton)||d.closeButton);var x=e;(0,r.isValidElement)(e)&&!PC(e.type)?x=(0,r.cloneElement)(e,{closeToast:m,toastProps:w,data:h}):OC(e)&&(x=e({closeToast:m,toastProps:w,data:h})),d.limit&&d.limit>0&&f.count>d.limit&&g?f.queue.push({toastContent:x,toastProps:w,staleId:a}):RC(i)?setTimeout((function(){y(x,w,a)}),i):y(x,w,a)}}function y(e,t,n){var r=t.toastId;n&&u.delete(n);var i={content:e,props:t};u.set(r,i),o((function(e){return[].concat(h(e),[r]).filter((function(e){return e!==n}))})),UC.emit(4,FC(i,null==i.props.updateId?"added":"updated"))}return(0,r.useEffect)((function(){return f.containerId=e.containerId,UC.cancelEmit(3).on(0,m).on(1,(function(e){return s.current&&p(e)})).on(5,d).emit(2,f),function(){u.clear(),UC.emit(3,f)}}),[]),(0,r.useEffect)((function(){f.props=e,f.isToastActive=c,f.displayedToast=a.length})),{getToastToRender:function(t){var n=new Map,r=Array.from(u.values());return e.newestOnTop&&r.reverse(),r.forEach((function(e){var t=e.props.position;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(function(e){return t(e[0],e[1])}))},containerRef:s,isToastActive:c}}function zC(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function WC(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function HC(e){var t=e.closeToast,n=e.theme,i=e.ariaLabel,a=void 0===i?"close":i;return r.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(n),type:"button",onClick:function(e){e.stopPropagation(),t(e)},"aria-label":a},r.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},r.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function KC(e){var t=e.delay,n=e.isRunning,i=e.closeToast,a=e.type,o=void 0===a?"default":a,s=e.hide,u=e.className,c=e.style,l=e.controlledProgress,f=e.progress,h=e.rtl,d=e.isIn,p=e.theme,v=s||l&&0===f,m=Vt(Vt({},c),{},{animationDuration:"".concat(t,"ms"),animationPlayState:n?"running":"paused",opacity:v?0:1});l&&(m.transform="scaleX(".concat(f,")"));var y=CC("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(p),"Toastify__progress-bar--".concat(o),{"Toastify__progress-bar--rtl":h}),g=OC(u)?u({rtl:h,type:o,defaultClassName:y}):CC(y,u);return r.createElement("div",Ge({role:"progressbar","aria-hidden":v?"true":"false","aria-label":"notification timer",className:g,style:m},l&&f>=1?"onTransitionEnd":"onAnimationEnd",l&&f<1?null:function(){d&&i()}))}var GC=function(e){var t=function(e){var t=l((0,r.useState)(!1),2),n=t[0],i=t[1],a=l((0,r.useState)(!1),2),o=a[0],s=a[1],u=(0,r.useRef)(null),c=(0,r.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,f=(0,r.useRef)(e),h=e.autoClose,d=e.pauseOnHover,p=e.closeToast,v=e.onClick,m=e.closeOnClick;function y(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),c.didMove=!1,document.addEventListener("mousemove",w),document.addEventListener("mouseup",x),document.addEventListener("touchmove",w),document.addEventListener("touchend",x);var n=u.current;c.canCloseOnClick=!0,c.canDrag=!0,c.boundingRect=n.getBoundingClientRect(),n.style.transition="",c.x=zC(t.nativeEvent),c.y=WC(t.nativeEvent),"x"===e.draggableDirection?(c.start=c.x,c.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(c.start=c.y,c.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function g(t){if(c.boundingRect){var n=c.boundingRect,r=n.top,i=n.bottom,a=n.left,o=n.right;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&c.x>=a&&c.x<=o&&c.y>=r&&c.y<=i?k():b()}}function b(){i(!0)}function k(){i(!1)}function w(t){var r=u.current;c.canDrag&&r&&(c.didMove=!0,n&&k(),c.x=zC(t),c.y=WC(t),c.delta="x"===e.draggableDirection?c.x-c.start:c.y-c.start,c.start!==c.x&&(c.canCloseOnClick=!1),r.style.transform="translate".concat(e.draggableDirection,"(").concat(c.delta,"px)"),r.style.opacity=""+(1-Math.abs(c.delta/c.removalDistance)))}function x(){document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",x),document.removeEventListener("touchmove",w),document.removeEventListener("touchend",x);var t=u.current;if(c.canDrag&&c.didMove&&t){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance)return s(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate".concat(e.draggableDirection,"(0)"),t.style.opacity="1"}}(0,r.useEffect)((function(){f.current=e})),(0,r.useEffect)((function(){return u.current&&u.current.addEventListener("d",b,{once:!0}),OC(e.onOpen)&&e.onOpen((0,r.isValidElement)(e.children)&&e.children.props),function(){var e=f.current;OC(e.onClose)&&e.onClose((0,r.isValidElement)(e.children)&&e.children.props)}}),[]),(0,r.useEffect)((function(){return e.pauseOnFocusLoss&&(document.hasFocus()||k(),window.addEventListener("focus",b),window.addEventListener("blur",k)),function(){e.pauseOnFocusLoss&&(window.removeEventListener("focus",b),window.removeEventListener("blur",k))}}),[e.pauseOnFocusLoss]);var _={onMouseDown:y,onTouchStart:y,onMouseUp:g,onTouchEnd:g};return h&&d&&(_.onMouseEnter=k,_.onMouseLeave=b),m&&(_.onClick=function(e){v&&v(e),c.canCloseOnClick&&p()}),{playToast:b,pauseToast:k,isRunning:n,preventExitTransition:o,toastRef:u,eventHandlers:_}}(e),n=t.isRunning,i=t.preventExitTransition,a=t.toastRef,o=t.eventHandlers,s=e.closeButton,u=e.children,c=e.autoClose,f=e.onClick,h=e.type,d=e.hideProgressBar,p=e.closeToast,v=e.transition,m=e.position,y=e.className,g=e.style,b=e.bodyClassName,k=e.bodyStyle,w=e.progressClassName,x=e.progressStyle,_=e.updateId,S=e.role,I=e.progress,E=e.rtl,T=e.toastId,N=e.deleteToast,C=e.isIn,j=e.isLoading,A=e.iconOut,R=e.closeOnClick,P=e.theme,O=CC("Toastify__toast","Toastify__toast-theme--".concat(P),"Toastify__toast--".concat(h),{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":R}),D=OC(y)?y({rtl:E,position:m,type:h,defaultClassName:O}):CC(O,y),L=!!I||!c,M={closeToast:p,type:h,theme:P},F=null;return!1===s||(F=OC(s)?s(M):(0,r.isValidElement)(s)?(0,r.cloneElement)(s,M):HC(M)),r.createElement(v,{isIn:C,done:N,position:m,preventExitTransition:i,nodeRef:a},r.createElement("div",Vt(Vt({id:T,onClick:f,className:D},o),{},{style:g,ref:a}),r.createElement("div",Vt(Vt({},C&&{role:S}),{},{className:OC(b)?b({type:h}):CC("Toastify__toast-body",b),style:k}),null!=A&&r.createElement("div",{className:CC("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!j})},A),r.createElement("div",null,u)),F,r.createElement(KC,Vt(Vt({},_&&!L?{key:"pb-".concat(_)}:{}),{},{rtl:E,theme:P,delay:c,isRunning:n,isIn:C,closeToast:p,hide:d,type:h,style:x,className:w,controlledProgress:L,progress:I||0}))))},QC=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},$C=MC(QC("bounce",!0)),XC=(MC(QC("slide",!0)),MC(QC("zoom")),MC(QC("flip")),(0,r.forwardRef)((function(e,t){var n=qC(e),i=n.getToastToRender,a=n.containerRef,o=n.isToastActive,s=e.className,u=e.style,c=e.rtl,l=e.containerId;function f(e){var t=CC("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":c});return OC(s)?s({position:e,rtl:c,defaultClassName:t}):CC(t,DC(s))}return(0,r.useEffect)((function(){t&&(t.current=a.current)}),[]),r.createElement("div",{ref:a,className:"Toastify",id:l},i((function(e,t){var n=t.length?Vt({},u):Vt(Vt({},u),{},{pointerEvents:"none"});return r.createElement("div",{className:f(e),style:n,key:"container-".concat(e)},t.map((function(e,n){var i=e.content,a=e.props;return r.createElement(GC,Vt(Vt({},a),{},{isIn:o(a.toastId),style:Vt(Vt({},a.style),{},{"--nth":n+1,"--len":t.length}),key:"toast-".concat(a.key)}),i)})))})))})));XC.displayName="ToastContainer",XC.defaultProps={position:"top-right",transition:$C,autoClose:5e3,closeButton:HC,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var YC,JC=new Map,ZC=[],ej=1;function tj(){return""+ej++}function nj(e){return e&&(PC(e.toastId)||RC(e.toastId))?e.toastId:tj()}function rj(e,t){return JC.size>0?UC.emit(0,e,t):ZC.push({content:e,options:t}),t.toastId}function ij(e,t){return Vt(Vt({},t),{},{type:t&&t.type||e,toastId:nj(t)})}function aj(e){return function(t,n){return rj(t,ij(e,n))}}function oj(e,t){return rj(e,ij("default",t))}oj.loading=function(e,t){return rj(e,ij("default",Vt({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},oj.promise=function(e,t,n){var r,i=t.pending,a=t.error,o=t.success;i&&(r=PC(i)?oj.loading(i,n):oj.loading(i.render,Vt(Vt({},n),i)));var s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null,delay:100},u=function(e,t,i){if(null!=t){var a=Vt(Vt(Vt({type:e},s),n),{},{data:i}),o=PC(t)?{render:t}:t;return r?oj.update(r,Vt(Vt({},a),o)):oj(o.render,Vt(Vt({},a),o)),i}oj.dismiss(r)},c=OC(e)?e():e;return c.then((function(e){return u("success",o,e)})).catch((function(e){return u("error",a,e)})),c},oj.success=aj("success"),oj.info=aj("info"),oj.error=aj("error"),oj.warning=aj("warning"),oj.warn=oj.warning,oj.dark=function(e,t){return rj(e,ij("default",Vt({theme:"dark"},t)))},oj.dismiss=function(e){JC.size>0?UC.emit(1,e):ZC=ZC.filter((function(t){return null!=e&&t.options.toastId!==e}))},oj.clearWaitingQueue=function(e){return void 0===e&&(e={}),UC.emit(5,e)},oj.isActive=function(e){var t=!1;return JC.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},oj.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=function(e,t){var n=t.containerId,r=JC.get(n||YC);return r&&r.getToast(e)}(e,t);if(n){var r=n.props,i=n.content,a=Vt(Vt(Vt({},r),t),{},{toastId:t.toastId||e,updateId:tj()});a.toastId!==e&&(a.staleId=e);var o=a.render||i;delete a.render,rj(o,a)}}),0)},oj.done=function(e){oj.update(e,{progress:1})},oj.onChange=function(e){return UC.on(4,e),function(){UC.off(4,e)}},oj.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},oj.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},UC.on(2,(function(e){YC=e.containerId||e,JC.set(YC,e),ZC.forEach((function(e){UC.emit(0,e.content,e.options)})),ZC=[]})).on(3,(function(e){JC.delete(e.containerId||e),0===JC.size&&UC.off(0).off(1).off(5)}));var sj=n(248),uj=n(327),cj=n(164);var lj=function(e){e()},fj=function(){return lj},hj=(0,r.createContext)(null);function dj(){return(0,r.useContext)(hj)}n(110),n(900);var pj={notify:function(){},get:function(){return[]}};function vj(e,t){var n,r=pj;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=fj(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=pj)},getListeners:function(){return r}};return o}var mj=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?r.useLayoutEffect:r.useEffect;var yj=function(e){var t=e.store,n=e.context,i=e.children,a=e.serverState,o=(0,r.useMemo)((function(){var e=vj(t);return{store:t,subscription:e,getServerState:a?function(){return a}:void 0}}),[t,a]),s=(0,r.useMemo)((function(){return t.getState()}),[t]);mj((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,s]);var u=n||hj;return r.createElement(u.Provider,{value:o},i)};function gj(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hj,t=e===hj?dj:function(){return(0,r.useContext)(e)};return function(){return t().store}}var bj=gj();function kj(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hj,t=e===hj?bj:gj(e);return function(){return t().dispatch}}var wj,xj=kj();function _j(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Sj(e){return!!e&&!!e[dA]}function Ij(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===pA}(e)||Array.isArray(e)||!!e[hA]||!!(null===(t=e.constructor)||void 0===t?void 0:t[hA])||Rj(e)||Pj(e))}function Ej(e,t,n){void 0===n&&(n=!1),0===Tj(e)?(n?Object.keys:vA)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function Tj(e){var t=e[dA];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Rj(e)?2:Pj(e)?3:0}function Nj(e,t){return 2===Tj(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Cj(e,t){return 2===Tj(e)?e.get(t):e[t]}function jj(e,t,n){var r=Tj(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Aj(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function Rj(e){return uA&&e instanceof Map}function Pj(e){return cA&&e instanceof Set}function Oj(e){return e.o||e.t}function Dj(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=mA(e);delete t[dA];for(var n=vA(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Lj(e,t){return void 0===t&&(t=!1),Fj(e)||Sj(e)||!Ij(e)||(Tj(e)>1&&(e.set=e.add=e.clear=e.delete=Mj),Object.freeze(e),t&&Ej(e,(function(e,t){return Lj(t,!0)}),!0)),e}function Mj(){_j(2)}function Fj(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Uj(e){var t=yA[e];return t||_j(18,e),t}function Vj(e,t){yA[e]||(yA[e]=t)}function Bj(){return oA}function qj(e,t){t&&(Uj("Patches"),e.u=[],e.s=[],e.v=t)}function zj(e){Wj(e),e.p.forEach(Kj),e.p=null}function Wj(e){e===oA&&(oA=e.l)}function Hj(e){return oA={p:[],l:oA,h:e,m:!0,_:0}}function Kj(e){var t=e[dA];0===t.i||1===t.i?t.j():t.O=!0}function Gj(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||Uj("ES5").S(t,e,r),r?(n[dA].P&&(zj(t),_j(4)),Ij(e)&&(e=Qj(t,e),t.l||Xj(t,e)),t.u&&Uj("Patches").M(n[dA].t,e,t.u,t.s)):e=Qj(t,n,[]),zj(t),t.u&&t.v(t.u,t.s),e!==fA?e:void 0}function Qj(e,t,n){if(Fj(t))return t;var r=t[dA];if(!r)return Ej(t,(function(i,a){return $j(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return Xj(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=Dj(r.k):r.o,a=i,o=!1;3===r.i&&(a=new Set(i),i.clear(),o=!0),Ej(a,(function(t,a){return $j(e,r,i,t,a,n,o)})),Xj(e,i,!1),n&&e.u&&Uj("Patches").N(r,n,e.u,e.s)}return r.o}function $j(e,t,n,r,i,a,o){if(Sj(i)){var s=Qj(e,i,a&&t&&3!==t.i&&!Nj(t.R,r)?a.concat(r):void 0);if(jj(n,r,s),!Sj(s))return;e.m=!1}else o&&n.add(i);if(Ij(i)&&!Fj(i)){if(!e.h.D&&e._<1)return;Qj(e,i),t&&t.A.l||Xj(e,i)}}function Xj(e,t,n){void 0===n&&(n=!1),e.h.D&&e.m&&Lj(t,n)}function Yj(e,t){var n=e[dA];return(n?Oj(n):e)[t]}function Jj(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Zj(e){e.P||(e.P=!0,e.l&&Zj(e.l))}function eA(e){e.o||(e.o=Dj(e.t))}function tA(e,t,n){var r=Rj(t)?Uj("MapSet").F(t,n):Pj(t)?Uj("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Bj(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=gA;n&&(i=[r],a=bA);var o=Proxy.revocable(i,a),s=o.revoke,u=o.proxy;return r.k=u,r.j=s,u}(t,n):Uj("ES5").J(t,n);return(n?n.A:Bj()).p.push(r),r}function nA(e){return Sj(e)||_j(22,e),function e(t){if(!Ij(t))return t;var n,r=t[dA],i=Tj(t);if(r){if(!r.P&&(r.i<4||!Uj("ES5").K(r)))return r.t;r.I=!0,n=rA(t,i),r.I=!1}else n=rA(t,i);return Ej(n,(function(t,i){r&&Cj(r.t,t)===i||jj(n,t,e(i))})),3===i?new Set(n):n}(e)}function rA(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Dj(e)}function iA(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[dA];return gA.get(t,e)},set:function(t){var n=this[dA];gA.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][dA];if(!i.P)switch(i.i){case 5:r(i)&&Zj(i);break;case 4:n(i)&&Zj(i)}}}function n(e){for(var t=e.t,n=e.k,r=vA(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==dA){var o=t[a];if(void 0===o&&!Nj(t,a))return!0;var s=n[a],u=s&&s[dA];if(u?u.t!==o:!Aj(s,o))return!0}}var c=!!t[dA];return r.length!==vA(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};Vj("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=mA(n);delete a[dA];for(var o=vA(a),s=0;s<o.length;s++){var u=o[s];a[u]=e(u,t||!!a[u].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:Bj(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,dA,{value:a,writable:!0}),i},S:function(e,n,i){i?Sj(n)&&n[dA].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[dA];if(n){var i=n.t,a=n.k,o=n.R,s=n.i;if(4===s)Ej(a,(function(t){t!==dA&&(void 0!==i[t]||Nj(i,t)?o[t]||e(a[t]):(o[t]=!0,Zj(n)))})),Ej(i,(function(e){void 0!==a[e]||Nj(a,e)||(o[e]=!1,Zj(n))}));else if(5===s){if(r(n)&&(Zj(n),o.length=!0),a.length<i.length)for(var u=a.length;u<i.length;u++)o[u]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)a.hasOwnProperty(f)||(o[f]=!0),void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}!function(e){e}(uj.useSyncExternalStoreWithSelector),function(e){e}(sj.useSyncExternalStore),wj=cj.unstable_batchedUpdates,lj=wj;var aA,oA,sA="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),uA="undefined"!=typeof Map,cA="undefined"!=typeof Set,lA="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,fA=sA?Symbol.for("immer-nothing"):((aA={})["immer-nothing"]=!0,aA),hA=sA?Symbol.for("immer-draftable"):"__$immer_draftable",dA=sA?Symbol.for("immer-state"):"__$immer_state",pA=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),vA="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,mA=Object.getOwnPropertyDescriptors||function(e){var t={};return vA(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},yA={},gA={get:function(e,t){if(t===dA)return e;var n=Oj(e);if(!Nj(n,t))return function(e,t,n){var r,i=Jj(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!Ij(r)?r:r===Yj(e.t,t)?(eA(e),e.o[t]=tA(e.A.h,r,e)):r},has:function(e,t){return t in Oj(e)},ownKeys:function(e){return Reflect.ownKeys(Oj(e))},set:function(e,t,n){var r=Jj(Oj(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Yj(Oj(e),t),a=null==i?void 0:i[dA];if(a&&a.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(Aj(n,i)&&(void 0!==n||Nj(e.t,t)))return!0;eA(e),Zj(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==Yj(e.t,t)||t in e.t?(e.R[t]=!1,eA(e),Zj(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Oj(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){_j(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){_j(12)}},bA={};Ej(gA,(function(e,t){bA[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),bA.deleteProperty=function(e,t){return bA.set.call(this,e,t,void 0)},bA.set=function(e,t,n){return gA.set.call(this,e[0],t,n,e[0])};var kA=function(){function e(e){var t=this;this.g=lA,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&_j(6),void 0!==r&&"function"!=typeof r&&_j(7),Ij(e)){var s=Hj(t),u=tA(t,e,void 0),c=!0;try{o=n(u),c=!1}finally{c?zj(s):Wj(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return qj(s,r),Gj(e,s)}),(function(e){throw zj(s),e})):(qj(s,r),Gj(o,s))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===fA&&(o=void 0),t.D&&Lj(o,!0),r){var l=[],f=[];Uj("Patches").M(e,o,l,f),r(l,f)}return o}_j(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){Ij(e)||_j(8),Sj(e)&&(e=nA(e));var t=Hj(this),n=tA(this,e,void 0);return n[dA].C=!0,Wj(t),n},t.finishDraft=function(e,t){var n=(e&&e[dA]).A;return qj(n,t),Gj(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!lA&&_j(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=Uj("Patches").$;return Sj(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),wA=new kA,xA=wA.produce,_A=(wA.produceWithPatches.bind(wA),wA.setAutoFreeze.bind(wA),wA.setUseProxies.bind(wA),wA.applyPatches.bind(wA),wA.createDraft.bind(wA),wA.finishDraft.bind(wA),xA);function SA(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var IA="function"===typeof Symbol&&Symbol.observable||"@@observable",EA=function(){return Math.random().toString(36).substring(7).split("").join(".")},TA={INIT:"@@redux/INIT"+EA(),REPLACE:"@@redux/REPLACE"+EA(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+EA()}};function NA(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function CA(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(SA(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(SA(1));return n(CA)(e,t)}if("function"!==typeof e)throw new Error(SA(2));var i=e,a=t,o=[],s=o,u=!1;function c(){s===o&&(s=o.slice())}function l(){if(u)throw new Error(SA(3));return a}function f(e){if("function"!==typeof e)throw new Error(SA(4));if(u)throw new Error(SA(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(SA(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),o=null}}}function h(e){if(!NA(e))throw new Error(SA(7));if("undefined"===typeof e.type)throw new Error(SA(8));if(u)throw new Error(SA(9));try{u=!0,a=i(a,e)}finally{u=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(SA(10));i=e,h({type:TA.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(SA(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[IA]=function(){return this},e}return h({type:TA.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[IA]=p,r}function jA(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:TA.INIT}))throw new Error(SA(12));if("undefined"===typeof n(void 0,{type:TA.PROBE_UNKNOWN_ACTION()}))throw new Error(SA(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],c=n[u],l=e[u],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(SA(14))}i[u]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function AA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function RA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(SA(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=AA.apply(void 0,a)(n.dispatch),Vt(Vt({},n),{},{dispatch:r})}}}function PA(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var OA=PA();OA.withExtraArgument=PA;var DA=OA,LA=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),MA=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},FA=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},UA=Object.defineProperty,VA=Object.defineProperties,BA=Object.getOwnPropertyDescriptors,qA=Object.getOwnPropertySymbols,zA=Object.prototype.hasOwnProperty,WA=Object.prototype.propertyIsEnumerable,HA=function(e,t,n){return t in e?UA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},KA=function(e,t){for(var n in t||(t={}))zA.call(t,n)&&HA(e,n,t[n]);if(qA)for(var r=0,i=qA(t);r<i.length;r++){n=i[r];WA.call(t,n)&&HA(e,n,t[n])}return e},GA=function(e,t){return VA(e,BA(t))},QA=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{s(n.next(e))}catch(t){i(t)}},o=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};s((n=n.apply(e,t)).next())}))},$A="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?AA:AA.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function XA(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var YA=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return LA(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,FA([void 0],e[0].concat(this)))):new(t.bind.apply(t,FA([void 0],e.concat(this))))},t}(Array);function JA(e){return Ij(e)?_A(e,(function(){})):e}function ZA(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new YA);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(DA.withExtraArgument(n.extraArgument)):r.push(DA));0;return r}(e)}}function eR(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return KA(KA({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function tR(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}var nR=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},rR=["name","message","stack","code"],iR=function(e,t){this.payload=e,this.meta=t},aR=function(e,t){this.payload=e,this.meta=t},oR=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=rR;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=eR(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:GA(KA({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=eR(e+"/pending",(function(e,t,n){return{payload:void 0,meta:GA(KA({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=eR(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||oR)(e||"Rejected"),meta:GA(KA({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,u,c){var l,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):nR(),h=new o;function d(e){l=e,h.abort()}var p=function(){return QA(this,null,(function(){var o,p,v,m,y,g;return MA(this,(function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),m=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:u,extra:c}),null===(k=m)||"object"!==typeof k||"function"!==typeof k.then?[3,2]:[4,m];case 1:m=b.sent(),b.label=2;case 2:if(!1===m||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,y=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),s(i(f,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:f,arg:e},{getState:u,extra:c}))),[4,Promise.race([y,Promise.resolve(t(e,{dispatch:s,getState:u,extra:c,requestId:f,signal:h.signal,abort:d,rejectWithValue:function(e,t){return new iR(e,t)},fulfillWithValue:function(e,t){return new aR(e,t)}})).then((function(t){if(t instanceof iR)throw t;return t instanceof aR?r(t.payload,f,e,t.meta):r(t,f,e)}))])];case 3:return v=b.sent(),[3,5];case 4:return g=b.sent(),v=g instanceof iR?a(null,f,e,g.payload,g.meta):a(g,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||s(v),[2,v]}var k}))}))}();return Object.assign(p,{abort:d,requestId:f,arg:e,unwrap:function(){return p.then(sR)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function sR(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var uR="listenerMiddleware";eR(uR+"/add"),eR(uR+"/removeAll"),eR(uR+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var cR,lR=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:lR(10);iA();var fR=function(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:JA(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},s={},u={};function c(){var t="function"===typeof e.extraReducers?tR(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,u=t[2],c=void 0===u?void 0:u,l=KA(KA({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?tR(t):[t,n,r],o=a[0],s=a[1],u=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return JA(e())};else{var c=JA(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=FA([o[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var r;if(Sj(e))return void 0===(r=n(e,t))?e:r;if(Ij(e))return _A(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,(function(e){for(var t in l)e.addCase(t,l[t]);for(var n=0,r=o;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return a.forEach((function(e){var n,r,a=i[e],c=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,s[c]=n,u[e]=r?eR(c,r):eR(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:u,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}({name:"auth",initialState:{isLoggedIn:!1,email:null,useName:null,userID:null,cart:[],items:[]},reducers:{SET_ACTIVE_USER:function(e,t){console.log(t.payload);var n=t.payload,r=n.email,i=n.userName,a=n.userID;e.isLoggedIn=!0,e.email=r,e.userName=i,e.userID=a},REMOVE_ACTIVE_USER:function(e,t){e.isLoggedIn=!1,e.email=null,e.userName=null,e.userID=null},setItems:function(e,t){e.items=t.payload},addToCart:function(e,t){e.cart=[].concat(h(e.cart),[t.payload.item])},removeFromCart:function(e,t){e.cart=e.cart.filter((function(e){return e.id!==t.payload.id}))},increaseCount:function(e,t){e.cart=e.cart.map((function(e){return e.id===t.payload.id&&e.count>1&&e.count--,e}))},setIsCartOpen:function(e){e.isCartOpen=!e.isCartOpen}}}),hR=fR.actions,dR=hR.SET_ACTIVE_USER,pR=hR.REMOVE_ACTIVE_USER,vR=(hR.setItems,hR.addToCart,hR.removeFromCart,hR.increaseCount,hR.setIsCartOpen),mR=fR.reducer,yR=n(184);var gR=function(){var e=Se(),t=l((0,r.useState)(""),2),n=t[0],i=t[1],a=xj();return(0,r.useEffect)((function(){!function(e,t,n,r){_t(e).onAuthStateChanged(t,n,r)}(vC,(function(e){if(e){if(null==e.displayName){var t=e.email.substring(0,e.email.indexOf("@")),r=t.charAt(0).toUpperCase()+t.slice(1);i(r)}else i(e.displayName);a(dR({email:e.email,userName:e.displayName?e.displayName:n,userID:e.uid}))}else i(""),a(pR())}))}),[a,n]),(0,yR.jsxs)("div",{children:[(0,yR.jsx)(XC,{}),(0,yR.jsx)("nav",{className:"navbar navbar-expand-lg",style:{backgroundColor:"#A2DBB7"},children:(0,yR.jsxs)("div",{className:"container-fluid",children:[(0,yR.jsx)(We,{className:"navbar-brand",to:"/",children:(0,yR.jsx)("img",{src:gC,className:"rounded-circle border border-2",style:{width:"75px"},alt:"..."})}),(0,yR.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarMark","aria-controls":"navbarMark","aria-expanded":"false","aria-label":"Toggle Navigation",children:(0,yR.jsx)("span",{className:"navbar-toggler-icon"})}),(0,yR.jsx)("div",{className:"collapse navbar-collapse",id:"navbarMark",children:(0,yR.jsxs)("ul",{className:"navbar-nav text-uppercase",children:[(0,yR.jsx)("li",{className:"nav-item",children:(0,yR.jsx)(We,{className:"nav-link",to:"/produce",style:{color:"#073418"},children:"Farm Produce"})}),(0,yR.jsx)("li",{className:"nav-item",children:(0,yR.jsx)(We,{className:"nav-link",to:"/about",style:{color:"#073418"},children:"About us"})}),(0,yR.jsx)("li",{className:"nav-item",children:(0,yR.jsx)(We,{className:"nav-link",to:"/help",style:{color:"#073418"},children:"Help"})})]})}),(0,yR.jsxs)("div",{className:"px-2 justify-content-center",children:[!n&&(0,yR.jsx)(yR.Fragment,{children:(0,yR.jsx)("button",{className:"btn btn-outline",style:{backgroundColor:"#073418",color:"#A2DBB7",float:"right"},children:(0,yR.jsx)(We,{className:"nav-link text-white",to:"/login",children:"Log in"})})}),n&&(0,yR.jsxs)(yR.Fragment,{children:[(0,yR.jsx)("div",{children:(0,yR.jsxs)(We,{className:"nav-link",to:"/",style:{color:"#073418"},children:[(0,yR.jsx)(EC,{size:16})," Hi, ",n]})}),(0,yR.jsx)(We,{className:"nav-link",to:"/cart",style:{color:"#073418",backgroundColor:"Transparent",backgroundRepeat:"no-repeat",border:"none",cursor:"pointer",overflow:"hidden",outline:"none"},onClick:function(){return a(vR({}))},children:(0,yR.jsx)("i",{className:"bi bi-cart4",style:{fontSize:"30px"}})}),(0,yR.jsx)("div",{className:"btn btn-outline",style:{backgroundColor:"#073418",color:"#A2DBB7"},onClick:function(t){(function(e){return _t(e).signOut()})(vC).then((function(){e("/")})).catch((function(e){}))},children:"LOGOUT"})]})]})]})})]})};var bR=function(){var e=function(){var e=l((0,r.useState)(null),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){vC.onAuthStateChanged((function(e){e&&n(e.uid)}))}),[t,n]),t}();return console.log(e),(0,yR.jsxs)("section",{children:[(0,yR.jsx)("br",{}),(0,yR.jsxs)("footer",{className:"container-fluid text-center text-dark",style:{backgroundColor:"#F8FEFA"},children:[(0,yR.jsx)("hr",{}),(0,yR.jsxs)("div",{className:"row",children:[(0,yR.jsx)("div",{className:"col d-flex justify-content-center",children:(0,yR.jsxs)("p",{className:"h5",children:["\"A moment on the lips, a lifetime on the hips. Always eat what's right. If you want to run for long, avoid junk food...",(0,yR.jsx)("br",{})," ",(0,yR.jsx)("br",{}),'Be Fit by Eating Fresh."']})}),(0,yR.jsxs)("div",{className:"col justify-content-center",children:[(0,yR.jsx)("div",{children:(0,yR.jsx)("p",{style:{fontSize:"18px",color:"#073418",paddingBottom:"15px"},className:"text-dark text-uppercase fw-bold",children:"Follow us "})}),(0,yR.jsxs)("p",{children:[(0,yR.jsx)("a",{href:"www.facebook.com",children:(0,yR.jsx)("i",{className:"bi bi-facebook mx-4",style:{color:"#A2DBB7"}})}),(0,yR.jsx)("a",{href:"instagram.com",children:(0,yR.jsx)("i",{className:"bi bi-instagram mx-4",style:{color:"#A2DBB7"}})}),(0,yR.jsxs)("a",{href:"twitter.com",children:[" ",(0,yR.jsx)("i",{className:"bi bi-twitter mx-4",style:{color:"#A2DBB7"}})]})]})]})]}),(0,yR.jsx)("br",{}),(0,yR.jsxs)("div",{className:"row text-center p-3 d-flex justify-content-center",style:{backgroundColor:"#A2DBB7"},children:[(0,yR.jsx)("div",{className:"col-md-2",children:(0,yR.jsx)("h6",{className:"text-uppercase fw-bold",children:(0,yR.jsx)(We,{to:"/farmerPartner",style:{color:"#073418"},children:"Be a Farmer Partner"})})}),(0,yR.jsx)("div",{className:"col-md-2",children:(0,yR.jsx)("h6",{className:"text-uppercase fw-bold",children:(0,yR.jsx)("p",{style:{color:"#073418"},children:"  \xa9 2020 Copyright"})})}),(0,yR.jsx)("div",{className:"col-md-2",children:(0,yR.jsxs)("h6",{className:"text-uppercase fw-bold",children:[e&&(0,yR.jsx)(yR.Fragment,{children:(0,yR.jsx)(We,{to:"/sellerCenter",style:{color:"#073418"},children:"Seller Center"})}),!e&&(0,yR.jsx)(yR.Fragment,{children:(0,yR.jsx)(We,{to:"/sellerLogin",style:{color:"#073418"},children:"Seller Center"})})]})})]})]})]})};var kR=function(){var e=function(){var e=document.getElementById("scrollUp");document.body.scrollTop>20||document.documentElement.scrollTop>20?e.style.display="block":e.style.display="none"},t=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0};return(0,yR.jsx)("button",{id:"scrollUp",onClick:function(){window.onscroll=function(){e()},t()},children:(0,yR.jsx)("i",{className:"bi bi-arrow-up"})})};var wR=function(e){var t=l((0,r.useState)(""),2),n=t[0],i=t[1],a=l((0,r.useState)(""),2),o=a[0],s=a[1],u=l((0,r.useState)(""),2),c=u[0],f=u[1],h=Se();return(0,yR.jsxs)("section",{className:"container mt-2 w-25",children:[(0,yR.jsx)("p",{className:"h4  text-center",children:"Login"}),(0,yR.jsx)("br",{}),(0,yR.jsx)("br",{}),(0,yR.jsxs)("div",{className:"mb-3",children:[(0,yR.jsxs)("form",{className:"logIn container border border-secondary rounded p-4",style:{padding:"5rem 2.5rem",borderRadius:"1rem",border:"1px solid transparent",backdropFilter:"blur (1rem)",boxShadow:"1.3rem 1.3rem 1.3rem rgba(0,0,0, 0.5)",borderTopColor:"rgba(225, 225, 225, 225, 0.5)",borderLeftColor:"rgba(225, 225, 225, 225, 0.5)",borderBottomColor:"rgba(225, 225, 225, 225, 0.5)",borderRightColor:"rgba(225, 225, 225, 225, 0)"},children:[(0,yR.jsxs)("div",{className:"mail",children:[(0,yR.jsx)("label",{htmlFor:"uname",className:"form-label",children:"Email address"}),(0,yR.jsx)("input",{type:"text",name:"email",id:"email",className:"form-control",placeholder:"example@gmail.com",value:n,onChange:function(e){return i(e.target.value)}})]}),(0,yR.jsx)("br",{}),(0,yR.jsxs)("div",{className:"mb-3",children:[(0,yR.jsx)("label",{htmlFor:"psw",className:"form-label",children:"Password"}),(0,yR.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",value:o,onChange:function(e){return s(e.target.value)},required:!0})]}),(0,yR.jsx)("br",{}),(0,yR.jsx)("button",{type:"button",className:"btn",style:{backgroundColor:"#A2DBB7",borderRadius:"5px",padding:"5px",boxShadow:"5px 5px grey"},onClick:function(e){e.preventDefault(),vC.signInWithEmailAndPassword(n,o).then((function(){i(""),s(""),f(""),h("/veggies")})).catch((function(e){return f(e.message)}))},children:"Log in"}),(0,yR.jsx)("br",{}),(0,yR.jsx)("p",{children:"No account yet?"}),(0,yR.jsx)(We,{type:"button",className:"text-muted",to:"/registration",style:{textDecoration:"none"},children:"Register here"})]}),c&&(0,yR.jsx)("span",{className:"error-msg",children:c})]}),(0,yR.jsx)("div",{className:"modal fade",id:"forgotPw",tabIndex:"-1",children:(0,yR.jsx)("div",{className:"modal-dialog",children:(0,yR.jsxs)("div",{className:"modal-content",children:[(0,yR.jsxs)("div",{className:"modal-header",children:[(0,yR.jsx)("h5",{className:"modal-title text-center",id:"modalTitle",children:"Forgot Password"}),(0,yR.jsx)("button",{className:"btn-close",type:"button","data-bs-dismiss":"modal","aria-label":"close"})]}),(0,yR.jsxs)("form",{name:"ValidFormModal",children:[(0,yR.jsxs)("div",{className:"modal-body",children:[(0,yR.jsx)("p",{className:"fst-italic",children:"Input your email address so we can send you a link to reset your password."}),(0,yR.jsxs)("div",{className:"input-group mb-3",children:[(0,yR.jsx)("span",{className:"input-group-text",id:"modalEmailUser",children:"Email address:"}),(0,yR.jsx)("input",{type:"email",name:"ValidForgetPass",id:"modalemail",className:"form-control"})]})]}),(0,yR.jsx)("div",{className:"modal-footer",children:(0,yR.jsx)("button",{className:"btn",type:"button",style:{backgroundColor:"#A2DBB7",borderRadius:"5px",boxShadow:"5px 5px grey"},children:"OK"})})]})]})})})]})},xR=n(694),_R=n.n(xR),SR=["xxl","xl","lg","md","sm","xs"],IR=r.createContext({prefixes:{},breakpoints:SR,minBreakpoint:"xs"});IR.Consumer,IR.Provider;function ER(e,t){var n=(0,r.useContext)(IR).prefixes;return e||n[t]||t}function TR(){return(0,r.useContext)(IR).breakpoints}function NR(){return(0,r.useContext)(IR).minBreakpoint}var CR=["bsPrefix","className","as"],jR=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"div":i,o=TC(e,CR),s=ER(n,"row"),u=TR(),c=NR(),l="".concat(s,"-cols"),f=[];return u.forEach((function(e){var t,n=o[e];delete o[e],t=null!=n&&"object"===typeof n?n.cols:n;var r=e!==c?"-".concat(e):"";null!=t&&f.push("".concat(l).concat(r,"-").concat(t))})),(0,yR.jsx)(a,Vt(Vt({ref:t},o),{},{className:_R().apply(void 0,[r,s].concat(f))}))}));jR.displayName="Row";var AR=jR,RR=["as","bsPrefix","className"],PR=["className"];var OR=r.forwardRef((function(e,t){var n=function(e){var t=e.as,n=e.bsPrefix,r=e.className,i=TC(e,RR);n=ER(n,"col");var a=TR(),o=NR(),s=[],u=[];return a.forEach((function(e){var t,r,a,c=i[e];delete i[e],"object"===typeof c&&null!=c?(t=c.span,r=c.offset,a=c.order):t=c;var l=e!==o?"-".concat(e):"";t&&s.push(!0===t?"".concat(n).concat(l):"".concat(n).concat(l,"-").concat(t)),null!=a&&u.push("order".concat(l,"-").concat(a)),null!=r&&u.push("offset".concat(l,"-").concat(r))})),[Vt(Vt({},i),{},{className:_R().apply(void 0,[r].concat(s,u))}),{as:t,bsPrefix:n,spans:s}]}(e),r=l(n,2),i=r[0],a=i.className,o=TC(i,PR),s=r[1],u=s.as,c=void 0===u?"div":u,f=s.bsPrefix,h=s.spans;return(0,yR.jsx)(c,Vt(Vt({},o),{},{ref:t,className:_R()(a,!h.length&&f)}))}));OR.displayName="Col";var DR=OR,LR=n.p+"static/media/bannerNew.33afa3a7a4a645a1bc54.jpg",MR=n.p+"static/media/sibuyas.fbab73824ba398c5b2c7.jpg",FR=n.p+"static/media/sili labuyo.b0149479b9138b2fc403.jpg",UR=n.p+"static/media/saluyot.fa877448ab073f0027fc.jpg",VR=n.p+"static/media/man.adc85ffe005847933419.jpg",BR=n.p+"static/media/sampalok.30f2958087babb11f3b0.png",qR=n.p+"static/media/pi\xf1a.fbf9bbd08175940952ce.png";var zR=function(){return(0,yR.jsx)("div",{children:(0,yR.jsxs)("div",{children:[(0,yR.jsx)("br",{}),(0,yR.jsxs)("div",{className:" d-sm-block text-center",style:{marginTop:"0",position:"relative"},children:[(0,yR.jsx)("br",{}),(0,yR.jsx)("h3",{className:"display-6 fw-bold",children:" Trending Products"}),(0,yR.jsx)(AR,{children:(0,yR.jsxs)("div",{className:"row g-2 d-flex justify-content-center",children:[(0,yR.jsx)("div",{className:"col-12 col-lg-3 col-md-6  m-1 p-5",style:{color:"#073418"},children:(0,yR.jsx)("div",{className:"d-flex flex-column",children:(0,yR.jsxs)("div",{children:[(0,yR.jsx)("img",{src:MR,alt:"farmer1",className:"card-img img-thumbnail",style:{borderRadius:"50%",padding:"20px"}}),(0,yR.jsx)("h2",{className:"display-7 fw-semibold lh-2 mb-2",children:"Sibuyas"}),(0,yR.jsx)("hr",{}),(0,yR.jsx)("p",{className:"fw-light font-monospace",children:"Sibuyas Tagalog or shallots is a small variety of red onions."})]})})}),(0,yR.jsx)("div",{className:"col-12 col-lg-3 col-md-6  m-1 p-5",style:{color:"#073418"},children:(0,yR.jsx)("div",{className:"d-flex flex-column",children:(0,yR.jsxs)("div",{children:[(0,yR.jsx)("img",{src:FR,alt:"farmer1",className:"card-img img-thumbnail",style:{borderRadius:"50%",padding:"20px"}}),(0,yR.jsx)("h2",{className:"display-7 fw-semibold lh-3 mb-2",children:"Sili Labuyo"}),(0,yR.jsx)("hr",{}),(0,yR.jsx)("p",{className:"fw-light font-monospace",children:"It's Tagalog name translates to \u201cwild chili\u201d in English."})]})})}),(0,yR.jsx)("div",{className:"col-12 col-lg-3 col-md-6  m-1 p-5",style:{color:"#073418"},children:(0,yR.jsx)("div",{className:"d-flex flex-column",children:(0,yR.jsxs)("div",{children:[(0,yR.jsx)("img",{src:UR,alt:"farmer1",className:"card-img img-thumbnail",style:{borderRadius:"50%",padding:"20px"}}),(0,yR.jsx)("h2",{className:"display-7 fw-semibold lh-2 mb-2",children:"Saluyot"}),(0,yR.jsx)("hr",{}),(0,yR.jsx)("p",{className:"fw-light font-monospace",children:"Saluyot is rich in vitamins E and C, and antioxidants."})]})})})]})})]}),(0,yR.jsx)(AR,{children:(0,yR.jsx)("div",{className:" d-sm-block text-center",style:{marginTop:"0",position:"relative"},children:(0,yR.jsxs)("div",{className:"row g-2 d-flex justify-content-center",children:[(0,yR.jsx)("div",{className:"col-12 col-lg-3 col-md-6  m-1 p-5",style:{color:"#073418"},children:(0,yR.jsx)("div",{className:"d-flex flex-column",children:(0,yR.jsxs)("div",{children:[(0,yR.jsx)("img",{src:BR,alt:"farmer1",className:"card-img img-thumbnail",style:{borderRadius:"50%",padding:"20px"}}),(0,yR.jsx)("h2",{className:"display-7 fw-semibold lh-2 mb-2",children:"Sampalok"}),(0,yR.jsx)("hr",{}),(0,yR.jsx)("p",{className:"fw-light font-monospace",children:"Sampalok, is a hardwood tree known as Tamarindus indica"})]})})}),(0,yR.jsx)("div",{className:"col-12 col-lg-3 col-md-6  m-1 p-5",style:{color:"#073418"},children:(0,yR.jsx)("div",{className:"d-flex flex-column",children:(0,yR.jsxs)("div",{children:[(0,yR.jsx)("img",{src:VR,alt:"farmer1",className:"card-img img-thumbnail",style:{borderRadius:"50%",padding:"20px"}}),(0,yR.jsx)("h2",{className:"display-7 fw-semibold lh-3 mb-2",children:"Manggo"}),(0,yR.jsx)("hr",{}),(0,yR.jsx)("p",{className:"fw-light font-monospace",children:"Mango is the national fruit of the Philippines"})]})})}),(0,yR.jsx)("div",{className:"col-12 col-lg-3 col-md-6  m-1 p-5",style:{color:"#073418"},children:(0,yR.jsx)("div",{className:"d-flex flex-column",children:(0,yR.jsxs)("div",{children:[(0,yR.jsx)("img",{src:qR,alt:"farmer1",className:"card-img img-thumbnail",style:{borderRadius:"50%",padding:"20px"}}),(0,yR.jsx)("h2",{className:"display-7 fw-semibold lh-2 mb-2",children:"Pinya"}),(0,yR.jsx)("hr",{}),(0,yR.jsx)("p",{className:"fw-light font-monospace",children:"The Filipino word is from the Spanish pi\xf1a. Pineapple plant."})]})})})]})})})]})})},WR=n.p+"static/media/bles.c7db89d42475137e1766.jpg",HR=n.p+"static/media/Ulam.a543ec09b446a0b2d618.png",KR=n.p+"static/media/fruitBasket.df6c685017fdf99335dc.jpg",GR=n.p+"static/media/salad.2e342c24f54c709df2e7.jpg",QR=n.p+"static/media/pantry.c1e5365d33a180e87bbe.png";var $R=function(){return(0,yR.jsxs)("div",{children:[(0,yR.jsx)("div",{children:(0,yR.jsx)(AR,{children:(0,yR.jsxs)("div",{className:" d-sm-block text-center",children:[(0,yR.jsx)("br",{}),(0,yR.jsx)("h3",{className:"display-6 fw-bold",children:"Featured Categories"}),(0,yR.jsx)("br",{}),(0,yR.jsxs)("div",{className:"row g-2d-flex justify-content-center ",children:[(0,yR.jsx)("div",{className:"col-12 col-lg-3 col-md-6  m-1 p-5",style:{color:"#073418"},children:(0,yR.jsx)("div",{className:"d-flex flex-column",children:(0,yR.jsxs)("div",{children:[(0,yR.jsx)("img",{src:HR,alt:"farmer1",className:"card-img img-thumbnail",style:{borderRadius:"50%",padding:"20px"}}),(0,yR.jsx)("h2",{className:"display-7 fw-semibold lh-2 mb-2",children:"Ulam Bundles"}),(0,yR.jsx)("hr",{}),(0,yR.jsx)("p",{className:"fw-light font-monospace",children:"The Ulam Bundle includes a variety of fresh veggies, leafy greens, and spices. Ideal for serving to family or friends. Sulit and convenient."}),(0,yR.jsx)(We,{to:"/best",className:"btn mt-auto fw-light font-monospace",style:{backgroundColor:"#16773b"},children:"Shop Now"})]})})}),(0,yR.jsx)("div",{className:"col-12 col-lg-3 col-md-6  m-1 p-5",style:{color:"#073418"},children:(0,yR.jsx)("div",{className:"d-flex flex-column",children:(0,yR.jsxs)("div",{children:[(0,yR.jsx)("img",{src:GR,alt:"farmer1",className:"card-img img-thumbnail",style:{borderRadius:"50%",padding:"20px"}}),(0,yR.jsx)("h2",{className:"display-7 fw-semibold lh-2 mb-2",children:"Salad Set"}),(0,yR.jsx)("hr",{}),(0,yR.jsx)("p",{className:"fw-light font-monospace",children:"Need a side dish? Grab the salad set! A typical salad starts with raw greens, such as lettuce, spinach, kale, mixed greens or arugula."}),(0,yR.jsx)(We,{to:"/best",className:"btn mt-auto fw-light font-monospace",style:{backgroundColor:"#16773b"},children:"Shop Now"})]})})}),(0,yR.jsx)("div",{className:"col-12 col-lg-3 col-md-6  m-1 p-5",style:{color:"#073418"},children:(0,yR.jsx)("div",{className:"d-flex flex-column",children:(0,yR.jsxs)("div",{children:[(0,yR.jsx)("img",{src:KR,alt:"farmer1",className:"card-img img-thumbnail",style:{borderRadius:"50%",padding:"20px"}}),(0,yR.jsx)("h2",{className:"display-7 fw-semibold lh-2 mb-2",children:"Fruits Baskets"}),(0,yR.jsx)("hr",{}),(0,yR.jsx)("p",{className:"fw-light font-monospace",children:"Bring color to your kitchen with a basket full of fruits delivered fresh to your home by Farmer's Hub! Avoid the Holiday crowds and long lines!                    "}),(0,yR.jsx)(We,{to:"/best",className:"btn mt-auto fw-light font-monospace",style:{backgroundColor:"#16773b"},children:"Shop Now"})]})})})]}),(0,yR.jsxs)("div",{className:"row g-2d-flex justify-content-center ",children:[(0,yR.jsx)("div",{className:"col-12 col-lg-3 col-md-6  m-1 p-5",style:{color:"#073418"},children:(0,yR.jsx)("div",{className:"d-flex flex-column",children:(0,yR.jsxs)("div",{children:[(0,yR.jsx)("img",{src:QR,alt:"farmer1",className:"card-img img-thumbnail",style:{borderRadius:"50%",padding:"20px"}}),(0,yR.jsx)("h2",{className:"display-7 fw-semibold lh-2 mb-2",children:"Pantry Essentials"}),(0,yR.jsx)("hr",{}),(0,yR.jsx)("p",{className:"fw-light font-monospace",children:"If you're looking for a gift for your loved ones who love to cook, this is the perfect gift set. You can also have it in your pantry.                    "}),(0,yR.jsx)(We,{to:"/best",className:"btn mt-auto fw-light font-monospace",style:{backgroundColor:"#16773b"},children:"Shop Now"})]})})}),(0,yR.jsx)("div",{className:"col-12 col-lg-3 col-md-6  m-1 p-5",style:{color:"#073418"},children:(0,yR.jsx)("div",{className:"d-flex flex-column",children:(0,yR.jsxs)("div",{children:[(0,yR.jsx)("img",{src:WR,alt:"farmer1",className:"card-img img-thumbnail",style:{borderRadius:"50%",padding:"20px"}}),(0,yR.jsxs)("h2",{className:"display-7 fw-semibold lh-2 mb-2 ",children:[" ","Vegetables"]}),(0,yR.jsx)("hr",{}),(0,yR.jsx)("p",{className:"fw-light font-monospace",children:"Fresh veggies with nutritional advantages are now available for delivery directly to your door. Order your weekly groceries and have them delivered farm fresh.                    "}),(0,yR.jsx)(We,{to:"/veggies",className:"btn mt-auto fw-light font-monospace",style:{backgroundColor:"#16773b"},children:"Shop Now"})]})})}),(0,yR.jsx)("br",{}),(0,yR.jsx)("br",{})]}),(0,yR.jsx)("br",{}),(0,yR.jsx)("br",{})]})})}),(0,yR.jsx)("br",{}),(0,yR.jsx)("br",{})]})},XR=n.p+"static/media/testi1.26fd5894206d2a3d3dfa.png",YR=n.p+"static/media/testi2.5b3514363c2a4444403a.png",JR=n.p+"static/media/testi3.63eb0d1f5c249538e505.png",ZR=n.p+"static/media/FarmersMin.e72d4b718d344930661c.jpg";var eP=function(){return(0,yR.jsx)("div",{children:(0,yR.jsxs)("section",{className:"full-container",children:[(0,yR.jsx)("img",{src:ZR,alt:"bannerTwo",className:"card-img img-thumbnail"}),(0,yR.jsx)("div",{className:"row"}),(0,yR.jsx)("br",{}),(0,yR.jsxs)("div",{className:"container d-sm-block text-center",style:{marginTop:"-18rem",position:"relative"},children:[(0,yR.jsx)("br",{}),(0,yR.jsx)("h3",{className:"display-6 fw-bold  text-light",children:(0,yR.jsx)("u",{children:"Testimonial "})}),(0,yR.jsx)(AR,{children:(0,yR.jsxs)("div",{className:"row g-2 d-flex justify-content-center",children:[(0,yR.jsx)("div",{className:"col-12 col-lg-3 col-md-6  m-1 p-4",style:{color:"#073418"},children:(0,yR.jsxs)("div",{className:"d-flex flex-column",children:[(0,yR.jsx)("p",{className:"font-monospace text-light",children:'"Farmer\'s Hub help increase our marketing sales and reduce product waste."'}),(0,yR.jsxs)("div",{children:[(0,yR.jsx)("img",{src:YR,alt:"farmer1",className:"card-img img-thumbnail",style:{borderRadius:"40%",padding:"15px"}}),(0,yR.jsxs)("h4",{className:"fw-semibold ",children:[(0,yR.jsx)("br",{}),"Imee Perez"," "]})," ",(0,yR.jsx)("hr",{}),(0,yR.jsx)("p",{className:"fw-light font-monospace",children:"Farmer One"})]})]})}),(0,yR.jsx)("div",{className:"col-12 col-lg-3 col-md-6  m-1 p-4",style:{color:"#073418"},children:(0,yR.jsxs)("div",{className:"d-flex flex-column",children:[(0,yR.jsx)("p",{className:"font-monospace text-light",children:'"Farmer\'s Hub has been a huge benefit to us farmers in terms of promoting our food items."'}),(0,yR.jsxs)("div",{children:[(0,yR.jsx)("img",{src:XR,alt:"farmer1",className:"card-img img-thumbnail",style:{borderRadius:"40%",padding:"15px"}}),(0,yR.jsxs)("h4",{className:"fw-semibold ",children:[(0,yR.jsx)("br",{}),"Juan Dela Cruz"," "]})," ",(0,yR.jsx)("hr",{}),(0,yR.jsx)("p",{className:"fw-light font-monospace",children:"Farmer Two"})]})]})}),(0,yR.jsx)("div",{className:"col-12 col-lg-3 col-md-6  m-1 p-4",style:{color:"#073418"},children:(0,yR.jsxs)("div",{className:"d-flex flex-column",children:[(0,yR.jsx)("p",{className:"font-monospace text-light",children:'"Farmer\'s Hub assists us in selling our fresh items to our valued customers online."'}),(0,yR.jsxs)("div",{children:[(0,yR.jsx)("img",{src:JR,alt:"farmer1",className:"card-img img-thumbnail",style:{borderRadius:"40%",padding:"15px"}}),(0,yR.jsxs)("h4",{className:"fw-semibold ",children:[(0,yR.jsx)("br",{}),"Jane Marcos"," "]})," ",(0,yR.jsx)("hr",{}),(0,yR.jsx)("p",{className:"fw-light font-monospace",children:"Farmer Three"})]})]})})]})})]})]})})};var tP=function(){var e=l((0,r.useState)(""),2),t=e[0],n=e[1];function i(){document.getElementById("notif").innerHTML=""}return(0,yR.jsx)("div",{children:(0,yR.jsxs)("div",{children:[(0,yR.jsxs)("form",{name:"ValidFormSubs",children:[(0,yR.jsx)("br",{}),(0,yR.jsx)("br",{}),(0,yR.jsx)("br",{}),(0,yR.jsx)("br",{}),(0,yR.jsx)("br",{}),(0,yR.jsx)("br",{}),(0,yR.jsxs)("div",{className:"full-container Newsletter d-sm-block mx-5 text-center ",style:{padding:"20px",borderRadius:"5rem",border:" 1px solid transparent",backdropFilter:" blur (1rem)",borderTopColor:"rgba(225, 225, 225, 225, 0.5)",borderBottomColor:"rgba(225, 225, 225, 225, 0.5)",borderRightColor:"rgba(225, 225, 225, 225, 0.5)",backgroundColor:"linear-gradient(to right bottom, rgba(225, 225,225, 0.5), rgba(225,225,225,0.3))"},children:[(0,yR.jsx)("h3",{children:"Subscribe to our Newsletter"}),(0,yR.jsx)("p",{style:{fontSize:"1.4rem",color:"#073418",paddingBottom:"15px"},className:"fw-lighter",children:"Stay up to date on specials and new merchandise, among other things. Directly to your inbox."}),(0,yR.jsx)("div",{className:"mb-3",id:"notif"}),(0,yR.jsxs)("div",{className:"input-group form-label",children:[(0,yR.jsx)("input",{type:"email",id:"emailBox",className:"form-control",style:{borderRadius:"5rem",padding:"10px"},placeholder:"Enter email address",required:!0,onChange:function(e){return n(e.target.value)}}),(0,yR.jsxs)("button",{type:"submit",className:"btn text-capitalize btn-sm",style:{backgroundColor:"#16773b",borderRadius:"5rem",padding:"10px"},onClick:function(e){e.preventDefault(),console.log(t),mC.collection("Subscribers").doc().set({Email:t}),document.getElementById("emailBox").value="",document.getElementById("notif").innerHTML="<p>You will now receive special updates and promotional offers via your email. Thank you!</p>",setTimeout(i,1e3),n("")},children:[(0,yR.jsx)("i",{className:"bi bi-send-check-fill"})," Subscribe"]}),(0,yR.jsxs)("div",{className:"col justify-content-center",children:[(0,yR.jsx)("br",{}),(0,yR.jsxs)("h4",{children:[(0,yR.jsx)("a",{href:"www.facebook.com",children:(0,yR.jsx)("i",{className:"bi bi-facebook mx-4",style:{color:"#16773b"}})}),(0,yR.jsx)("a",{href:"instagram.com",children:(0,yR.jsx)("i",{className:"bi bi-instagram mx-4",style:{color:"#16773b"}})}),(0,yR.jsx)("a",{href:"twitter.com",children:(0,yR.jsx)("i",{className:"bi bi-twitter mx-4",style:{color:"#16773b"}})}),(0,yR.jsx)("a",{href:"instagram.com",children:(0,yR.jsx)("i",{className:"bi bi-linkedin mx-4",style:{color:"#16773b"}})}),(0,yR.jsx)("a",{href:"youtube.com",children:(0,yR.jsx)("i",{className:"bi bi-youtube mx-4",style:{color:"#16773b"}})})," "]})]})]})]}),(0,yR.jsx)("div",{})]}),(0,yR.jsx)("br",{}),(0,yR.jsx)("br",{}),(0,yR.jsx)("br",{}),(0,yR.jsx)("br",{})]})})};var nP=function(){return(0,yR.jsx)("div",{children:(0,yR.jsxs)("section",{children:[(0,yR.jsxs)("div",{className:"container-fluid d-flex m-auto p-0",style:{position:"relative"},children:[(0,yR.jsx)("img",{src:LR,alt:"...",className:"d-block w-100",style:{opacity:"0.8"}}),(0,yR.jsxs)("div",{className:"text-box",style:{position:"absolute"},children:[(0,yR.jsx)("h2",{children:"Farmer's Hub"}),(0,yR.jsx)("h3",{children:"A moment on the lips, a lifetime on the hips. "})]})]}),(0,yR.jsx)("br",{}),(0,yR.jsx)("br",{}),(0,yR.jsx)("br",{}),(0,yR.jsxs)("div",{className:"container-fluid d-sm-block text-center",children:[(0,yR.jsx)("br",{}),(0,yR.jsxs)(AR,{className:"g-2 m-1 d-inline-flex justify-content-center",children:[(0,yR.jsx)(DR,{className:"col-12 col-lg-3 col-md-3 p-1 m-3 h-100",style:{color:"#073418"},children:(0,yR.jsxs)("div",{className:"d-flex flex-column",children:[(0,yR.jsxs)("h4",{className:"fw-semibold ",children:[(0,yR.jsx)("i",{className:"bi bi-headset"})," \xa0 Customer Service"," "]})," ",(0,yR.jsx)("hr",{}),(0,yR.jsxs)("p",{className:"fw-light font-monospace",children:["Call us at 0966-630-3633"," "]})]})}),(0,yR.jsx)(DR,{className:"col-12 col-lg-3 col-md-3 p-1 m-3 h-100",style:{color:"#073418"},children:(0,yR.jsxs)("div",{className:"d-flex flex-column",children:[(0,yR.jsxs)("h4",{className:"fw-semibold ",children:[(0,yR.jsx)("i",{className:"bi bi-wallet"}),"\xa0 Cash on Delivery"," "]})," ",(0,yR.jsx)("hr",{}),(0,yR.jsxs)("p",{className:"fw-light font-monospace",children:["Money Back Guarantee"," "]})]})}),(0,yR.jsx)(DR,{className:"col-12 col-lg-3 col-md-3 p-1 m-3 h-100",style:{color:"#073418"},children:(0,yR.jsxs)("div",{className:"d-flex flex-column",children:[(0,yR.jsxs)("h4",{className:"fw-semibold ",children:[" ",(0,yR.jsx)("i",{className:"bi bi-truck"})," \xa0 Secured Packaging"," "]})," ",(0,yR.jsx)("hr",{}),(0,yR.jsx)("p",{className:"fw-light font-monospace",children:"thermoplastic polyester film"})]})})]})]}),(0,yR.jsx)("br",{}),(0,yR.jsx)("br",{}),(0,yR.jsx)("br",{}),(0,yR.jsx)("br",{}),(0,yR.jsx)("br",{}),(0,yR.jsx)("br",{}),(0,yR.jsx)(zR,{}),(0,yR.jsx)("br",{}),(0,yR.jsx)($R,{}),(0,yR.jsx)(eP,{}),(0,yR.jsx)(tP,{})]})})};var rP=function(e){return(0,yR.jsxs)("section",{children:[(0,yR.jsx)("div",{className:"container-fluid d-flex m-auto p-0",children:(0,yR.jsx)("img",{src:e.img,alt:"banner",className:"d-block w-100"})}),(0,yR.jsx)("br",{})]})},iP=n.p+"static/media/fruitsPage.403018428db499b14ffa.png";var aP=function(){var e,t=l((0,r.useState)(!0),2),n=t[0],i=t[1],a=l((0,r.useState)([]),2),o=a[0],s=a[1],u=Se(),c=function(){var e=l((0,r.useState)(null),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){vC.onAuthStateChanged((function(e){e&&n(e.uid)}))}),[t,n]),t}(),f=function(){var e=Et(St().mark((function e(){var t,n,r,a,o,u;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mC.collection("Veggies").get();case 2:t=e.sent,n=[],r=N(t.docs);try{for(r.s();!(a=r.n()).done;)o=a.value,(u=o.data()).ID=o.id,n.push(Vt({},u)),n.length===t.docs.length&&(s(n),i(!1))}catch(c){r.e(c)}finally{r.f()}case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){f()}),[]),n?(0,yR.jsx)("p",{children:"loading firebase data..."}):(0,yR.jsx)("section",{children:(0,yR.jsx)("div",{className:"productField container-fluid p-2",children:(0,yR.jsx)("div",{className:"Vegetables",children:(0,yR.jsx)("center",{children:(0,yR.jsx)("div",{children:o.map((function(t,n){return(0,yR.jsx)(AR,{className:"g-2 m-1 d-inline-flex justify-content-center",children:(0,yR.jsx)(DR,{children:(0,yR.jsxs)("div",{className:"col-12 col-md-6 col-lg-3 ms-1 card shadow",children:[(0,yR.jsx)("div",{className:"inner",children:(0,yR.jsx)("img",{src:t.img,alt:t.title,className:"card-img",style:{borderRadius:"1rem"}})}),(0,yR.jsxs)("div",{className:"card-body text-center",children:[(0,yR.jsx)("h5",{className:"card-title fw-bold text-center",name:"item_name",children:t.title}),(0,yR.jsx)("p",{className:"card-text",children:t.text}),(0,yR.jsxs)("p",{name:"unit_price",children:["\u20b1",t.price]})]}),(0,yR.jsxs)("div",{className:"card-footer d-flex flex-column justify-content-between",children:[(0,yR.jsx)("div",{className:"input-group mb-3 justify-content-center  mt-auto",children:(0,yR.jsx)("input",{className:"text-center",type:"number",id:"vegQty",defaultValue:t.qty,min:"1"})}),(0,yR.jsx)("br",{}),(0,yR.jsxs)("button",{className:"btn btn-sm",style:{backgroundColor:"#A2DBB7",borderRadius:"5px",boxShadow:"5px 5px grey"},onClick:function(){return n=t,void(null!==c?(console.log(c),console.log(n),(e=n).qty=document.getElementById("vegQty").value,e.Subtotal=e.qty*e.price,mC.collection("'Cart' + ".concat(c)).doc(e.id).set(e).then((function(){console.log("successfully added to cart")})).catch((function(e){console.error("Error writing document: ",e)}))):u("/login"));var n},children:[(0,yR.jsx)("i",{className:"bi bi-cart4",style:{fontSize:"20px"}})," \xa0  Add to Cart"]})]})]})})},n)}))})})})})})};var oP=function(){var e,t=l((0,r.useState)([]),2),n=t[0],i=t[1],a=l((0,r.useState)(!0),2),o=a[0],s=a[1],u=Se(),c=function(){var e=l((0,r.useState)(null),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){vC.onAuthStateChanged((function(e){e&&n(e.uid)}))}),[t,n]),t}(),f=function(){var e=Et(St().mark((function e(){var t,n,r,a,o,u;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mC.collection("SHerbs").get();case 2:t=e.sent,n=[],r=N(t.docs);try{for(r.s();!(a=r.n()).done;)o=a.value,(u=o.data()).ID=o.id,n.push(Vt({},u)),n.length===t.docs.length&&(i(n),s(!1))}catch(c){r.e(c)}finally{r.f()}case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){f()}),[]),o?(0,yR.jsx)("p",{children:"loading firebase data..."}):(0,yR.jsx)("section",{children:(0,yR.jsx)("div",{className:"productField container-fluid",children:(0,yR.jsx)("center",{children:n.map((function(t,n){return(0,yR.jsx)(AR,{className:"g-2 m-1 d-inline-flex justify-content-center",children:(0,yR.jsx)(DR,{children:(0,yR.jsxs)("div",{className:"col-12 col-md-6 col-lg-3 ms-1 card shadow",children:[(0,yR.jsx)("div",{className:"inner",children:(0,yR.jsx)("img",{src:t.img,alt:t.title,className:"card-img",style:{borderRadius:"1rem"}})}),(0,yR.jsxs)("div",{className:"card-body text-center",children:[(0,yR.jsx)("h5",{className:"card-title fw-bold text-center",name:"item_name",children:t.title}),(0,yR.jsx)("p",{className:"card-text",children:t.text}),(0,yR.jsxs)("p",{name:"unit_price",children:["\u20b1",t.price]})]}),(0,yR.jsxs)("div",{className:"card-footer d-flex flex-column justify-content-between",children:[(0,yR.jsx)("div",{className:"input-group mb-3 align-center  mt-auto",children:(0,yR.jsx)("div",{className:"form-control text-center",name:"quantity",defaultValue:t.qty,children:t.qty})}),(0,yR.jsx)("br",{}),(0,yR.jsxs)("button",{className:"btn btn-sm",style:{backgroundColor:"#A2DBB7",borderRadius:"5px",boxShadow:"5px 5px grey"},onClick:function(){return n=t,void(null!==c?(console.log(c),console.log(n),(e=n).Subtotal=e.qty*e.price,mC.collection("'Cart' + ".concat(c)).doc(e.id).set(e).then((function(){console.log("successfully added to cart")})).catch((function(e){console.error("Error writing document: ",e)}))):u("/login"));var n},children:[" ",(0,yR.jsx)("i",{className:"bi bi-cart4",style:{fontSize:"20px"}})," \xa0  Add to Cart"]})]})]})})},n)}))})})})};var sP=function(){var e,t=l((0,r.useState)([]),2),n=t[0],i=t[1],a=l((0,r.useState)(!0),2),o=a[0],s=a[1],u=Se(),c=function(){var e=l((0,r.useState)(null),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){vC.onAuthStateChanged((function(e){e&&n(e.uid)}))}),[t,n]),t}(),f=function(){var e=Et(St().mark((function e(){var t,n,r,a,o,u;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mC.collection("Fruits").get();case 2:t=e.sent,n=[],r=N(t.docs);try{for(r.s();!(a=r.n()).done;)o=a.value,(u=o.data()).ID=o.id,n.push(Vt({},u)),n.length===t.docs.length&&(i(n),s(!1))}catch(c){r.e(c)}finally{r.f()}case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){f()}),[]),o?(0,yR.jsx)("p",{children:"loading firebase data..."}):(0,yR.jsx)("section",{children:(0,yR.jsx)("div",{className:"productField container-fluid",children:(0,yR.jsx)("center",{children:n.map((function(t,n){return(0,yR.jsx)(AR,{className:"g-2 m-1 d-inline-flex justify-content-center",children:(0,yR.jsx)(DR,{children:(0,yR.jsxs)("div",{className:"col-12 col-md-6 col-lg-3 ms-1 card shadow",children:[(0,yR.jsx)("div",{className:"inner",children:(0,yR.jsx)("img",{src:t.img,alt:t.title,className:"card-img",style:{borderRadius:"1rem"}})}),(0,yR.jsxs)("div",{className:"card-body text-center",children:[(0,yR.jsx)("h5",{className:"card-title fw-bold text-center",name:"item_name",children:t.title}),(0,yR.jsx)("p",{className:"card-text",children:t.text}),(0,yR.jsxs)("p",{name:"unit_price",children:["\u20b1",t.price]})]}),(0,yR.jsxs)("div",{className:"card-footer d-flex flex-column justify-content-between",children:[(0,yR.jsx)("div",{className:"input-group mb-3 align-center  mt-auto",children:(0,yR.jsx)("div",{className:"form-control text-center",name:"quantity",defaultValue:t.qty,children:t.qty})}),(0,yR.jsx)("br",{}),(0,yR.jsxs)("button",{className:"btn btn-sm",style:{backgroundColor:"#A2DBB7",borderRadius:"5px",boxShadow:"5px 5px grey"},onClick:function(){return n=t,void(null!==c?(console.log(c),console.log(n),(e=n).Subtotal=e.qty*e.price,mC.collection("'Cart' + ".concat(c)).doc(e.id).set(e).then((function(){console.log("successfully added to cart")})).catch((function(e){console.error("Error writing document: ",e)}))):u("/login"));var n},children:[(0,yR.jsx)("i",{className:"bi bi-cart4",style:{fontSize:"20px"}})," \xa0  Add to Cart"]})]})]})})},n)}))})})})};var uP=function(){var e,t=Se(),n=function(){var e=l((0,r.useState)(null),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){vC.onAuthStateChanged((function(e){e&&n(e.uid)}))}),[t,n]),t}(),i=l((0,r.useState)([]),2),a=i[0],o=i[1];(0,r.useEffect)((function(){var e=[];mC.collection("Ulam").orderBy("title").get().then((function(t){t.forEach((function(t){e.push(Vt(Vt({},t.data()),{},{key:t.id}))})),o(e)}))}),[a]);var s=l((0,r.useState)([]),2),u=s[0],c=s[1];(0,r.useEffect)((function(){var e=[];mC.collection("Fruitbasket").orderBy("price").get().then((function(t){t.forEach((function(t){e.push(Vt(Vt({},t.data()),{},{key:t.id}))})),c(e)}))}),[u]);var f=l((0,r.useState)([]),2),h=f[0],d=f[1];(0,r.useEffect)((function(){var e=[];mC.collection("SaladSet").orderBy("title").get().then((function(t){t.forEach((function(t){e.push(Vt(Vt({},t.data()),{},{key:t.id}))})),d(e)}))}),[h]);var p=l((0,r.useState)([]),2),v=p[0],m=p[1];(0,r.useEffect)((function(){var e=[];mC.collection("Pantry").orderBy("title").get().then((function(t){t.forEach((function(t){e.push(Vt(Vt({},t.data()),{},{key:t.id}))})),m(e)}))}),[v]);var y=function(r){null!==n?(console.log(n),console.log(r),(e=r).Subtotal=e.qty*e.price,mC.collection("'Cart' + ".concat(n)).doc(e.id).set(e).then((function(){console.log("successfully added to cart")})).catch((function(e){console.error("Error writing document: ",e)}))):t("/login")};return(0,yR.jsx)("div",{children:(0,yR.jsxs)("div",{className:"container-fluid mt-2",children:[(0,yR.jsxs)("ul",{className:"nav nav-tabs nav-justified flex-column flex-sm-row",children:[(0,yR.jsx)("li",{className:"nav-item",children:(0,yR.jsx)("a",{className:"nav-link active","data-bs-toggle":"tab","aria-current":"page",href:"#UlamBundles",children:"Ulam Bundles"})}),(0,yR.jsx)("li",{className:"nav-item",children:(0,yR.jsx)("a",{className:"nav-link","data-bs-toggle":"tab",href:"#FruitsBasket",children:"Fruits Basket"})}),(0,yR.jsx)("li",{className:"nav-item",children:(0,yR.jsx)("a",{className:"nav-link","data-bs-toggle":"tab",href:"#SaladSet",children:"Salad Set"})}),(0,yR.jsx)("li",{className:"nav-item",children:(0,yR.jsx)("a",{className:"nav-link","data-bs-toggle":"tab",href:"#Pantry",children:"Pantry Essentials"})})]}),(0,yR.jsxs)("div",{className:"tab-content",children:[(0,yR.jsxs)("div",{className:"tab-pane active",id:"UlamBundles",children:[(0,yR.jsx)("h3",{className:"mb-3 text-center",children:"Ulam Bundles"}),(0,yR.jsx)("p",{className:"text-center",children:"The Ulam Bundle has all the fresh vegetables, leafy greens and rekados (ginger, tomato, onion, garlic) you need for one ulam, to serve your family or friends. Sulit and convenient."}),(0,yR.jsx)("p",{className:"fst-italic text-center",children:"*meats not included"}),(0,yR.jsx)("center",{children:a.map((function(e,t){return(0,yR.jsx)(AR,{className:"g-2 m-1 d-inline-flex justify-content-center",children:(0,yR.jsx)(DR,{children:(0,yR.jsxs)("div",{className:"col-12 col-md-6 col-lg-3 ms-1 card shadow",children:[(0,yR.jsx)("div",{className:"inner",children:(0,yR.jsx)("img",{src:e.img,alt:e.title,className:"card-img",style:{borderRadius:"1rem"}})}),(0,yR.jsxs)("div",{className:"card-body text-center",children:[(0,yR.jsx)("h5",{className:"card-title fw-bold text-center",name:"item_name",children:e.title}),(0,yR.jsxs)("p",{name:"unit_price",children:["\u20b1",e.price]})]}),(0,yR.jsxs)("div",{className:"card-footer d-flex flex-column justify-content-between",children:[(0,yR.jsx)("div",{className:"input-group mb-3 align-center  mt-auto",children:(0,yR.jsx)("div",{className:"form-control text-center",name:"quantity",defaultValue:e.qty,children:e.qty})}),(0,yR.jsx)("br",{}),(0,yR.jsxs)("button",{className:"btn btn-sm",style:{backgroundColor:"#A2DBB7",borderRadius:"5px",boxShadow:"5px 5px grey"},onClick:function(){return y(e)},children:[(0,yR.jsx)("i",{className:"bi bi-cart4",style:{fontSize:"20px"}})," \xa0  Add to Cart"]})]})]})})},t)}))}),(0,yR.jsx)("br",{})]}),(0,yR.jsxs)("div",{className:"tab-pane",id:"FruitsBasket",children:[(0,yR.jsx)("h3",{className:"mb-3 text-center",children:"Fruits Basket"}),(0,yR.jsx)("center",{children:u.map((function(e,t){return(0,yR.jsx)(AR,{className:"g-2 m-1 d-inline-flex justify-content-center",children:(0,yR.jsx)(DR,{children:(0,yR.jsxs)("div",{className:"col-12 col-md-6 col-lg-3 ms-1 card shadow",children:[(0,yR.jsx)("div",{className:"inner",children:(0,yR.jsx)("img",{src:e.img,alt:e.title,className:"card-img",style:{borderRadius:"1rem"}})}),(0,yR.jsxs)("div",{className:"card-body text-center",children:[(0,yR.jsx)("h5",{className:"card-title fw-bold text-center",name:"item_name",children:e.title}),(0,yR.jsxs)("p",{name:"unit_price",children:["\u20b1",e.price]})]}),(0,yR.jsxs)("div",{className:"card-footer d-flex flex-column justify-content-between",children:[(0,yR.jsx)("div",{className:"input-group mb-3 align-center  mt-auto",children:(0,yR.jsx)("div",{className:"form-control text-center",name:"quantity",defaultValue:e.qty,children:e.qty})}),(0,yR.jsx)("br",{}),(0,yR.jsxs)("button",{className:"btn btn-sm",style:{backgroundColor:"#A2DBB7",borderRadius:"5px",boxShadow:"5px 5px grey"},onClick:function(){return y(e)},children:[(0,yR.jsx)("i",{className:"bi bi-cart4",style:{fontSize:"20px"}})," \xa0  Add to Cart"]})]})]})})},t)}))})]}),(0,yR.jsx)("div",{className:"tab-pane",id:"SaladSet",children:(0,yR.jsxs)("div",{className:"row g-0 m-1 d-flex justify-content-center",children:[(0,yR.jsx)("h3",{className:"mb-3 text-center",children:"Salad Set"}),(0,yR.jsx)("center",{children:h.map((function(e,t){return(0,yR.jsx)(AR,{className:"g-2 m-1 d-inline-flex justify-content-center",children:(0,yR.jsx)(DR,{children:(0,yR.jsxs)("div",{className:"col-12 col-md-6 col-lg-3 ms-1 card shadow",children:[(0,yR.jsx)("div",{className:"inner",children:(0,yR.jsx)("img",{src:e.img,alt:e.title,className:"card-img",style:{borderRadius:"1rem"}})}),(0,yR.jsxs)("div",{className:"card-body text-center",children:[(0,yR.jsx)("h5",{className:"card-title fw-bold text-center",name:"item_name",children:e.title}),(0,yR.jsx)("p",{className:"card-text",children:e.text}),(0,yR.jsxs)("p",{name:"unit_price",children:["\u20b1",e.price]})]}),(0,yR.jsxs)("div",{className:"card-footer d-flex flex-column justify-content-between",children:[(0,yR.jsx)("div",{className:"input-group mb-3 align-center  mt-auto",children:(0,yR.jsx)("div",{className:"form-control text-center",name:"quantity",defaultValue:e.qty,children:e.qty})}),(0,yR.jsx)("br",{}),(0,yR.jsxs)("button",{className:"btn btn-sm",style:{backgroundColor:"#A2DBB7",borderRadius:"5px",boxShadow:"5px 5px grey"},onClick:function(){return y(e)},children:[(0,yR.jsx)("i",{className:"bi bi-cart4",style:{fontSize:"20px"}})," \xa0  Add to Cart"]})]})]})})},t)}))})]})}),(0,yR.jsxs)("div",{className:"tab-pane",id:"Pantry",children:[(0,yR.jsxs)("div",{className:"row p-1  text-center",children:[(0,yR.jsx)("h3",{className:"mb-3",children:"Pantry Essentials"}),(0,yR.jsx)("p",{children:"If you're looking for a gift to your loved ones who love to cook, it's the perfect gift set. You can also have it for your own pantry."})]}),(0,yR.jsx)("center",{children:v.map((function(e,t){return(0,yR.jsx)(AR,{className:"g-2 m-1 d-inline-flex justify-content-center",children:(0,yR.jsx)(DR,{children:(0,yR.jsxs)("div",{className:"col-12 col-md-6 col-lg-3 ms-1 card shadow",children:[(0,yR.jsx)("div",{className:"inner",children:(0,yR.jsx)("img",{src:e.img,alt:e.title,className:"card-img",style:{borderRadius:"1rem"}})}),(0,yR.jsxs)("div",{className:"card-body text-center",children:[(0,yR.jsx)("h5",{className:"card-title fw-bold text-center",name:"item_name",children:e.title}),(0,yR.jsx)("p",{className:"card-text",children:e.text}),(0,yR.jsxs)("p",{name:"unit_price",children:["\u20b1",e.price]})]}),(0,yR.jsxs)("div",{className:"card-footer d-flex flex-column justify-content-between",children:[(0,yR.jsx)("div",{className:"input-group mb-3 align-center  mt-auto",children:(0,yR.jsx)("div",{className:"form-control text-center",name:"quantity",defaultValue:e.qty,children:e.qty})}),(0,yR.jsx)("br",{}),(0,yR.jsxs)("button",{className:"btn btn-sm",style:{backgroundColor:"#A2DBB7",borderRadius:"5px",boxShadow:"5px 5px grey"},onClick:function(){return y(e)},children:[(0,yR.jsx)("i",{className:"bi bi-cart4",style:{fontSize:"20px"}})," \xa0  Add to Cart"]})]})]})})},t)}))})]})]}),(0,yR.jsx)("br",{})]})})};var cP=function(){var e=l((0,r.useState)(1),2),t=e[0],n=e[1],i=function(e){n(e)},a={color:"#073418",backgroundColor:"#A2DBB7"};return(0,yR.jsx)("div",{className:"checkout",children:(0,yR.jsxs)("section",{children:[(0,yR.jsx)(rP,{img:iP}),(0,yR.jsx)("div",{className:"container-fluid",children:(0,yR.jsxs)("ul",{className:"indicator nav flex-row ",style:{backgroundColor:"#A2DBB7"},children:[(0,yR.jsx)("li",{className:"nav-item border ",children:(0,yR.jsx)("button",{className:1===t?"nav-link active bg-light":"nav-link ",id:"All",to:"/all",style:a,onClick:function(){return i(1)},children:"All"})}),(0,yR.jsx)("li",{className:"nav-item border",children:(0,yR.jsx)("button",{className:2===t?"nav-link active bg-light":"nav-link ",id:"Vegetables",to:"/veggies",style:a,onClick:function(){return i(2)},children:"Vegetables"})}),(0,yR.jsx)("li",{className:"nav-item border",children:(0,yR.jsx)("button",{className:3===t?"nav-link active bg-light":"nav-link ",id:"Fruits",to:"/fruits",style:a,onClick:function(){return i(3)},children:"Fruits"})}),(0,yR.jsx)("li",{className:"nav-item border",children:(0,yR.jsx)("button",{className:4===t?"nav-link active bg-light":"nav-link ",id:"SHerbs",to:"/sherbs",style:a,onClick:function(){return i(4)},children:"Spices and Herbs"})}),(0,yR.jsx)("li",{className:"nav-item border",children:(0,yR.jsx)("button",{className:5===t?"nav-link active bg-light":"nav-link ",id:"Best",to:"/best",style:a,onClick:function(){return i(5)},children:"Best Sellers"})})]})}),(0,yR.jsx)("br",{}),(0,yR.jsxs)("div",{className:"tab-content ",children:[(0,yR.jsxs)("div",{className:1===t?"tab-pane fade show active":"tab-pane fade",children:[(0,yR.jsx)(aP,{}),(0,yR.jsx)(sP,{}),(0,yR.jsx)(oP,{})]}),(0,yR.jsx)("div",{className:2===t?"tab-pane fade show active":"tab-pane fade",children:(0,yR.jsx)(aP,{})}),(0,yR.jsx)("div",{className:3===t?"tab-pane fade show active":"tab-pane fade",children:(0,yR.jsx)(sP,{})}),(0,yR.jsx)("div",{className:4===t?"tab-pane fade show active":"tab-pane fade",children:(0,yR.jsx)(oP,{})}),(0,yR.jsx)("div",{className:5===t?"tab-pane fade show active":"tab-pane fade",children:(0,yR.jsx)(uP,{})})]})]})})},lP=n.p+"static/media/image1.c9192cc1a678ebc47968.jpg";var fP=function(){return(0,yR.jsxs)("section",{id:"about",className:"container-fluid",children:[(0,yR.jsxs)("div",{className:"about-1 text-justify",children:[(0,yR.jsx)("h1",{children:"About Us"}),(0,yR.jsx)("div",{className:"container",children:(0,yR.jsx)("p",{children:" In the Philippines, majority of the farmers belong to the low-income className. Thus, the conventional supply chain of fresh produce in the Philippines can be expressed as follows: farm-to-middleman-to-second-middleman-to-third-middleman-to-fourth-middleman-to-fifth-middleman-to-table. There\u2019s extra cost that goes for each middle-man who in turn just drive up the prices of the agricultural crops in the market. With recent events of importation of several produce from neighboring countries, most of the Filipinos favor the low-priced imported goods over the local crops of our farmers. A Farmers' Hub (FH) is a one-stop commercial service platform where smallholders can access quality agri-inputs, farm machinery, markets, finance, and knowledge."})})]}),(0,yR.jsx)("div",{className:"container-fluid",children:(0,yR.jsx)("img",{src:lP,alt:"..",className:"d-block w-100"})}),(0,yR.jsx)("br",{}),(0,yR.jsx)("div",{id:"about-2 container content-box-lg",children:(0,yR.jsxs)("div",{className:"row",children:[(0,yR.jsxs)("div",{className:"col-md-4 about-item text-center",children:[(0,yR.jsx)("i",{className:"bi bi-globe",style:{color:"#073418"}}),(0,yR.jsx)("h3",{children:"Mission"}),(0,yR.jsx)("hr",{}),(0,yR.jsx)("p",{children:"Helps the farmers/agricultural producers minimize,if not fully eliminated, the negative effects of middlemen by creating an online marketplace where they can showcase their produce to direct consumers. This marketplace will help promote local farm communities and at the same time provide an ease of access for consumers to buy fresh and healthy products at a competitive price."})]}),(0,yR.jsxs)("div",{className:"col-md-4 about-item text-center",children:[(0,yR.jsx)("i",{className:"bi bi-book",style:{color:"#073418"}}),(0,yR.jsx)("h3",{children:"Vision"}),(0,yR.jsx)("hr",{}),(0,yR.jsx)("p",{children:" Farmers can access information needed to produce, add value, market their commodities and develop effective linkages with input agencies such as financial service providers, as well as output markets."})]}),(0,yR.jsxs)("div",{className:"col-md-4 about-item text-center",children:[(0,yR.jsx)("i",{className:"bi bi-pencil",style:{color:"#073418"}}),(0,yR.jsx)("h3",{children:"OBJECTIVE"}),(0,yR.jsx)("hr",{}),(0,yR.jsx)("p",{children:"Improve the conditions of farmers in the Food Chain (to minimize imbalances and disadvantage of farmers with intermediate distributors and other agents in the food and agriculture). Increased profitability of farms and purchasing power of farmers. Expand export opportunities and new markets or to sell the produce for profit in the local or export market."})]})]})})]})};var hP=function(){var e=l((0,r.useState)(""),2),t=e[0],n=e[1],i=l((0,r.useState)(""),2),a=i[0],o=i[1],s=l((0,r.useState)(""),2),u=s[0],c=s[1];function f(){document.getElementById("notif").innerHTML=""}return(0,yR.jsxs)("section",{children:[(0,yR.jsx)("h3",{className:"fw-bold mt-5 ms-3",children:"Frequently Asked Questions"}),(0,yR.jsxs)("div",{className:"m-3",children:[(0,yR.jsxs)("div",{className:"accordion",id:"myAccordion",children:[(0,yR.jsxs)("div",{className:"accordion-item",children:[(0,yR.jsx)("h2",{className:"accordion-header",id:"headingOne",children:(0,yR.jsxs)("button",{type:"button",className:"accordion-button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne",children:[(0,yR.jsx)("i",{className:"bi bi-question-diamond-fill",children:"\xa0"})," Where are your fruits and vegetables sourced?"]})}),(0,yR.jsx)("div",{id:"collapseOne",className:"accordion-collapse collapse ",children:(0,yR.jsxs)("div",{className:"card-body",children:[(0,yR.jsx)("p",{className:"ms-5 mt-4",children:"We get our products from farmers all over the country. We import fruits and vegetables that are not grown locally. "}),(0,yR.jsx)("br",{})]})})]}),(0,yR.jsxs)("div",{className:"accordion-item",children:[(0,yR.jsx)("h2",{className:"accordion-header",id:"headingTwo",children:(0,yR.jsxs)("button",{type:"button",className:"accordion-button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwo",children:[" ",(0,yR.jsx)("i",{className:"bi bi-question-diamond-fill",children:"\xa0"})," How should your products be stored? "]})}),(0,yR.jsx)("div",{id:"collapseTwo",className:"accordion-collapse collapse",children:(0,yR.jsx)("div",{className:"card-body",children:(0,yR.jsx)("p",{className:"ms-5 mt-4",children:" This varies depending on the product. In general, store leafy vegetables in the refrigerator. Root crops, such as potatoes and onions, can be stored at room temperature in a cool, dry place. Fruits should be refrigerated. "})})})]}),(0,yR.jsxs)("div",{className:"accordion-item",children:[(0,yR.jsx)("h2",{className:"accordion-header",id:"headingThree",children:(0,yR.jsxs)("button",{type:"button",className:"accordion-button","data-bs-toggle":"collapse","data-bs-target":"#collapseThree",children:[" ",(0,yR.jsx)("i",{className:"bi bi-question-diamond-fill",children:"\xa0"})," How quickly can you deliver? "]})}),(0,yR.jsx)("div",{id:"collapseThree",className:"accordion-collapse collapse ",children:(0,yR.jsx)("div",{className:"card-body",children:(0,yR.jsx)("p",{className:"ms-5 mt-4",children:" We have our own delivery service and can deliver to your door the next day (except Sundays) if you place your order before the daily cutoff time of 8 p.m. "})})})]}),(0,yR.jsxs)("div",{className:"accordion-item",children:[(0,yR.jsx)("h2",{className:"accordion-header",id:"headingFour",children:(0,yR.jsxs)("button",{type:"button",className:"accordion-button","data-bs-toggle":"collapse","data-bs-target":"#collapseFour",children:[" ",(0,yR.jsx)("i",{className:"bi bi-question-diamond-fill",children:"\xa0"})," How do you deliver our orders? "]})}),(0,yR.jsx)("div",{id:"collapseFour",className:"accordion-collapse collapse ",children:(0,yR.jsx)("div",{className:"card-body",children:(0,yR.jsx)("p",{className:"ms-5 mt-4",children:" We deliver your orders using our fleet of refrigerated vans to ensure the freshness of your order. "})})})]}),(0,yR.jsxs)("div",{className:"accordion-item",children:[(0,yR.jsx)("h2",{className:"accordion-header",id:"headingFive",children:(0,yR.jsxs)("button",{type:"button",className:"accordion-button","data-bs-toggle":"collapse","data-bs-target":"#collapseFive",children:[" ",(0,yR.jsx)("i",{className:"bi bi-question-diamond-fill",children:"\xa0"})," If I am not satisfied with my orders, what are my options? "]})}),(0,yR.jsx)("div",{id:"collapseFive",className:"accordion-collapse collapse ",children:(0,yR.jsx)("div",{className:"card-body",children:(0,yR.jsx)("p",{className:"ms-5 mt-4",children:" Due to the nature of our products, it is our policy that once the items are received and accepted, it is assumed that you have inspected and are satisfied with our products. We do allow you to reject items on the spot if you are dissatisfied with them. As a result, we strongly recommend that you or your representative inspect the delivered items one by one. "})})})]}),(0,yR.jsxs)("div",{className:"accordion-item",children:[(0,yR.jsx)("h2",{className:"accordion-header",id:"headingSix",children:(0,yR.jsxs)("button",{type:"button",className:"accordion-button","data-bs-toggle":"collapse","data-bs-target":"#collapseSix",children:[" ",(0,yR.jsx)("i",{className:"bi bi-question-diamond-fill",children:"\xa0"})," Do you accept bulk orders? "]})}),(0,yR.jsx)("div",{id:"collapseSix",className:"accordion-collapse collapse ",children:(0,yR.jsx)("div",{className:"card-body",children:(0,yR.jsx)("p",{className:"ms-5 mt-4",children:" We certainly do! Large orders htmlFor businesses, restaurants, and parties are welcome. If you have any further questions, please contact us via email and we will get back to you. "})})})]})]}),(0,yR.jsx)("div",{className:"form-area",children:(0,yR.jsx)("div",{className:"container",children:(0,yR.jsxs)("div",{className:"row single-form g-0",children:[(0,yR.jsx)("div",{className:"col-sm-12 col-lg-6",children:(0,yR.jsx)("div",{className:"left",children:(0,yR.jsxs)("h2",{children:[(0,yR.jsx)("span",{children:"Get in"}),(0,yR.jsx)("br",{}),"touch with us!"]})})}),(0,yR.jsx)("div",{className:"col-sm-12 col-lg-6",children:(0,yR.jsxs)("div",{className:"right",children:[(0,yR.jsx)("i",{className:"bi bi-caret-right-fill",style:{color:"#A2DBB7"}}),(0,yR.jsxs)("form",{onSubmit:function(e){e.preventDefault(),mC.collection("Messages").doc().set({Name:t,Email:a,Text:u}),n(""),o(""),c(""),document.getElementById("notif").innerHTML="<p>Your inquiry has been sent. Please expect a response within 24 hours. Thank you!</p>",setTimeout(f,1e3)},children:[(0,yR.jsx)("div",{className:"mb-3",id:"notif"}),(0,yR.jsxs)("div",{className:"mb-3",children:[(0,yR.jsx)("label",{htmlFor:"names",className:"form-label",children:"Your Name"}),(0,yR.jsx)("input",{type:"text",className:"form-control",id:"names",placeholder:"Paula Joyce",name:"names",value:t,onChange:function(e){return n(e.target.value)}})]}),(0,yR.jsxs)("div",{className:"mb-3",children:[(0,yR.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email messages"}),(0,yR.jsx)("input",{type:"emails",className:"form-control",id:"emails",placeholder:"paula@example.com",name:"emails",value:a,onChange:function(e){return o(e.target.value)}})]}),(0,yR.jsxs)("div",{className:"mb-3",children:[(0,yR.jsx)("label",{htmlFor:"messages",className:"form-label",children:"Message"}),(0,yR.jsx)("textarea",{type:"password",className:"form-control",id:"messages",style:{resize:"none"},name:"messages",value:u,onChange:function(e){return c(e.target.value)}})]}),(0,yR.jsx)("input",{type:"submit",name:"submit",value:"Submit Inquiry",className:"btn"})]})]})})]})})})]})]})};var dP=function(){var e=l((0,r.useState)(""),2),t=e[0],n=e[1],i=l((0,r.useState)(""),2),a=i[0],o=i[1],s=l((0,r.useState)(""),2),u=s[0],c=s[1],f=l((0,r.useState)(""),2),h=f[0],d=f[1],p=l((0,r.useState)(""),2),v=p[0],m=p[1],y=l((0,r.useState)(null),2),g=y[0],b=y[1],k=l((0,r.useState)(""),2),w=k[0],x=k[1],_=Se(),S=l((0,r.useState)(""),2),I=S[0],E=S[1],T=["image/png","image/jpeg","image/jpg"],N=function(e){yC.ref("img/".concat(g.name)).put(g).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log(t)}),(function(e){E(e.message)}),(function(){yC.ref("img").child(g.name).getDownloadURL().then((function(e){mC.collection("Sellers").add({IDcard:e}).then((function(){b(""),document.getElementById("idCard").value=""})).catch((function(e){return E(e.message)}))}))}))};return(0,yR.jsxs)("section",{className:"container mt-5",children:[(0,yR.jsxs)("form",{autoComplete:"off",className:"container border border-secondary rounded p-4 form-group",onSubmit:function(e){e.preventDefault(),console.log("form submitted"),console.log(t,a,u,h,v,w),N(),vC.createUserWithEmailAndPassword(t,a).then((function(e){mC.collection("Sellers").doc(e.user.uid).set({email:t,password:a,fName:u,lName:v,middle:h,storeName:w}).then((function(){n(""),o(""),c(""),d(""),m(""),x(""),E(""),_("/sellerCenter")})).catch((function(e){return E(e.message)}))})).catch((function(e){return E(e.message)}))},children:[(0,yR.jsxs)("div",{className:"accordion accordion-flush",id:"RegisterAccount",children:[(0,yR.jsxs)("div",{className:"accordion-item",children:[(0,yR.jsx)("h2",{className:"accordion-header",id:"RegHeading",children:(0,yR.jsx)("button",{className:"accordion-button btn btn-outline fw-bold",type:"button","data-bs-toggle":"collapse","data-bs-target":"#RegBody","aria-expanded":"true","aria-controls":"RegBody",children:"Log in details"})}),(0,yR.jsx)("div",{className:"accordion-collapsee",id:"RegBody","aria-labelledby":"#RegHeading","data-bs-parent":"#RegisterAccount",children:(0,yR.jsxs)("div",{className:"accordion-body text-justify",children:[(0,yR.jsxs)("div",{className:"input-group mb-3",children:[(0,yR.jsx)("span",{className:"input-group-text",children:"Email address:"}),(0,yR.jsx)("input",{type:"email",name:"email",id:"email",className:"form-control",onChange:function(e){return n(e.target.value)},value:t})]}),(0,yR.jsx)("br",{}),(0,yR.jsxs)("div",{className:"input-group mb-3",children:[(0,yR.jsx)("label",{htmlFor:"password",className:"input-group-text",children:"Password:"}),(0,yR.jsx)("input",{type:"password",className:"form-control",id:"password",onChange:function(e){return o(e.target.value)},value:a})]}),(0,yR.jsx)("br",{})]})})]}),(0,yR.jsxs)("div",{className:"accordion-item",children:[(0,yR.jsx)("h2",{className:"accordion-header",id:"PersonalInfo",children:(0,yR.jsx)("button",{className:"accordion-button fw-bold collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#PersonalInfoBody","aria-expanded":"true","aria-controls":"PersonalInfoBody",children:"Personal Information"})}),(0,yR.jsx)("div",{className:"accordion-collapse collapse",id:"PersonalInfoBody","aria-labelledby":"#PersonalInfo","data-bs-parent":"#RegisterAccount",children:(0,yR.jsxs)("div",{className:"accordion-body text-justify",children:[(0,yR.jsxs)("div",{className:"input-group mb-3",children:[(0,yR.jsx)("span",{className:"input-group-text",children:"First Name:"}),(0,yR.jsx)("input",{type:"text",className:"form-control",id:"fName",onChange:function(e){return c(e.target.value)},value:u}),(0,yR.jsx)("span",{className:"input-group-text",children:"Middle Initial:"}),(0,yR.jsx)("input",{type:"text",className:"form-control",id:"mName",onChange:function(e){return d(e.target.value)},value:h}),(0,yR.jsx)("span",{className:"input-group-text",children:"Last Name:"}),(0,yR.jsx)("input",{type:"text",className:"form-control",id:"lName",onChange:function(e){return m(e.target.value)},value:v})]}),(0,yR.jsx)("br",{}),(0,yR.jsxs)("div",{className:"input-group mb-3",children:[(0,yR.jsx)("span",{className:"input-group-text",children:"Upload ID card:"}),(0,yR.jsx)("input",{type:"file",className:"form-control",id:"idCard",onChange:function(e){var t=e.target.files[0];t&&T.includes(t.type)?(b(t),E("")):(b(null),E("Please select a valid image type png, jpg or jpeg"))}})]}),(0,yR.jsx)("p",{style:{fontSize:"12px"},children:"Max of 5MB with jpg, jpeg, pdf, png file types only"})]})})]}),(0,yR.jsxs)("div",{className:"accordion-item",children:[(0,yR.jsx)("h2",{className:"accordion-header",id:"StoreHeading",children:(0,yR.jsx)("button",{className:"accordion-button fw-bold collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#StoreBody","aria-expanded":"true","aria-controls":"StoreBody",children:"Store Information"})}),(0,yR.jsx)("div",{className:"accordion-collapse collapse",id:"StoreBody","aria-labelledby":"#StoreHeading","data-bs-parent":"#RegisterAccount",children:(0,yR.jsxs)("div",{className:"accordion-body text-justify",children:[(0,yR.jsx)("p",{className:"fw-bold",style:{fontSize:"15px"},children:"Store and Product Information"}),(0,yR.jsx)("br",{}),(0,yR.jsxs)("div",{className:"input-group mb-3",children:[(0,yR.jsx)("span",{className:"input-group-text",children:"Store name:"}),(0,yR.jsx)("input",{type:"text",name:"storeName",id:"storeName",className:"form-control",onChange:function(e){return x(e.target.value)},value:w})]}),(0,yR.jsx)("br",{})]})})]})]}),(0,yR.jsx)("br",{}),(0,yR.jsxs)("div",{className:"form-check",children:[(0,yR.jsx)("input",{type:"checkbox",className:"form-check-input",id:"tandC"}),(0,yR.jsxs)("label",{className:"form-check-label",htmlFor:"tandC",children:["I agree with the ",(0,yR.jsx)("a",{href:"./Login",children:"Terms and Conditions"}),"."]})]}),(0,yR.jsxs)("div",{className:"form-check",children:[(0,yR.jsx)("input",{type:"checkbox",className:"form-check-input",id:"privacy"}),(0,yR.jsxs)("label",{className:"form-check-label",htmlFor:"privacy",children:["I agree with the ",(0,yR.jsx)("a",{href:"./Login",children:"Privacy Policy"}),"."]})]}),(0,yR.jsx)("br",{}),(0,yR.jsx)("button",{type:"submit",className:"btn text-capitalize",style:{backgroundColor:"#A2DBB7",borderRadius:"5px",boxShadow:"5px",color:"grey"},children:"Register Account"}),(0,yR.jsx)("br",{}),(0,yR.jsx)("br",{}),(0,yR.jsx)(We,{to:"/sellerLogin",children:(0,yR.jsx)("button",{type:"button",className:"btn btn-link text-muted",style:{textDecoration:"none"},children:"Already have an account? Log in here."})})]}),I&&(0,yR.jsx)("div",{className:"error-msg",children:I}),(0,yR.jsx)("br",{})]})};var pP=function(){var e=l((0,r.useState)(1),2),t=e[0],n=e[1],i=function(e){n(e)},a=l((0,r.useState)(""),2),o=a[0],s=a[1],u=l((0,r.useState)(""),2),c=u[0],f=u[1],h=l((0,r.useState)(""),2),d=h[0],p=h[1],v=l((0,r.useState)(""),2),m=v[0],y=v[1],g=l((0,r.useState)("Choose category"),2),b=g[0],k=g[1],w=l((0,r.useState)([]),2),x=w[0],_=w[1],S=l((0,r.useState)(null),2),I=S[0],E=S[1],T=l((0,r.useState)(null),2),N=T[0],C=T[1];(0,r.useEffect)((function(){vC.onAuthStateChanged((function(e){e&&(E(e.uid),C(e.email))}))})),console.log(I),console.log(N);var j=function(e){switch(e.preventDefault(),mC.collection("SKU + ".concat(I)).doc(I).set({title:o,price:c,stocks:d,text:m,category:b}).then((function(){console.log("successfully added to seller's sku")})).catch((function(e){console.error("Error writing document: ",e)})),b){case"Veggies":null==mC.collection("Veggies").where("title","in",o).get()&&mC.collection("Veggies").doc().set({price:c,qty:1,text:m,title:o});break;case"Fruits":mC.collection("Fruits").doc().set({price:c,qty:1,text:m,title:o});break;case"Sherbs":mC.collection("SHerbs").doc().set({price:c,qty:1,text:m,title:o});break;case"Pantry":mC.collection("Pantry").doc().set({price:c,qty:1,text:m,title:o});break;case"Ulam":mC.collection("Ulam").doc().set({price:c,qty:1,text:m,title:o});break;default:alert("Please select a category")}},A=[];(0,r.useEffect)((function(){vC.onAuthStateChanged((function(e){e&&(mC.collection("Sellers").onSnapshot((function(e){A=e.docs.map((function(e){return Vt({},e.data())}))})),console.log(A)),_(A)}))}),[]),console.log(x),console.log(N);var R=function(){for(var e=0;e<x.length;e++)if(x[e].email!==N);else{console.log(x[e].email);var t=x[e]}return t}();return(0,yR.jsxs)("div",{className:"container mt-5",children:[(0,yR.jsx)("h1",{children:"Seller Center"}),(0,yR.jsxs)("div",{className:"container",children:[(0,yR.jsxs)("ul",{className:"nav nav-tabs",children:[(0,yR.jsx)("li",{className:"nav-item",children:(0,yR.jsx)(We,{className:1===t?"nav-link active":"nav-link","data-bs-toggle":"tab","aria-current":"page",to:"...",onClick:function(){return i(1)},children:"My Profile"})}),(0,yR.jsx)("li",{className:"nav-item",children:(0,yR.jsx)(We,{className:2===t?"nav-link active":"nav-link","data-bs-toggle":"tab",to:"...",onClick:function(){return i(2)},children:"My Items"})}),(0,yR.jsx)("li",{className:"nav-item",children:(0,yR.jsx)(We,{className:3===t?"nav-link active":"nav-link","data-bs-toggle":"tab",to:"...",onClick:function(){return i(3)},children:"Messages"})})]}),(0,yR.jsxs)("div",{className:"tab-content",children:[(0,yR.jsx)("div",{className:1===t?"tab-pane active":"tab-pane",id:"Profile",children:(0,yR.jsxs)("div",{className:"row border g-0 shadow-sm",children:[(0,yR.jsx)("h3",{className:"mb-3",children:"My Profile"}),(0,yR.jsx)("div",{className:"col-3 d-block"}),(0,yR.jsxs)("div",{className:"col-9 p-4",children:[(0,yR.jsxs)("div",{className:"input-group mb-3",children:[(0,yR.jsx)("span",{className:"input-group-text",id:"fName",children:"First Name:"}),(0,yR.jsx)("input",{type:"text",className:"form-control",id:"firstName",disabled:!0}),(0,yR.jsx)("span",{className:"input-group-text",id:"mName",children:"Middle Initial:"}),(0,yR.jsx)("input",{type:"text",className:"form-control",id:"middleName",disabled:!0}),(0,yR.jsx)("span",{className:"input-group-text",id:"lName",children:"Last Name:"}),(0,yR.jsx)("input",{type:"text",className:"form-control",id:"lastName",disabled:!0})]}),(0,yR.jsx)("br",{}),(0,yR.jsxs)("div",{className:"input-group mb-3",children:[(0,yR.jsx)("label",{htmlFor:"phoneNum",className:"input-group-text",children:"Cellphone number:"}),(0,yR.jsx)("input",{type:"tel",className:"form-control",id:"phoneNum",placeholder:"09XXXXXXXXX",maxLength:"11",minLength:"11"})]}),(0,yR.jsx)("br",{}),(0,yR.jsx)("button",{type:"submit",className:"btn btn-info text-capitalize btn-sm",onClick:function(){var e=document.getElementById("phoneNum").value,t=R;console.log(t),t.phone=e,console.log(t.phone),console.log(I),mC.collection("Sellers").doc(I).set({email:t.email,fName:t.fName,lName:t.lName,middle:t.middle,password:t.password,storeName:t.storeName,phone:t.phone},{merge:!0})},children:"Save Changes"})]})]})}),(0,yR.jsx)("div",{className:2===t?"tab-pane active":"tab-pane",id:"Items",children:(0,yR.jsxs)("div",{className:"row border g-0 shadow-sm",children:[(0,yR.jsx)("h1",{children:"Product List"}),(0,yR.jsxs)("form",{onSubmit:j,children:[(0,yR.jsxs)("div",{className:"input-group mb-3",children:[(0,yR.jsxs)("select",{id:"Category",onChange:function(e){return k(e.target.value)},children:[(0,yR.jsx)("option",{value:"Choose",children:"Choose Category"}),(0,yR.jsx)("option",{value:"Veggies",children:"Vegetables"}),(0,yR.jsx)("option",{value:"Fruits",children:"Fruits"}),(0,yR.jsx)("option",{value:"Ulam",children:"Ulam"}),(0,yR.jsx)("option",{value:"Sherbs",children:"Spices and Herbs"}),(0,yR.jsx)("option",{value:"Pantry",children:"Pantry"})]}),(0,yR.jsx)("span",{className:"input-group-text",children:"Product Name"}),(0,yR.jsx)("input",{type:"text",className:"form-control",name:"product_name",value:o,onChange:function(e){return s(e.target.value)}})]}),(0,yR.jsxs)("div",{className:"input-group mb-3 justify-content-center",children:[(0,yR.jsx)("input",{type:"text",className:"form-control",placeholder:"per how many g/pc/kg?",value:m,onChange:function(e){return y(e.target.value)}}),(0,yR.jsx)("span",{className:"input-group-text",children:"Unit Price"}),(0,yR.jsx)("input",{type:"number",name:"unit_price",placeholder:"Unit price",value:c,onChange:function(e){return f(e.target.value)}}),(0,yR.jsx)("span",{className:"input-group-text",children:"Stocks"}),(0,yR.jsx)("input",{type:"number",name:"quantity",value:d,onChange:function(e){return p(e.target.value)}})]}),(0,yR.jsx)("button",{type:"submit",className:"btn btn-info text-capitalize btn-sm",onClick:j,children:"Add Product"})]}),(0,yR.jsxs)("table",{children:[(0,yR.jsx)("thead",{children:(0,yR.jsxs)("tr",{children:[(0,yR.jsx)("th",{children:" Product Name"}),(0,yR.jsx)("th",{children:" Unit Price"}),(0,yR.jsx)("th",{children:" Quantity"})]})}),(0,yR.jsx)("tbody",{})]})]})}),(0,yR.jsx)("div",{className:3===t?"tab-pane active":"tab-pane",id:"Messages",children:(0,yR.jsx)("div",{className:"row border g-0 shadow-sm",children:(0,yR.jsxs)("div",{className:"col p-4",children:[(0,yR.jsx)("h3",{className:"mb-3",children:"Messages"}),(0,yR.jsx)("p",{children:"Thank you for patronizing our platform."}),(0,yR.jsx)("p",{children:"It's a pleasure to serve you."})]})})})]})]})]})};var vP=function(){var e=Se(),t=l((0,r.useState)(""),2),n=t[0],i=t[1],a=l((0,r.useState)(""),2),o=a[0],s=a[1],u=l((0,r.useState)(""),2),c=u[0],f=u[1],h=l((0,r.useState)(""),2),d=h[0],p=h[1],v=l((0,r.useState)(""),2),m=v[0],y=v[1],g=l((0,r.useState)(""),2),b=g[0],k=g[1],w=l((0,r.useState)(""),2),x=w[0],_=w[1],S=l((0,r.useState)(""),2),I=S[0],E=S[1],T=l((0,r.useState)(""),2),N=T[0],C=T[1];return(0,yR.jsx)("div",{children:(0,yR.jsxs)("section",{className:"container mt-5",id:"formSection",children:[N&&(0,yR.jsx)("span",{className:"error-msg",style:{backgroundColor:"red"},children:N}),(0,yR.jsxs)("form",{className:"container border border-secondary rounded p-4",onSubmit:function(t){t.preventDefault(),o!==c?C("passwords do not match!"):(go(vC,n,o,d,b,m,x,I).then((function(t){var n=t.user;console.log(n),i(""),s(""),f(""),p(""),y(""),k(""),_(""),E(""),C(""),e("/produce")})).catch((function(e){return C(e.message)})),mC.collection("Users").doc().set({email:n,cpNum:x,address:I,fName:d,lName:b,middle:m,password:o}))},children:[(0,yR.jsxs)("div",{className:"accordion accordion-flush",id:"RegisterAccount",children:[(0,yR.jsxs)("div",{className:"accordion-item",children:[(0,yR.jsx)("h2",{className:"accordion-header",id:"RegHeading",children:(0,yR.jsx)("button",{className:"accordion-button fw-bold",type:"button","data-bs-toggle":"collapse","data-bs-target":"#RegBody","aria-expanded":"true","aria-controls":"RegBody",children:"Log in details"})}),(0,yR.jsx)("div",{className:"accordion-collapse",id:"RegBody","aria-labelledby":"#RegHeading","data-bs-parent":"#RegisterAccount",children:(0,yR.jsxs)("div",{className:"accordion-body text-justify",children:[(0,yR.jsx)("div",{id:"alertUser"}),(0,yR.jsxs)("div",{className:"input-group",children:[(0,yR.jsx)("label",{className:"input-group-text",htmlFor:"form3Example1c",children:"Email address:"}),(0,yR.jsx)("input",{type:"email",name:"email",id:"form3Example1c",className:"form-control",onChange:function(e){return i(e.target.value)},value:n})]}),(0,yR.jsx)("br",{}),(0,yR.jsxs)("div",{className:"input-group",children:[(0,yR.jsx)("label",{className:"input-group-text",htmlFor:"form3Example2c",children:"Password:"}),(0,yR.jsx)("input",{type:"password",className:"form-control",name:"pass",id:"form3Example2c",onChange:function(e){return s(e.target.value)},value:o}),(0,yR.jsx)("label",{className:"input-group-text",htmlFor:"form3Example3c",children:"Confirm Password:"}),(0,yR.jsx)("input",{type:"password",className:"form-control",name:"cpass",id:"form3Example3c",onChange:function(e){return f(e.target.value)},value:c})]}),(0,yR.jsx)("br",{})]})})]}),(0,yR.jsxs)("div",{className:"accordion-item",children:[(0,yR.jsx)("h2",{className:"accordion-header",id:"PersonalInfo",children:(0,yR.jsx)("button",{className:"accordion-button fw-bold collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#PersonalInfoBody","aria-expanded":"true","aria-controls":"PersonalInfoBody",children:"Personal Information"})}),(0,yR.jsx)("div",{className:"accordion-collapse collapse",id:"PersonalInfoBody","aria-labelledby":"#PersonalInfo","data-bs-parent":"#RegisterAccount",children:(0,yR.jsxs)("div",{className:"accordion-body text-justify",children:[(0,yR.jsxs)("div",{className:"input-group",children:[(0,yR.jsx)("label",{className:"input-group-text",htmlFor:"Example4c",children:"First Name:"}),(0,yR.jsx)("input",{type:"text",className:"form-control",id:"Example4c",name:"firstname",onChange:function(e){return p(e.target.value)},value:d}),(0,yR.jsx)("label",{className:"input-group-text",htmlFor:"form3Example5c",children:"Middle Initial:"}),(0,yR.jsx)("input",{type:"text",className:"form-control",id:"form3Example5c",name:"middlename",onChange:function(e){return y(e.target.value)},value:m}),(0,yR.jsx)("label",{className:"input-group-text",htmlFor:"form3Example6c",children:"Last Name:"}),(0,yR.jsx)("input",{type:"text",className:"form-control",id:"form3Example6c",name:"lastname",onChange:function(e){return k(e.target.value)},value:b})]}),(0,yR.jsx)("br",{}),(0,yR.jsxs)("div",{className:"input-group",children:[(0,yR.jsx)("label",{className:"input-group-text",htmlFor:"form3Example8e1c",children:"Cellphone number:"}),(0,yR.jsx)("input",{type:"tel",className:"form-control",id:"form3Example8e1c",name:"cp_num",onChange:function(e){return _(e.target.value)},placeholder:"09XXXXXXXXX",maxLength:"11",minLength:"11",value:x})]}),(0,yR.jsx)("br",{}),(0,yR.jsx)("div",{className:"border-top",children:(0,yR.jsx)("p",{className:"fw-bold",style:{fontSize:"15px"},children:"Address"})}),(0,yR.jsxs)("div",{className:"input-group",children:[(0,yR.jsx)("label",{htmlFor:"form3Example9c",className:"input-group-text",children:"House Number:"}),(0,yR.jsx)("input",{type:"text",className:"form-control",id:"form3Example9c",name:"address",placeholder:"Address Line 1",onChange:function(e){return E(e.target.value)},value:I})]}),(0,yR.jsx)("br",{})]})})]})]}),(0,yR.jsx)("br",{}),(0,yR.jsxs)("div",{className:"form-check",children:[(0,yR.jsx)("input",{type:"checkbox",className:"form-check-input",id:"tandC",required:!0}),(0,yR.jsxs)("label",{className:"form-check-label",htmlFor:"tandC",children:["I agree with the ",(0,yR.jsx)(We,{to:"",children:"Terms and Conditions"}),"."]})]}),(0,yR.jsxs)("div",{className:"form-check",children:[(0,yR.jsx)("input",{type:"checkbox",className:"form-check-input",id:"privacy",required:!0}),(0,yR.jsxs)("label",{className:"form-check-label",htmlFor:"privacy",children:["I agree with the ",(0,yR.jsx)(We,{to:"",children:"Privacy Policy"}),"."]})]}),(0,yR.jsx)("br",{}),(0,yR.jsx)("input",{type:"submit",className:"btn text-capitalize",name:"submit",style:{backgroundColor:"#A2DBB7",borderRadius:"5px",boxShadow:"5px 5px grey"}}),(0,yR.jsx)("br",{}),(0,yR.jsx)("br",{}),(0,yR.jsxs)("span",{children:["Already have an account? Login",(0,yR.jsx)(We,{to:"/login",children:"Here"})]})]}),(0,yR.jsx)("br",{})]})})};var mP=function(){var e,t=function(){var e=l((0,r.useState)(null),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){vC.onAuthStateChanged((function(e){e&&n(e.uid)}))}),[t,n]),t}(),n=Se(),i=l((0,r.useState)([]),2),a=i[0],o=i[1];(0,r.useEffect)((function(){vC.onAuthStateChanged((function(e){e?mC.collection("'Cart' + ".concat(t)).onSnapshot((function(e){var t=e.docs.map((function(e){return Vt({},e.data())}));o(t)})):console.log("user is not signed in to retrieve cart")}))}),[t]);var s,u=function(){var t=a.map((function(e){return e.Subtotal}));console.log(t),e=t.reduce((function(e,t){return e+t}),0),console.log(e)};return console.log(a),u(),(0,yR.jsxs)("div",{className:"container-fluid",style:{backgroundColor:"#F8FEFA"},children:[(0,yR.jsx)("p",{className:"display-6 text-center text-uppercase",style:{color:"#073418",backgroundColor:"rgba(0, 0, 0, 0.2)"},children:"Shopping Cart"}),(0,yR.jsx)("div",{className:"container-fluid",id:"cartBox",children:(0,yR.jsxs)("table",{className:"table table-hover table-striped",id:"cartContents",children:[(0,yR.jsx)("thead",{children:(0,yR.jsxs)("tr",{children:[(0,yR.jsx)("th",{scope:"col",children:"Image"}),(0,yR.jsx)("th",{scope:"col",children:"Product"}),(0,yR.jsx)("th",{scope:"col",children:"Price"}),(0,yR.jsx)("th",{scope:"col",className:"text-center",children:"Quantity"}),(0,yR.jsx)("th",{scope:"col",children:"Subtotal"}),(0,yR.jsx)("th",{scope:"col",className:"text-center"})]})}),(0,yR.jsxs)("tbody",{children:[a.length>0&&a.map((function(e,n){return(0,yR.jsxs)("tr",{children:[(0,yR.jsx)("td",{children:(0,yR.jsx)("img",{src:e.img,alt:"..",style:{width:"100px",height:"50px"},className:"align-self-center"})}),(0,yR.jsxs)("td",{children:[(0,yR.jsx)("span",{id:"item_name"+e.id}),e.title]}),(0,yR.jsxs)("td",{children:[(0,yR.jsx)("span",{id:"unit_price"+e.id}),"\u20b1",e.price.toFixed(2)]}),(0,yR.jsx)("td",{children:(0,yR.jsx)("div",{className:"input-group mb-3 align-center  mt-auto",children:(0,yR.jsx)("input",{className:"text-center",type:"number",id:e.title,defaultValue:e.qty,min:"1"})})}),(0,yR.jsx)("td",{children:(0,yR.jsx)("input",{type:"number",id:"subtotal"+e.title,className:"align-self-center text-center",defaultValue:e.Subtotal,disabled:!0})}),(0,yR.jsx)("td",{children:(0,yR.jsx)("button",{className:"btn shadow",style:{backgroundColor:"#A2DBB7"},id:e.id,onClick:function(){return(s=n=e).qty=document.getElementById(n.title).value,console.log(s.id),console.log(s.qty),s.Subtotal=s.qty*s.price,document.getElementById("subtotal"+n.title).value=s.Subtotal,void vC.onAuthStateChanged((function(e){e?(mC.collection("'Cart' + ".concat(t)).where("title","==",n.title).get().then((function(e){e.forEach((function(e){e.ref.update(s)})),console.log("Entire Document has been deleted successfully.")})),u()):console.log("user is not logged in to change quantity")}));var n},children:"Update"})}),(0,yR.jsx)("td",{children:(0,yR.jsx)("button",{className:"btn btn-danger",id:e.id,onClick:function(){return function(e){console.log(e.title),(s=e).qty=document.getElementById(e.title).value,console.log(s.id),console.log(s.qty),s.Subtotal=s.qty*s.price,document.getElementById("subtotal"+e.title).value=s.Subtotal;var n=mC.collection("'Cart' + ".concat(t)).where("title","==",e.title).get();console.log(n),n.then((function(e){e.forEach((function(e){e.ref.delete()})),console.log("Entire Document has been deleted successfully.")})),u()}(e)},children:"Remove"})})]},n)})),a.length<1&&(0,yR.jsx)("tr",{children:(0,yR.jsx)("td",{children:(0,yR.jsx)("p",{className:"text-center fw-bold bg-warning",children:"Your cart is empty! Add some items to checkout."})})})]})]})}),(0,yR.jsx)("hr",{}),(0,yR.jsx)("div",{className:"container-fluid",children:(0,yR.jsxs)("div",{className:"row",children:[(0,yR.jsxs)("div",{className:"col ms-3",children:[(0,yR.jsx)("label",{children:"Special Instructions to the Seller:"}),(0,yR.jsx)("br",{}),(0,yR.jsx)("textarea",{className:"border shadow-sm p-1",rows:"5",cols:"45",style:{resize:"none"}})]}),(0,yR.jsxs)("div",{className:"col",children:[(0,yR.jsx)("br",{}),(0,yR.jsxs)("table",{className:"table table-bordered table-hover table-striped",id:"cartContents",children:[(0,yR.jsx)("thead",{children:(0,yR.jsx)("tr",{className:"text-center",children:(0,yR.jsx)("th",{colSpan:"2",children:"Cart Totals"})})}),(0,yR.jsxs)("tbody",{children:[(0,yR.jsxs)("tr",{children:[(0,yR.jsx)("th",{scope:"row",children:"Total"}),(0,yR.jsxs)("th",{id:"totalPrice",children:["\u20b1",e.toFixed(2)]})]}),(0,yR.jsx)("tr",{className:"text-end",children:(0,yR.jsx)("td",{colSpan:"2",children:(0,yR.jsx)("button",{className:"btn shadow",style:{backgroundColor:"#A2DBB7"},onClick:function(){mC.collection("Buyer + ".concat(t)).add({cartItems:a}).catch((function(e){console.log("Error adding documents: "+e)})),mC.collection("'Cart' + ".concat(t)).get().then((function(e){e.forEach((function(e){e.ref.delete()})),console.log("Entire Document has been deleted successfully.")})),alert("Your order has been successfully placed."),n("/")},children:"Checkout via Cash on Delivery"})})})]})]})]})]})}),(0,yR.jsx)("br",{}),(0,yR.jsx)("div",{className:"container-fluid"}),(0,yR.jsx)("br",{}),(0,yR.jsx)("br",{}),(0,yR.jsx)("br",{}),(0,yR.jsxs)("div",{className:"container d-sm-block text-center",children:[(0,yR.jsx)("p",{className:"h4",style:{background:"rgba(0, 0, 0, 0.1)"},children:"Items you might like"}),(0,yR.jsxs)(AR,{className:"g-2 m-1 d-inline-flex justify-content-center",children:[(0,yR.jsx)(DR,{children:(0,yR.jsxs)("div",{className:"col-12 col-lg-3 col-md-3 card p-0 h-100 overflow-auto",style:{color:"#073418"},children:[(0,yR.jsx)("img",{src:HR,alt:"ulam",className:"card-img img-thumbnail"}),(0,yR.jsxs)("div",{className:"card-body d-flex flex-column",style:{background:"rgba(0, 0, 0, 0.1)"},children:[(0,yR.jsx)("h5",{className:"card-title",children:"Ulam Bundles"}),(0,yR.jsx)(We,{to:"/best",className:"btn mt-auto",style:{backgroundColor:"#A2DBB7"},children:"Shop Now"})]})]})}),(0,yR.jsx)(DR,{children:(0,yR.jsxs)("div",{className:"col-12 col-lg-3 col-md-3 card p-0 h-100 overflow-auto",style:{color:"#073418"},children:[(0,yR.jsx)("img",{src:GR,alt:"salad",className:"card-img img-thumbnail"}),(0,yR.jsxs)("div",{className:"card-body d-flex flex-column",style:{background:"rgba(0, 0, 0, 0.1)"},children:[(0,yR.jsx)("h5",{className:"card-title",children:"Salad Set"}),(0,yR.jsx)(We,{to:"/best",className:"btn mt-auto",style:{backgroundColor:"#A2DBB7"},children:"Shop Now"})]})]})}),(0,yR.jsx)(DR,{children:(0,yR.jsxs)("div",{className:"col-12 col-lg-3 col-md-3 card p-0 h-100 overflow-auto",style:{color:"#073418"},children:[(0,yR.jsx)("img",{src:QR,alt:"pantry",className:"card-img img-thumbnail"}),(0,yR.jsxs)("div",{className:"card-body d-flex flex-column",style:{background:"rgba(0, 0, 0, 0.1)"},children:[(0,yR.jsx)("h5",{className:"card-title",children:"Pantry Essentials"}),(0,yR.jsx)(We,{to:"/best",className:"btn mt-auto",style:{backgroundColor:"#A2DBB7"},children:"Shop Now"})]})]})})]})]}),(0,yR.jsx)("br",{}),(0,yR.jsx)("div",{className:"modal fade",id:"confirmCO",tabIndex:"-1",children:(0,yR.jsx)("div",{className:"modal-dialog",children:(0,yR.jsxs)("div",{className:"modal-content",children:[(0,yR.jsxs)("div",{className:"modal-header",children:[(0,yR.jsx)("h5",{className:"modal-title text-center",id:"modalTitle",children:"Confirm Check-out via COD"}),(0,yR.jsx)("button",{className:"btn-close",type:"button","data-bs-dismiss":"modal","aria-label":"close"})]}),(0,yR.jsxs)("div",{className:"modal-body",children:[(0,yR.jsxs)("p",{children:["Total amount to pay via delivery is ",(0,yR.jsx)("strong",{children:"\u20b1"})]}),(0,yR.jsx)("br",{}),(0,yR.jsx)("a",{href:"CheckOut.html",className:"text-end m-auto p-3",children:(0,yR.jsx)("button",{className:"btn",style:{backgroundColor:"#A2DBB7",borderRadius:"5px",boxShadow:"5px 5px grey"},children:"Proceed"})})]})]})})})]})};var yP=function(e){var t=l((0,r.useState)(""),2),n=t[0],i=t[1],a=l((0,r.useState)(""),2),o=a[0],s=a[1],u=l((0,r.useState)(""),2),c=u[0],f=u[1],h=Se();return(0,yR.jsxs)("section",{className:"container mt-2 w-25",children:[(0,yR.jsx)("p",{className:"h4  text-center",children:"Seller Login"}),(0,yR.jsx)("br",{}),(0,yR.jsx)("br",{}),(0,yR.jsx)("div",{className:"mb-3",children:(0,yR.jsxs)("form",{className:"logIn container border border-secondary rounded p-4",style:{padding:"5rem 2.5rem",borderRadius:"1rem",border:"1px solid transparent",backdropFilter:"blur (1rem)",boxShadow:"1.3rem 1.3rem 1.3rem rgba(0,0,0, 0.5)",borderTopColor:"rgba(225, 225, 225, 225, 0.5)",borderLeftColor:"rgba(225, 225, 225, 225, 0.5)",borderBottomColor:"rgba(225, 225, 225, 225, 0.5)",borderRightColor:"rgba(225, 225, 225, 225, 0)"},children:[(0,yR.jsxs)("div",{className:"mail",children:[(0,yR.jsx)("label",{className:"form-label",children:"Email address"}),(0,yR.jsx)("input",{type:"text",name:"email",id:"email",className:"form-control",placeholder:"example@gmail.com",value:n,onChange:function(e){return i(e.target.value)}})]}),(0,yR.jsx)("br",{}),(0,yR.jsxs)("div",{className:"mb-3",children:[(0,yR.jsx)("label",{className:"form-label",children:"Password"}),(0,yR.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",value:o,onChange:function(e){return s(e.target.value)},required:!0})]}),(0,yR.jsx)("br",{}),(0,yR.jsx)("button",{type:"button",className:"btn",style:{backgroundColor:"#A2DBB7",borderRadius:"5px",padding:"5px",boxShadow:"5px 5px grey"},onClick:function(e){e.preventDefault(),vC.signInWithEmailAndPassword(n,o).then((function(){i(""),s(""),f(""),h("/sellerCenter")})).catch((function(e){return f(e.message)}))},children:"Log in"}),(0,yR.jsx)("br",{}),(0,yR.jsx)("p",{children:"No account yet?"}),(0,yR.jsx)(We,{type:"button",className:"text-muted",to:"/farmerPartner",style:{textDecoration:"none"},children:"Register here"})]})}),(0,yR.jsx)("div",{className:"modal fade",id:"forgotPw",tabIndex:"-1",children:(0,yR.jsx)("div",{className:"modal-dialog",children:(0,yR.jsxs)("div",{className:"modal-content",children:[(0,yR.jsxs)("div",{className:"modal-header",children:[(0,yR.jsx)("h5",{className:"modal-title text-center",id:"modalTitle",children:"Forgot Password"}),(0,yR.jsx)("button",{className:"btn-close",type:"button","data-bs-dismiss":"modal","aria-label":"close"})]}),(0,yR.jsxs)("form",{name:"ValidFormModal",children:[(0,yR.jsxs)("div",{className:"modal-body",children:[(0,yR.jsx)("p",{className:"fst-italic",children:"Input your email address so we can send you a link to reset your password."}),(0,yR.jsxs)("div",{className:"input-group mb-3",children:[(0,yR.jsx)("span",{className:"input-group-text",id:"modalEmailUser",children:"Email address:"}),(0,yR.jsx)("input",{type:"email",name:"ValidForgetPass",id:"modalemail",className:"form-control"})]})]}),(0,yR.jsx)("div",{className:"modal-footer",children:(0,yR.jsx)("button",{className:"btn",type:"button",style:{backgroundColor:"#A2DBB7",borderRadius:"5px",boxShadow:"5px 5px grey"},children:"OK"})})]}),c&&(0,yR.jsx)("span",{className:"error-msg",children:c})]})})})]})};var gP=function(){return(0,yR.jsx)("div",{className:"App",children:(0,yR.jsxs)(ze,{children:[(0,yR.jsx)(gR,{}),(0,yR.jsx)("div",{children:(0,yR.jsxs)(Me,{children:[(0,yR.jsx)(De,{path:"/",element:(0,yR.jsx)(nP,{})}),(0,yR.jsx)(De,{path:"/login",element:(0,yR.jsx)(wR,{})}),(0,yR.jsx)(De,{path:"/produce",element:(0,yR.jsx)(cP,{})}),(0,yR.jsx)(De,{path:"/login",element:(0,yR.jsx)(wR,{})}),(0,yR.jsx)(De,{path:"/about",element:(0,yR.jsx)(fP,{})}),(0,yR.jsx)(De,{path:"/help",element:(0,yR.jsx)(hP,{})}),(0,yR.jsx)(De,{path:"/farmerPartner",element:(0,yR.jsx)(dP,{})}),(0,yR.jsx)(De,{path:"/veggies",element:(0,yR.jsx)(aP,{})}),(0,yR.jsx)(De,{path:"/fruits",element:(0,yR.jsx)(sP,{})}),(0,yR.jsx)(De,{path:"/sherbs",element:(0,yR.jsx)(oP,{})}),(0,yR.jsx)(De,{path:"/best",element:(0,yR.jsx)(uP,{})}),(0,yR.jsx)(De,{path:"/registration",element:(0,yR.jsx)(vP,{})}),(0,yR.jsx)(De,{path:"/sellerCenter",element:(0,yR.jsx)(pP,{})}),(0,yR.jsx)(De,{path:"/cart",element:(0,yR.jsx)(mP,{})}),(0,yR.jsx)(De,{path:"/sellerLogin",element:(0,yR.jsx)(yP,{})})]})}),(0,yR.jsx)(kR,{}),(0,yR.jsx)(bR,{})]})})},bP=function(e){var t,n=ZA(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,s=void 0===o?n():o,u=r.devTools,c=void 0===u||u,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!XA(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=jA(a)}var p=s;"function"===typeof p&&(p=p(n));var v=RA.apply(void 0,p),m=AA;c&&(m=$A(KA({trace:!1},"object"===typeof c&&c)));var y=[v];return Array.isArray(d)?y=FA([v],d):"function"===typeof d&&(y=d(y)),CA(t,f,m.apply(void 0,y))}({reducer:jA({auth:mR})}),kP=bP;a.createRoot(document.getElementById("root")).render((0,yR.jsx)(r.StrictMode,{children:(0,yR.jsx)(yj,{store:kP,children:(0,yR.jsx)(gP,{})})}))}()}();
//# sourceMappingURL=main.da1fc977.js.map